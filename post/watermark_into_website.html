<!DOCTYPE html><html lang="ko-KR"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1"/><link rel="canonical" href="https://blog.litehell.info/post/watermark_into_website"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/rss"/><link rel="alternate" type=" application/atom+xml" title="Atom 1.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/atom"/><link rel="alternate" type="application/feed+json" title="Json 1.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/json"/><meta property="og:title" content="웹사이트에 워터마크 추가하기"/><meta property="og:description" content="캡쳐를 추적하는 스누라이프처럼"/><meta property="og:locale" content="ko_KR"/><meta property="og:type" content="article"/><meta property="og:site_name" content="LiteHell의 블로그"/><meta property="og:url" content="https://blog.litehell.info/post/watermark_into_website"/><meta property="og:image" content="https://blog.litehell.info/img/watermark_example.png"/><title>LiteHell의 블로그 - <!-- -->웹사이트에 워터마크 추가하기</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/vs2015.min.css"/><meta name="next-head-count" content="16"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CZL0E8YDPW"></script><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5916984077364289" crossorigin="anonymous"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-CZL0E8YDPW', { page_path: window.location.pathname });
            </script><link rel="preload" href="/_next/static/css/27d177a30947857b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/27d177a30947857b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/088d29430e0ecbdb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/088d29430e0ecbdb.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-ad45764ecfcae9e5.js" defer=""></script><script src="/_next/static/chunks/main-ee0cf4b7f81d7c24.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a96cacb95f41a3ef.js" defer=""></script><script src="/_next/static/chunks/996-c5e5aa4c30f33066.js" defer=""></script><script src="/_next/static/chunks/503-25bfb158f613fce4.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bid%5D-b722ca2857677f7b.js" defer=""></script><script src="/_next/static/awhFjBdq9zgQaqX8Z7gzv/_buildManifest.js" defer=""></script><script src="/_next/static/awhFjBdq9zgQaqX8Z7gzv/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_body__O2_kC"><header class="Layout_header__M_IZ8"><div class="Layout_container__z4qWC"><h1><a href="/">LiteHell의 블로그</a></h1><div class="Layout_outLinks__XBNs_">외부고리 : <a href="https://litehell.info">Homepage</a><a href="https://github.com/LiteHell">GitHub</a><a href="https://linkedin.com/in/LiteHell">LinkedIn</a><a href="https://keybase.io/LiteHell">Keybase</a><a href="mailto:litehell@litehell.info">Email</a></div><div class="Layout_inLinks__f7gmD">내부고리 : <a href="/category">카테고리</a><a href="/tag">태그</a></div></div></header><main class="Layout_mainContainer__5WZfx"><div class="Layout_container__z4qWC"><div class="Blog_header__r4wcZ"><div class="Blog_title___OFu6"><h1>웹사이트에 워터마크 추가하기</h1><h2>캡쳐를 추적하는 스누라이프처럼</h2></div><p>3/28/2022, 6:45:14 AM<!-- -->에 <!-- -->LiteHell<!-- -->이(가) 작성<!-- -->함<br/><span>카테고리 : <a href="/category/Dev">Dev</a><br/></span><span>태그 : <span class="Blog_tag__RW5VK"><a href="/tag/CSS">CSS</a></span><br/></span></p></div><section class="Blog_article__WZp3G"><h1 id="워터마크">워터마크</h1>
<p>워터마크란 무엇일까? 워터마크는 이미지나 비디오등에 삽입되는 표지로, 주로 저작권 정보를 삽입하거나 보안상의 이유로 이용한 사람이 누구인지를 표시할 때 이용된다.</p>
<p>웹사이트에 워터마크를 삽입하는 방법은 뭐가 있을까? 가장 쉬운 방법은 배경에 넣는 방법이다. 그러나 배경에 워터마크를 넣으면 배경 위의 글자가 워터마크를 가린다. 이보다 더 나은 방법이 있지 않을까? 오늘은 필자가 웹사이트에 워터마크를 넣은 이야기를 짧게 풀어보고자 한다.</p>
<h2 id="구상">구상</h2>
<p>워터마크를 넣으려면 어떻게 해야할까?</p>
<p>첫째, 워터마크는 글자나 사진 등에 의해 가려서는 안 된다. 단순하게 background CSS로 워터마크를 넣으면 (위치를 교묘하게 하지 않는 이상) 앞서 말했듯 글자나 사진에 의해 가려질 것이다.</p>
<p>둘째, 워터마크는 최대한 제거하기 어렵게 해야한다. 빈 공간 한 구석에 워터마크가 덩그러니 있다면 그냥 그림판으로 지워버리면 된다. 글자나 사진과 같은 컨텐츠 위에 덧붙여진 워터마크가 지우려는 사람 입장에서 가장 짜증날 것이다.</p>
<p>위 두가지를 만족하게 하는 방법은 간단하다. HTML의 모든 요소들의 맨 위에서 희미한 워터마크를 무한반복하는 요소를 만들면 된다.</p>
<h2 id="스케치">스케치</h2>
<p>간단히 생각해보자. 먼저 서버측에서 다음과 같은 워터마크를 생성하는 <code>/watermark</code> 엔드포인트를 만든다. 해당 예시의 배경색은 완전한 투명으로 하고, 글자에도 70% 정도의 불투명도를 적용한다.</p>
<p><img src="/img/watermark_example.png" alt="워터마크 예시"></p>
<p>이제 모든 요소들의 위에서 위 워터마크를 삽입하면 된다. 방법은 간단하다. 다음 HTML과 CSS를 삽입하면 된다. <code>background-repeat</code> 속성은 기본값이 <code>repeat</code>이므로 굳이 설정할 필요가 없다.</p>
<pre><code class="hljs language-HTML"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;simple_watermark&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs language-css"><span class="hljs-selector-class">.simple_watermark</span> {
    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">999</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;/watermark&quot;</span>);
    <span class="hljs-attribute">position</span>: fixed;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}</code></pre>
<p>간단하다. 그러나 위 방법의 한가지 문제점이 있다. <strong>웹사이트가 클릭이 안 된다.</strong> 생각해보면 당연한 일이다. 모든 요소들의 맨 위에 아무것도 없는 워터마크 요소가 덩그라니 있을테고, 클릭하면 해당 요소를 클릭하게 될테니 클릭이 정상적으로 안 되는 게 정상이다. 그렇다면 웹 사이트를 정상적으로 이용할 수 있게 하려면 어떻게 해야할까?</p>
<h3 id="pointer-events-css">pointer-events CSS</h3>
<p>포인터가 해당 워터마크 요소를 투과하도록 하면 된다. <code>pointer-events</code> CSS를 이용하면 된다. <code>pointer-events</code> 속성이 <code>none</code>이 되면 포인터가 해당 요소를 <strong>뚫고</strong> 들어가게 된다.</p>
<blockquote>
<p>none 값의 경우 요소가 포인터 이벤트의 대상이 아님을 가리키는 동시에, 이벤트가 요소를 &quot;뚫고&quot; 들어가 &quot;아래&quot; 요소를 대상으로 하도록 만듭니다.</p>
<p>-- <a href="https://developer.mozilla.org/ko/docs/Web/CSS/pointer-events">MDN pointer-events 문서</a></p>
</blockquote>
<p>물론, 자식 요소들 중 하나가 <code>pointer-events</code> 속성을 명시적으로 허용했다면, 해당 CSS는 의미가 없게 된다. 그러나 위 예시의 HTML에는 자식 요소가 없으므로 신경쓰지 않아도 된다.</p>
<p>따라서 CSS에 <code>pointer-events: none;</code> 한 줄을 추가하면 완벽해진다.</p>
<pre><code class="hljs language-css"><span class="hljs-selector-class">.simple_watermark</span> {
    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">999</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;/watermark&quot;</span>);
    <span class="hljs-attribute">pointer-events</span>: none;
    <span class="hljs-attribute">position</span>: fixed;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}</code></pre>
<h2 id="결론">결론</h2>
<p>웹사이트에 워터마크를 간단하게 넣는 방법을 알아보았다. 위와 같이 <code>pointer-events</code> CSS를 곁들이면 간단한 투명 워터마크를 만들 수 있다. 물론 투명 워터마크를 위해서는 위 예시 이미지와 같이 워터마크 자체가 투명해야 한다. 이를 위해 레스터 이미지로 작업하는 게 귀찮을 수 있다. 그렇다면 SVG를 이용해 투명 워터마크를 만들면 된다. SVG로 만드는 편이 더 간단하기도 하다.</p>
<p>누군가는 이렇게 물을 수 있다: &quot;개발자도구를 이용하면 워터마크를 삭제할 수 있지 않느냐?&quot;. 이 글에서 해당 질문에는 답변하지 않겠다. 이러한 것들까지 어렵게(정확히는 귀찮게) 하는 것은 독자의 몫이다.</p>
</section><div class="Comments_blogComments__GRWmY"></div><nav class="Blog_postNav__ivy8_ Blog_hasBoth__3MRPr"><div class="Blog_leftAnchor__HhzIP"><a href="/post/retrospective_of_2021"><div class="Blog_postDescription__eV92_"><div class="Blog_title___OFu6">2021년의 회고</div><div class="Blog_subtitle__RRFh7">코로나와 군대</div></div></a></div><div class="Blog_rightAnchor__B9n7B"><a href="/post/review_of_gdg_songdo_devfest_songdo_2022"><div class="Blog_postDescription__eV92_"><div class="Blog_title___OFu6">GDG Devfest Songdo 2022 다녀온 후기</div><div class="Blog_subtitle__RRFh7">GCP와 Flutter, AI에 관한 이야기</div></div></a></div></nav></div></main><footer class="Layout_footer__bKkxe"><div class="Layout_container__z4qWC"><a href="https://www.gnu.org/licenses/agpl-3.0.en.html"><img alt="GNU Affero General License Version 3" src="https://www.gnu.org/graphics/agplv3-with-text-100x42.png" style="height:31px"/></a> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"/></a><br/>Copyrights (C) 2020 LiteHell, All rights reserved.<br/><div class="Layout_visibleOnPrintOnly__UK6Yl">LiteHell&#x27;s Blog - <a href="https://blog.litehell.info">https://blog.litehell.info</a><br/>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.<br/><br/>Url of this article: <a href="https://blog.litehell.info/post/watermark_into_website">https://blog.litehell.info/post/watermark_into_website</a><br/></div><div class="Layout_invisibleOnPrint__rdrDv">Fox Image : Copyrights (C) 2004 Shiretoko-Shari Torurist Association<br/><a href="/license">This blog is free software; For source code and more informations on license and copyrights, Click here.</a><br/><br/>Feeds : <a href="/feed/rss">RSS 2.0</a>,<!-- --> <a href="/feed/atom">Atom 1.0</a>, <a href="/feed/json">Json 1.0</a></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"metadata":{"title":"웹사이트에 워터마크 추가하기","subtitle":"캡쳐를 추적하는 스누라이프처럼","author":"LiteHell","date":"2022-03-28T06:45:14.399Z","category":"Dev","tags":["CSS"]},"rendered":"\u003ch1 id=\"워터마크\"\u003e워터마크\u003c/h1\u003e\n\u003cp\u003e워터마크란 무엇일까? 워터마크는 이미지나 비디오등에 삽입되는 표지로, 주로 저작권 정보를 삽입하거나 보안상의 이유로 이용한 사람이 누구인지를 표시할 때 이용된다.\u003c/p\u003e\n\u003cp\u003e웹사이트에 워터마크를 삽입하는 방법은 뭐가 있을까? 가장 쉬운 방법은 배경에 넣는 방법이다. 그러나 배경에 워터마크를 넣으면 배경 위의 글자가 워터마크를 가린다. 이보다 더 나은 방법이 있지 않을까? 오늘은 필자가 웹사이트에 워터마크를 넣은 이야기를 짧게 풀어보고자 한다.\u003c/p\u003e\n\u003ch2 id=\"구상\"\u003e구상\u003c/h2\u003e\n\u003cp\u003e워터마크를 넣으려면 어떻게 해야할까?\u003c/p\u003e\n\u003cp\u003e첫째, 워터마크는 글자나 사진 등에 의해 가려서는 안 된다. 단순하게 background CSS로 워터마크를 넣으면 (위치를 교묘하게 하지 않는 이상) 앞서 말했듯 글자나 사진에 의해 가려질 것이다.\u003c/p\u003e\n\u003cp\u003e둘째, 워터마크는 최대한 제거하기 어렵게 해야한다. 빈 공간 한 구석에 워터마크가 덩그러니 있다면 그냥 그림판으로 지워버리면 된다. 글자나 사진과 같은 컨텐츠 위에 덧붙여진 워터마크가 지우려는 사람 입장에서 가장 짜증날 것이다.\u003c/p\u003e\n\u003cp\u003e위 두가지를 만족하게 하는 방법은 간단하다. HTML의 모든 요소들의 맨 위에서 희미한 워터마크를 무한반복하는 요소를 만들면 된다.\u003c/p\u003e\n\u003ch2 id=\"스케치\"\u003e스케치\u003c/h2\u003e\n\u003cp\u003e간단히 생각해보자. 먼저 서버측에서 다음과 같은 워터마크를 생성하는 \u003ccode\u003e/watermark\u003c/code\u003e 엔드포인트를 만든다. 해당 예시의 배경색은 완전한 투명으로 하고, 글자에도 70% 정도의 불투명도를 적용한다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/img/watermark_example.png\" alt=\"워터마크 예시\"\u003e\u003c/p\u003e\n\u003cp\u003e이제 모든 요소들의 위에서 위 워터마크를 삽입하면 된다. 방법은 간단하다. 다음 HTML과 CSS를 삽입하면 된다. \u003ccode\u003ebackground-repeat\u003c/code\u003e 속성은 기본값이 \u003ccode\u003erepeat\u003c/code\u003e이므로 굳이 설정할 필요가 없다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-HTML\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;simple_watermark\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-class\"\u003e.simple_watermark\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ez-index\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e999\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003ebackground\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003eurl\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/watermark\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-attribute\"\u003eposition\u003c/span\u003e: fixed;\n    \u003cspan class=\"hljs-attribute\"\u003eleft\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003etop\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e간단하다. 그러나 위 방법의 한가지 문제점이 있다. \u003cstrong\u003e웹사이트가 클릭이 안 된다.\u003c/strong\u003e 생각해보면 당연한 일이다. 모든 요소들의 맨 위에 아무것도 없는 워터마크 요소가 덩그라니 있을테고, 클릭하면 해당 요소를 클릭하게 될테니 클릭이 정상적으로 안 되는 게 정상이다. 그렇다면 웹 사이트를 정상적으로 이용할 수 있게 하려면 어떻게 해야할까?\u003c/p\u003e\n\u003ch3 id=\"pointer-events-css\"\u003epointer-events CSS\u003c/h3\u003e\n\u003cp\u003e포인터가 해당 워터마크 요소를 투과하도록 하면 된다. \u003ccode\u003epointer-events\u003c/code\u003e CSS를 이용하면 된다. \u003ccode\u003epointer-events\u003c/code\u003e 속성이 \u003ccode\u003enone\u003c/code\u003e이 되면 포인터가 해당 요소를 \u003cstrong\u003e뚫고\u003c/strong\u003e 들어가게 된다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003enone 값의 경우 요소가 포인터 이벤트의 대상이 아님을 가리키는 동시에, 이벤트가 요소를 \u0026quot;뚫고\u0026quot; 들어가 \u0026quot;아래\u0026quot; 요소를 대상으로 하도록 만듭니다.\u003c/p\u003e\n\u003cp\u003e-- \u003ca href=\"https://developer.mozilla.org/ko/docs/Web/CSS/pointer-events\"\u003eMDN pointer-events 문서\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e물론, 자식 요소들 중 하나가 \u003ccode\u003epointer-events\u003c/code\u003e 속성을 명시적으로 허용했다면, 해당 CSS는 의미가 없게 된다. 그러나 위 예시의 HTML에는 자식 요소가 없으므로 신경쓰지 않아도 된다.\u003c/p\u003e\n\u003cp\u003e따라서 CSS에 \u003ccode\u003epointer-events: none;\u003c/code\u003e 한 줄을 추가하면 완벽해진다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-class\"\u003e.simple_watermark\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ez-index\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e999\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003ebackground\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003eurl\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/watermark\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-attribute\"\u003epointer-events\u003c/span\u003e: none;\n    \u003cspan class=\"hljs-attribute\"\u003eposition\u003c/span\u003e: fixed;\n    \u003cspan class=\"hljs-attribute\"\u003eleft\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003etop\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"결론\"\u003e결론\u003c/h2\u003e\n\u003cp\u003e웹사이트에 워터마크를 간단하게 넣는 방법을 알아보았다. 위와 같이 \u003ccode\u003epointer-events\u003c/code\u003e CSS를 곁들이면 간단한 투명 워터마크를 만들 수 있다. 물론 투명 워터마크를 위해서는 위 예시 이미지와 같이 워터마크 자체가 투명해야 한다. 이를 위해 레스터 이미지로 작업하는 게 귀찮을 수 있다. 그렇다면 SVG를 이용해 투명 워터마크를 만들면 된다. SVG로 만드는 편이 더 간단하기도 하다.\u003c/p\u003e\n\u003cp\u003e누군가는 이렇게 물을 수 있다: \u0026quot;개발자도구를 이용하면 워터마크를 삭제할 수 있지 않느냐?\u0026quot;. 이 글에서 해당 질문에는 답변하지 않겠다. 이러한 것들까지 어렵게(정확히는 귀찮게) 하는 것은 독자의 몫이다.\u003c/p\u003e\n"},"articleId":"watermark_into_website","previousPost":{"name":"retrospective_of_2021","metadata":{"title":"2021년의 회고","subtitle":"코로나와 군대","author":"LiteHell","date":"2022-02-12T12:16:55.084Z","category":"Life","tags":["Retrospective"],"last_modified_at":"2022-11-19T17:07:57.764Z"},"rendered":"\u003ch1 id=\"들어가는-말\"\u003e들어가는 말\u003c/h1\u003e\n\u003cp\u003e블로그를 만들었는데 쓸거리가 없다. 하기야 군대에서 스마트폰만 만지막거리며 놀고 있으니 그럴 것이다. 블로그를 썩히고 있는 것이 눈에 보여서 뭐라도 쓸까 생각하다가 회고를 안 한 것이 떠올라 이제서야 쓰려한다.\u003c/p\u003e\n\u003cp\u003e돌이켜보면 애매한 타이밍이긴 하다. 2월이니 연초는 맞긴 맞는데, 회고를 쓸 타이밍은 아닌 것 같은 타이밍. 보통 회고는 1월 초에 쓰는 게 무언의 관례니까. 뭐 어떻겠는가, 타이밍이 어쨌든간에 내가 쓰고 싶을 때 쓰면 되는 것이다.\u003c/p\u003e\n\u003cp\u003e작년을 간략하게 요약하면 코로나와 군대의 해였다. 코로나때문에 집에서만 지내다가 군대에 들어간 순간 시간이 사라졌다. 올해에는 코로나 팬데믹이 끝나기를 소망하며, 지금부터 회고를 시작한다.\u003c/p\u003e\n\u003ch1 id=\"마지막-불꽃-13월\"\u003e마지막 불꽃 (1~3월)\u003c/h1\u003e\n\u003cp\u003e2021년 3월에 입대가 결정됐다. 3월에 군대가서 전역하면 내년 12월, 복학하기에 큰 무리없는 시기이다. 이를 위해 자격증을 따고 헌혈을 하고 학교증명서를 뗐다. 군대도 스펙을 준비해야 한다니, 우리나라 사람들은 줄세우기를 참 좋아하는 것 같다. 군대와 관련된 이야기를 하면 무심코 어릴 적의 기억이 떠오른다, 한때 통일돼서 군대 안 가기를 기도하던 어린 시절이... 나에게도 그런 순수한 시절이 있었으매, 세월은 느리게 가는 듯하면서도 빠르게 흘러감을 상기한다.\u003c/p\u003e\n\u003cp\u003e이제 영장의 주사위는 굴러졌으니, 3월에 군대를 가기 전에 열심히 코딩하고 친구들 만나고 놀고 먹고 다니기로 결심했다. 훈련소에 들어가면 다시는 못 만날 친구들이오, 하기 어려울 코딩일텐데, 지금 최대한으로 해야 후회하지 않을테니까.\u003c/p\u003e\n\u003cp\u003e따라서 코딩을 적극적으로 하기 시작했다. 교내 커뮤니티 서비스인 \u003ca href=\"https://eodiro.com\"\u003e어디로\u003c/a\u003e에 \u003ca href=\"https://github.com/payw-org/eodiro-server/pull/68\"\u003ePR\u003c/a\u003e도 내고, 지금 보고 있는 \u003ca href=\"https://github.com/litehell/litehell-blog\"\u003e블로그\u003c/a\u003e도 이때 완성했다. 현재 \u003ca href=\"https://caumd.club\"\u003e만화두레 홈페이지\u003c/a\u003e을 만드는 데 쓰인 \u003ca href=\"https://github.com/ManhwaDurae/fullcards\"\u003efullcards 프로젝트\u003c/a\u003e도 1월부터 3월까지 firebase를 배우며 만들었다. (\u003ca href=\"https://blog.litehell.info/post/first_use_of_firebase\"\u003e관련 블로그 글\u003c/a\u003e) 관계형 DB 스카마를 설계하기가 귀찮아서 firebase를 골랐는데, 빠르게 개발하는 데엔 나쁘지 않은 선택지이다. 지금 잘 굴러가는 만화두레 회원관리 사이트(\u003ca href=\"https://github.com/ManhwaDurae/manduid-backend\"\u003e백엔드\u003c/a\u003e, \u003ca href=\"https://github.com/ManhwaDurae/manduid-frontend\"\u003e프론트엔드\u003c/a\u003e)도 이때 많은 버그를 수정하고 여러 기능들을 개선했다.\u003c/p\u003e\n\u003cp\u003e그리고 2~3월동안 내 서버에서 돌아가던 모든 것들을 도커화했다. 여러 노드를 유동적으로 만들어야 하거나 로드밸런싱이 필요한 규모의 서비스는 없었기에, 단순하게 docker-compose를 이용해 서버내 서비스들을 각각 하나의 컨테이너들로 도커화했다. 그 전에는 \u003ca href=\"https://pm2.keymetrics.io/\"\u003epm2\u003c/a\u003e를 썼는데, Docker를 쓰니 확실히 편하긴 했다.\u003c/p\u003e\n\u003ch1 id=\"군대\"\u003e군대\u003c/h1\u003e\n\u003cp\u003e3월에 진주로 내려와 입대했다. 코로나19 때문에 입영식같은 행사는 없었다. 차에서 내려 부모님과 헤어진 후 조교들의 지시에 따라 PCR검사를 받고 터벅터벅 생활관으로 걸어갔다. 그 걸어가는 길의 첫 인상은 주머니에 손 넣지 말고 걸으라던 조교의 큰 목소리였다.\u003c/p\u003e\n\u003cp\u003e기초군사훈련을 마치고 특기교육을 받았다. 특기학교에서의 큰 변화는 자판기와 기가지니, 그리고 간이 BX가 있다는 점이었다. 수업이 끝나고 쉬는 시간이면 기가지니로 아이돌 노래를 귀에 못이 박히도록 듣고, 간이 BX에서 주전부리를 사 먹으며 특기교육을 받았다. 자판기는 내 심심한 입을 달래주는 좋은 절친이었다. 특기교육은 전공자 기준으로 그리 어려운 내용이 없기에 성적도 무난하게 받을 수 있었다.\u003c/p\u003e\n\u003cp\u003e자대에서는 코딩을 쉬고 독서와 그림 그리기를 하고 있다. 코딩이야 어처피 전역하면 질리도록 할테니 부대 내에 있을때는 쉬고 싶었다. 아, 군내에서 해커톤도 열어서 신기했다.\u003c/p\u003e\n\u003ch1 id=\"마무리\"\u003e마무리\u003c/h1\u003e\n\u003cp\u003e회고를 하려했는데 딱히 할 게 없다. 아무래도 코로나와 군대때문에 그런 것 같다. 어서빨리 전역해서 재밌고 즐거운 것들을 하고 싶다.\u003c/p\u003e\n"},"nextPost":{"name":"review_of_gdg_songdo_devfest_songdo_2022","metadata":{"title":"GDG Devfest Songdo 2022 다녀온 후기","subtitle":"GCP와 Flutter, AI에 관한 이야기","author":"LiteHell","date":"2022-11-20T03:26:51.094Z","category":"Dev","tags":["Flutter","GCP","Cloud"]},"rendered":"\u003ch1 id=\"처음으로-가보는-gdg-devfest\"\u003e처음으로 가보는 GDG Devfest\u003c/h1\u003e\n\u003cp\u003e2022년 11월 19일 \u003ca href=\"https://www.startuppark.kr\"\u003e인천 스파크업파크\u003c/a\u003e에서 열린 \u003ca href=\"https://festa.io/events/2758\"\u003eGDG Devfest 2022\u003c/a\u003e에 참가했다. 스파크업파크 건물은 규모가 꽤 크고 내부도 괜찮았다. 주변에 지하철역(인천대입구역)과 버스역이 있어서 오는 데 큰 불편함은 없었다.\u003c/p\u003e\n\u003cp\u003eGDG Songdo Devfest에서는 Flutter, Server/ML, Android에 관한 여러 세션이 열렸다, 그리고 발표장소가 총 3군데가 있어 세 세션이 동시에 진행됐다. 그래서 시간이 겹쳐 몇몇 세션을 듣지 못한 것은 아쉬웠다.\u003c/p\u003e\n\u003cp\u003e이번 Devfest에서는 Androiod/AR분야 세션이 열렸지만, 친구랑 같이 듣다보니 해당 분야의 세션은 듣지 않았다. 대신 Flutter나 GCP, AI 분야의 세션을 들었다. 너무 깊게 들어가는 수준으로 발표가 이루어지진 않아서, 듣는 데 큰 불편함은 없었다.\u003c/p\u003e\n\u003ch2 id=\"gcp와-온프레미스-이야기\"\u003eGCP와 온프레미스 이야기\u003c/h2\u003e\n\u003cp\u003e첫번째부터 세번째까지 GCP와 온프레미스 운영에 관한 세션을 들었다. 발표장소가 모두 다 똑같아서 약간 편했다.\u003c/p\u003e\n\u003ch3 id=\"첫번째-세션--gcp의-새로운-기능-소개\"\u003e첫번째 세션 — GCP의 새로운 기능 소개\u003c/h3\u003e\n\u003cp\u003e첫번째 세션에서는 GCP에서 새로 출시된 기능들을 소개해줬는데, 이중에서 Document AI와 Translation Hub기능이 인상적이었다. Document AI에서는 문서 인식 기능이, Translation Hub에서는 자동 번역 성능이 인상적이었다. Document AI 기능을 보면서 정형화된 문서(예시를 들자면 택배송장)에 OCR을 적극적으로 실시하는 기업이라면 좋을 것 같다는 생각이 들었다. 그리고 이 세션에서는 GCP 외에도 Google Workspaces의 새로운 변경사항도 소개해줬는데, 이 사항들은 굳이 개발자가 아니더라도 Google Workspaces를 적극적으로 활용하는 사람들이라면 꽤 흥미롭게 들을 수 있을 것 같았다.\u003c/p\u003e\n\u003ch3 id=\"두번째-세션--누가-요즘-서비스-키-쓰나요\"\u003e두번째 세션 — 누가 요즘 서비스 키 쓰나요?\u003c/h3\u003e\n\u003cp\u003e두 번째 세션은 \u003cstrong\u003e\u0026quot;GCP 조금 더 안전하게 사용하기 (feat. AWS)\u0026quot;\u003c/strong\u003e 가 주제였다. 나는 처음에 여기서 \u0026quot;안전하게\u0026quot;를 비용적 측면에서 \u0026quot;안전하게\u0026quot;라는 뜻으로 이해했었다. 그래서 GCP의 예산상한을 설정하는 방법과 같은 내용을 예상했었는데, 실제 내용을 들어보니 GCP를 보안적 측면에서 \u0026quot;안전하게\u0026quot; 사용하는 방법이었다. 그래서 발표를 듣는 초반에 잠깐 당황했었다.\u003c/p\u003e\n\u003cp\u003e이 세션의 내용은 GCP Service account key의 단점을 이야기하고 이에 대한 해결책으로 GCP Workload Identity Federation을 제시하는 내용이다. 타 클라우드나 온프레미스 환경에서 GCP 서비스에 접근할 때 일반적으로 GCP Service account key를 이용한다. 하지만 이 account key는 유출되면 큰 보안적 risk가 발생하고, 관리자의 귀찮음으로 rotation이 주기적으로 이루어지지 않으며, 보관이나 관리가 부담스럽다는 단점이 있다.\u003c/p\u003e\n\u003cp\u003e그래서 발표자는 이에 대한 대안으로 \u003ca href=\"https://cloud.google.com/iam/docs/workload-identity-federation\"\u003eGCP Workload Identity Federation\u003c/a\u003e을 소개한다. GCP Workload Identity Federation은 AWS나 \u003cabbr title=\"OpenID Connect\"\u003eOIDC\u003c/abbr\u003e 혹은 SAML 2.0을 지원하는 외부 ID 제공자의 외부 ID에 GCP의 IAM 역할을 부여하는 방식이다. 즉, AWS의 람다나 ec2 인스턴스등에 GCP의 IAM 역할을 부여할 수 있다.\u003c/p\u003e\n\u003cp\u003e그러므로 이 기능을 이용하면 AWS 등의 외부환경에서 서비스 키를 이용하지 않고 GCP로부터 토큰을 발급받아 GCP에 서비스 계정으로서 접근할 수 있다. 따라서 관련 config가 유출돼도 사전에 설정된 AWS의 람다나 ec2 인스턴스등이 아니라면 인증이 불가능하므로, config가 유출돼도 큰 타격을 받지 않는다. 또한 토큰의 유효기간도 짧으므로 기존의 Servie account key 방식보다 매우 안전하다.\u003c/p\u003e\n\u003cp\u003e다만 이 기능이 아직 AWS의 EKS IRSA를 지원하지 않는다는 것이 단점이다. 발표자는 이에 대해 임시적인 해결책을 제시했지만, 이를 해결하는 PR이 관련 SDK에 제출됐다고 하니, 시간이 지나면 결국 해결될 것이다.\u003c/p\u003e\n\u003cp\u003eQ\u0026amp;A 시간에 해당 기능의 예산 설정이 가능하나는 질문이 나왔다. 발표자는 이에 그건 안되고 추가적인 개발이 필요할 것이라고 답변했는데, 이 점은 약간 아쉬웠다.\u003c/p\u003e\n\u003ch3 id=\"세번째-세션--온프로미스-고군분투-해보았습니다\"\u003e세번째 세션 — 온프로미스 고군분투, 해보았습니다.\u003c/h3\u003e\n\u003cp\u003e세번째 세션은 B2B 스타트업 기업에서 온프로미스 개발을 한 이야기이다. 처음부터 끝까지 문제해결을 위해 고군분투한 이야기라서 매우 재밌게 들었다.\u003c/p\u003e\n\u003cp\u003e발표자분은 스타트업에서 개발 일정을 단축하기 위해 DevOps를 알아보았다, 이 분은 개발자였기에 DevOps 중에서 CI/CD 기술에 가장 관심이 많았다.\u003c/p\u003e\n\u003cp\u003e그래서 개발하는 제품에 CI/CD 적용을 시도했다. 그러나 막상 해보려니 잘 안됐다. 그래서 이를 해결하기 위해 레거시 등 여러가지를 수정하게 되고, 그러다보니 안정성이 확보되어 납품이 늘어났다. 근데 납품이 늘어나니 또 고객사마다 환경이 달라지는 문제가 발생했다, 고객사에서 마음대로 수정을 하는 사태가 벌어진 것이다.\u003c/p\u003e\n\u003cp\u003e이러한 사태를 방지하게 위해 아예 제품을 \u003ca href=\"https://www.docker.com/\"\u003eDocker\u003c/a\u003e로 컨테이너화하게 됐다. 근데 그러다보니 납품할때마다 APT니 Python이니 Yarn이니 Docker니 이런 것들을 직접 손으로 설치하는 게 귀찮아졌다.\u003c/p\u003e\n\u003cp\u003e매번 납품할때마다 직접 손으로 쉘 명령어 두들기며 설치하는 건 너무 귀찮지 않은가? 그래서 이에 대한 해결책으로 처음에 스크립트화를 생각했다. 그런데 막상 스크립트화하려니 if문을 너무 많이 써야했다. 즉, 스크립트를 작성하는 게 좀 많이 귀찮았다. 그래서 발표자분은 이런 생각이 들었다: \u003cem\u003e\u0026#39;이걸 해야해?\u0026#39;\u003c/em\u003e. 이런 걸 자동으로 하는 툴이 있지 않을까? 있다. 발표자분은 스크립트를 직접 작성하지 않고 \u003ca href=\"https://www.ansible.com/\"\u003eAnsible\u003c/a\u003e이라는 자동화 툴을 채택했다. 많은 사람들이 쓰는 툴이고, 멱등성이 보장되며, yaml으로 쉽게 작성할 수 있는 점, 그리고 자료를 쉽게 찾을 수 있는 점을 고려해 해당 툴을 선택했다고 한다.\u003c/p\u003e\n\u003cp\u003e설치의 귀찮음은 해결됐다, 하지만 문제가 하나 해결되면 또 새로운 문제가 생기는 법 아니겠는가? 고객사에서 새로운 요청사항이 들어왔다: \u003cem\u003e서버 여러대 쓰면서 관리 가능한가요?\u003c/em\u003e. 문제를 해결해야 한다. 문제에 대한 해답은? 예상하셨다시피 \u003ca href=\"https://kubernetes.io/\"\u003eKubernetes\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e발표자분은 처음에 Kubernetes가 소 잡는 칼이 아닐까하는 걱정을 했었다. 그런데 막상 써보니 소 잡는 칼이 아닌 만능 기관총이었다. 그래서 많이 좋았다고 한다. 그러나 Kubernetes를 쓰니 manifest 문제와 Kubernetes 설치의 귀찮음, local-path-porivder 문제가 생겼다.\u003c/p\u003e\n\u003cp\u003e발표자는 이 문제들을 \u003ca href=\"https://helm.sh/\"\u003eHelm\u003c/a\u003e, \u003ca href=\"https://github.com/kubernetes-sigs/kubespray\"\u003eKuberspray\u003c/a\u003e로 해결했다. 특히 Kuberspray가 Ansible 기반이라서 조합이 매우 환상적이었다. 그리고 local-path-provider 문제는 \u003ca href=\"https://rook.io/\"\u003eRock\u003c/a\u003e과 \u003ca href=\"https://ceph.com/\"\u003eCeph\u003c/a\u003e로 해결했다고 한다.\u003c/p\u003e\n\u003ch4 id=\"infra-as-code\"\u003eInfra as Code\u003c/h4\u003e\n\u003cp\u003e인프라를 Yaml 파일들과 코드로 관리하다 보면 고객사별로 여러 차이가 생기는 데 이에 대해 Git Branch로 관리했다고 한다. Dev, Alpha, Beta, Release등의 브랜치를 만들고, 그 맨 위에 납품사별 브랜치를 만들어서 merge하는 식으로 했다고 한다.\u003c/p\u003e\n\u003ch2 id=\"flutter와-ai-이야기\"\u003eFlutter와 AI 이야기\u003c/h2\u003e\n\u003cp\u003e네번째 세션부터는 Flutter와 AI 관련 세션을 들었다. 재밌는 것도 있고 그냥 그랬던 것도 있다.\u003c/p\u003e\n\u003ch3 id=\"네번째-세션--flutter-환경에서-테스트하기\"\u003e네번째 세션 — Flutter 환경에서 테스트하기\u003c/h3\u003e\n\u003cp\u003e네번째 세션은 Flutter 환경에서 테스트하는 이야기로, Blackbox testing/Whitebox testing의 개념, 그리고 Unit testing/Widget testing/Integration testing의 개념을 설명하고 Flutter에서의 테스트 방법을 설명한 뒤, 멀티 플랫폼 환경에서의 Flutter 앱 테스트 방법을 설명하는 세션이다.\u003c/p\u003e\n\u003cp\u003e들으면서 느낀 것은, Dart 테스트 라이브러리가 다른 언어의 유명한 라이브러리랑 사용법이 굉장히 유사해서 꽤 친숙하게 느껴졌다는 점, 그리고 Flutter의 Widget testing 관련 라이브러리가 꽤 잘 짜여져있다는 점이였다.\u003c/p\u003e\n\u003cp\u003e그리고 발표 마지막에 소개한 Recording 테스트 기법과 AI Testing 테스트 기법이 인상적이었다. 리코딩 기법은 앱 이용(탭이라던지 스크롤 등)을 기록한 뒤 이를 다른 기기들에서 똑같이 하는 기법인데, 들으면서 매크로 생각이 났다. 그리고 AI Testing 기법은 말 그대로 인공지능으로 테스트하는 기법이다. 인공지능이 확실히 많이 발달한 게 느껴진다.\u003c/p\u003e\n\u003ch3 id=\"다섯번째여섯번째-세션---ai-deno\"\u003e다섯번째/여섯번째 세션 - AI, Deno\u003c/h3\u003e\n\u003cp\u003e다섯번째와 여섯번째 세션은 각각 Stable Diffusion과 초해상도 이미지 복원에 관한 이야기이다. Diffusion 모델에 관한 간략한 설명을 듣고 해상도 향상 AI에 관해 들었다. Text-to-Image AI에 넣을 prompt 파는 사이트가 있다고 해서 좀 많이 놀랐다. 그것 말고는 딱히 할 말이 없다... AI 돌아가는 거 보면 신기하긴 하더라. 필자가 AI에 대해 잘 아는 편이 아닌지라, 수학적이거나 학문적인 내용이 나오면 그냥 그렇구나하면서 들었던 것 같다.\u003c/p\u003e\n\u003cp\u003e마지막 AI세션 끝나고 종료식 장소로 이동해서 Deno 세션을 잠깐 들었는데 이것도 잠깐이었지만 재밌었다. Deno deploy가 생각외로 빠르다는 점과 Deno Fresh 프레임워크에 관한 내용 등이 인상적이었다.\u003c/p\u003e\n\u003ch1 id=\"행사-종료식\"\u003e행사 종료식\u003c/h1\u003e\n\u003cp\u003e아무리도 13시부터 20시까지 하는 행사다보니 사람들이 중간에 많이 빠져나갔다. 그래서 경품 당첨확률이 매우 높았는데, 그럼에도 불구하고 난 한 번도 당첨이 안 됐다. 아무래도 난 운이 없나보다.\u003c/p\u003e\n\u003ch1 id=\"전체적인-후기\"\u003e전체적인 후기\u003c/h1\u003e\n\u003cp\u003e전체적으로 재밌는 내용이 많았다. 서두에서 말했듯 전체적으로 얕은 수준의 발표들이라서 이해하는 데 큰 어려움은 없었다. 다만 AI 관련 세션은 내용을 얕게는 이해했지만 그 외에는 학문적인 내용이라서 완벽하게 이해하진 못했다. 개인적으로 Deno를 이용해서 한 번 어플리케이션을 개발해보면 괜찮겠다는 생각이 들었다.\u003c/p\u003e\n\u003cp\u003e가기 편한 곳에서 개발자행사가 열리니 참석하기 편했다. 앞으로도 가기 편한 곳에서 개발자행사가 자주 열렸으면 좋겠다.\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/post/[id]","query":{"id":"watermark_into_website"},"buildId":"awhFjBdq9zgQaqX8Z7gzv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>