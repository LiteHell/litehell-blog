<!DOCTYPE html><html lang="ko-KR"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1"/><link rel="canonical" href="https://blog.litehell.info/post/korean_style_award_with_latex"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/rss"/><link rel="alternate" type=" application/atom+xml" title="Atom 1.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/atom"/><link rel="alternate" type="application/feed+json" title="Json 1.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/json"/><meta property="og:title" content="LaTeX을 이용한 한국식 상장 템플릿"/><meta property="og:description" content="한국인이라면 한 번쯤 봤을 법한 그 양식"/><meta property="og:locale" content="ko_KR"/><meta property="og:type" content="article"/><meta property="og:site_name" content="LiteHell의 블로그"/><meta property="og:url" content="https://blog.litehell.info/post/korean_style_award_with_latex"/><meta property="og:image" content="https://blog.litehell.info/img/latex_tikz_cycle.png"/><title>LiteHell의 블로그 - <!-- -->LaTeX을 이용한 한국식 상장 템플릿</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/vs2015.min.css"/><meta name="next-head-count" content="16"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CZL0E8YDPW"></script><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5916984077364289" crossorigin="anonymous"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-CZL0E8YDPW', { page_path: window.location.pathname });
            </script><link rel="preload" href="/_next/static/css/27d177a30947857b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/27d177a30947857b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/088d29430e0ecbdb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/088d29430e0ecbdb.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-ad45764ecfcae9e5.js" defer=""></script><script src="/_next/static/chunks/main-ee0cf4b7f81d7c24.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a96cacb95f41a3ef.js" defer=""></script><script src="/_next/static/chunks/996-c5e5aa4c30f33066.js" defer=""></script><script src="/_next/static/chunks/503-25bfb158f613fce4.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bid%5D-c55bde140ab34b85.js" defer=""></script><script src="/_next/static/6rexlXr22poM9oyrN1v1Q/_buildManifest.js" defer=""></script><script src="/_next/static/6rexlXr22poM9oyrN1v1Q/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_body__O2_kC"><header class="Layout_header__M_IZ8"><div class="Layout_container__z4qWC"><h1><a href="/">LiteHell의 블로그</a></h1><div class="Layout_outLinks__XBNs_">외부고리 : <a href="https://litehell.info">Homepage</a><a href="https://github.com/LiteHell">GitHub</a><a href="https://linkedin.com/in/LiteHell">LinkedIn</a><a href="https://keybase.io/LiteHell">Keybase</a><a href="mailto:litehell@litehell.info">Email</a></div><div class="Layout_inLinks__f7gmD">내부고리 : <a href="/category">카테고리</a><a href="/tag">태그</a></div></div></header><main class="Layout_mainContainer__5WZfx"><div class="Layout_container__z4qWC"><div class="Blog_header__r4wcZ"><div class="Blog_title___OFu6"><h1>LaTeX을 이용한 한국식 상장 템플릿</h1><h2>한국인이라면 한 번쯤 봤을 법한 그 양식</h2></div><p>11/5/2023, 4:26:36 AM<!-- -->에 <!-- -->LiteHell<!-- -->이(가) 작성<!-- -->함<br/><span>카테고리 : <a href="/category/LaTeX">LaTeX</a><br/></span><span>태그 : <span class="Blog_tag__RW5VK"><a href="/tag/TikZ">TikZ</a></span><br/></span></p></div><section class="Blog_article__WZp3G"><h1 id="들어가는-말">들어가는 말</h1>
<p>최근 <a href="https://cauchaos.github.io">알고리즘 동아리</a>에서 주최한 <a href="https://www.acmicpc.net/contest/view/1100">대회</a>에 운영진으로 참가했다. 대회가 마무리된 후 1,2,3등을 위한 상장을 만들어야 했는데 이때 LaTeX를 써보면 재밌을 것 같다는 생각이 들었다.</p>
<p>따라서 LaTeX을 이용해 아래와 같은 상장을 만들었다.</p>
<h1 id="tikz">TikZ</h1>
<p>TikZ는 LaTeX에서 그림을 그릴 때 쓰는 패키지이다. 주로 pgfplots와 함께 사용하거나 그래프를 그릴 때 이용되지만 간단한 그림 정도는 그릴 수 있다.</p>
<h2 id="current-page">current page</h2>
<p>TikZ에는 <code>current page</code>라는 특별한 노드가 있다. 이 노드는 <code>current page.south west</code>나 <code>current page.west</code>와 같이 이용되며, 페이지의 모서리를 가리키고 있다.</p>
<p>아래 예시를 보자. TikZ &amp; PGF 메뉴얼 3.1.10버전의 260페이지에 있는 예시이다.</p>
<pre><code class="hljs language-latex"><span class="hljs-keyword">\begin</span>{tikzpicture}[remember picture, overlay]
    <span class="hljs-keyword">\draw</span> [line width=1mm, opacity=.25]
        (current page.center) circle (3cm);
<span class="hljs-keyword">\end</span>{tikzpicture}</code></pre>
<p>위 예시 코드를 빌드하면 페이지의 정중앙에 반지름이 3cm인 원이 그려진다. 위 코드에서 <code>remember picture</code>와 <code>overlay</code>는 <code>current page</code> 노드를 사용하기 위해 필요하다.</p>
<h2 id="호-그리기">호 그리기</h2>
<p>TikZ는 <code>\draw arc (시작각도:종료각도:반지름)</code> 형태의 명령어로 호(arc)도 그릴 수 있다.</p>
<h2 id="cycle">cycle</h2>
<p><code>cycle</code>을 이용하면 마지막 노드에서 다시 처음 노드로 이어지는 닫힌 경로를 만들 수 있다.</p>
<p>예시를 보면 이해가 쉽다.</p>
<pre><code class="hljs language-latex">Without cycle

<span class="hljs-keyword">\begin</span>{tikzpicture}
<span class="hljs-keyword">\draw</span> (0, 0) -- (1, 1) -- (2, 0);
<span class="hljs-keyword">\end</span>{tikzpicture}

With cycle

<span class="hljs-keyword">\begin</span>{tikzpicture}
<span class="hljs-keyword">\draw</span> (0, 0) -- (1, 1) -- (2, 0) -- cycle;
<span class="hljs-keyword">\end</span>{tikzpicture}
</code></pre>
<p>위 코드를 빌드하면 아래와 같은 결과가 나온다.</p>
<p><img src="/img/latex_tikz_cycle.png" alt="tikz cycle 에시 이미지"></p>
<h1 id="상장-템플릿-소스코드">상장 템플릿 소스코드</h1>
<p>본 템플릿에서 그린 상장 테두리 장식은 호와 직선만을 이용해 그릴 수 있는 기하학적인 무늬(문방구 상장용지에서 흔히 볼 수 있는 무늬)이다. 따라서 TikZ를 잘 활용하면 상장 테두리 장식을 그릴 수 있다.</p>
<p><a href="https://gist.github.com/LiteHell/43abe5fcb711676d392d8d1900d5e1e5">GitHub Gist</a>에서도 볼 수 있다.</p>
<pre><code class="hljs language-latex"><span class="hljs-keyword">\documentclass</span>{minimal}
<span class="hljs-keyword">\usepackage</span>{kotex}
<span class="hljs-keyword">\usepackage</span>[svgnames]{xcolor}
<span class="hljs-keyword">\usepackage</span>{tikz}
<span class="hljs-keyword">\usepackage</span>[a4paper, top=100pt, left=80pt, right=80pt, bottom=120pt]{geometry}
<span class="hljs-keyword">\usetikzlibrary</span>{calc}

<span class="hljs-keyword">\newcommand</span>{<span class="hljs-keyword">\thickframemargin</span>}{40pt}
<span class="hljs-keyword">\newcommand</span>{<span class="hljs-keyword">\thickframewidth</span>}{6pt}
<span class="hljs-keyword">\newcommand</span>{<span class="hljs-keyword">\thinframemargin</span>}{46pt}
<span class="hljs-keyword">\newcommand</span>{<span class="hljs-keyword">\thinframewidth</span>}{1pt}
<span class="hljs-keyword">\newcommand</span>{<span class="hljs-keyword">\framecornerradius</span>}{30pt}
<span class="hljs-keyword">\newcommand</span>{<span class="hljs-keyword">\framecolor</span>}{Goldenrod}
<span class="hljs-keyword">\begin</span>{document}
<span class="hljs-keyword">\begin</span>{tikzpicture}[remember picture, overlay]
    <span class="hljs-comment">% thick corner</span>
    <span class="hljs-keyword">\draw</span>[color=<span class="hljs-keyword">\framecolor</span>, line width=<span class="hljs-keyword">\thickframewidth</span>]
     <span class="hljs-comment">% north west rounded corner</span>
    ([xshift=<span class="hljs-keyword">\thickframemargin</span>, yshift=-<span class="hljs-keyword">\thickframemargin</span>-2*<span class="hljs-keyword">\framecornerradius</span>] current page.north west) arc (270:450:<span class="hljs-keyword">\framecornerradius</span>)
    -- ([xshift=<span class="hljs-keyword">\thickframemargin</span>, yshift=-<span class="hljs-keyword">\thickframemargin</span>] current page.north west) arc (180:360:<span class="hljs-keyword">\framecornerradius</span>)
     <span class="hljs-comment">% north east rounded croner</span>
    -- ([xshift=-<span class="hljs-keyword">\thickframemargin</span>-2*<span class="hljs-keyword">\framecornerradius</span>, yshift=-<span class="hljs-keyword">\thickframemargin</span>] current page.north east) arc (180:360:<span class="hljs-keyword">\framecornerradius</span>)
    -- ([xshift=-<span class="hljs-keyword">\thickframemargin</span>, yshift=-<span class="hljs-keyword">\thickframemargin</span>] current page.north east) arc (90:270:<span class="hljs-keyword">\framecornerradius</span>)
     <span class="hljs-comment">% south east rounded corner</span>
    -- ([xshift=-<span class="hljs-keyword">\thickframemargin</span>, yshift=<span class="hljs-keyword">\thickframemargin</span>+2*<span class="hljs-keyword">\framecornerradius</span>] current page.south east) arc (90:270:<span class="hljs-keyword">\framecornerradius</span>)
    -- ([xshift=-<span class="hljs-keyword">\thickframemargin</span>, yshift=<span class="hljs-keyword">\thickframemargin</span>] current page.south east) arc (0:180:<span class="hljs-keyword">\framecornerradius</span>)
    <span class="hljs-comment">% south west rounded corner</span>
    -- ([xshift=<span class="hljs-keyword">\thickframemargin</span>+2*<span class="hljs-keyword">\framecornerradius</span>, yshift=<span class="hljs-keyword">\thickframemargin</span>] current page.south west) arc (0:180:<span class="hljs-keyword">\framecornerradius</span>)
    -- ([xshift=<span class="hljs-keyword">\thickframemargin</span>, yshift=<span class="hljs-keyword">\thickframemargin</span>] current page.south west) arc (270:450:<span class="hljs-keyword">\framecornerradius</span>)
    <span class="hljs-comment">% cycle</span>
    -- cycle;


    <span class="hljs-comment">% thin corner</span>
    <span class="hljs-keyword">\draw</span>[color=<span class="hljs-keyword">\framecolor</span>, line width=<span class="hljs-keyword">\thinframewidth</span>]
     <span class="hljs-comment">% north west rounded corner</span>
    ([xshift=<span class="hljs-keyword">\thinframemargin</span>, yshift=-<span class="hljs-keyword">\thinframemargin</span>-2*<span class="hljs-keyword">\framecornerradius</span>] current page.north west) arc (270:360:<span class="hljs-keyword">\framecornerradius</span>)
    -- ([xshift=<span class="hljs-keyword">\thinframemargin</span>+<span class="hljs-keyword">\framecornerradius</span>, yshift=-<span class="hljs-keyword">\thinframemargin</span>-<span class="hljs-keyword">\framecornerradius</span>] current page.north west) arc (270:360:<span class="hljs-keyword">\framecornerradius</span>)
     <span class="hljs-comment">% north east rounded croner</span>
    -- ([xshift=-<span class="hljs-keyword">\thinframemargin</span>-2*<span class="hljs-keyword">\framecornerradius</span>, yshift=-<span class="hljs-keyword">\thinframemargin</span>] current page.north east) arc (180:270:<span class="hljs-keyword">\framecornerradius</span>)
    -- ([xshift=-<span class="hljs-keyword">\thinframemargin</span>-<span class="hljs-keyword">\framecornerradius</span>, yshift=-<span class="hljs-keyword">\thinframemargin</span>-<span class="hljs-keyword">\framecornerradius</span>] current page.north east) arc (180:270:<span class="hljs-keyword">\framecornerradius</span>)
     <span class="hljs-comment">% south east rounded corner</span>
    -- ([xshift=-<span class="hljs-keyword">\thinframemargin</span>, yshift=<span class="hljs-keyword">\thinframemargin</span>+2*<span class="hljs-keyword">\framecornerradius</span>] current page.south east) arc (90:180:<span class="hljs-keyword">\framecornerradius</span>)
    -- ([xshift=-<span class="hljs-keyword">\thinframemargin</span>-<span class="hljs-keyword">\framecornerradius</span>, yshift=<span class="hljs-keyword">\thinframemargin</span>+<span class="hljs-keyword">\framecornerradius</span>] current page.south east) arc (90:180:<span class="hljs-keyword">\framecornerradius</span>)
    <span class="hljs-comment">% south west rounded corner</span>
    -- ([xshift=<span class="hljs-keyword">\thinframemargin</span>+2*<span class="hljs-keyword">\framecornerradius</span>, yshift=<span class="hljs-keyword">\thinframemargin</span>] current page.south west) arc (0:90:<span class="hljs-keyword">\framecornerradius</span>)
    -- ([xshift=<span class="hljs-keyword">\thinframemargin</span>+<span class="hljs-keyword">\framecornerradius</span>, yshift=<span class="hljs-keyword">\thinframemargin</span>+<span class="hljs-keyword">\framecornerradius</span>] current page.south west) arc (0:90:<span class="hljs-keyword">\framecornerradius</span>)
    <span class="hljs-comment">% cycle</span>
    -- cycle;
<span class="hljs-keyword">\end</span>{tikzpicture}
<span class="hljs-keyword">\fontsize</span>{16pt}{16pt}<span class="hljs-keyword">\selectfont</span> 제 1 호

<span class="hljs-keyword">\vspace</span>{32pt}

<span class="hljs-keyword">\begin</span>{center}
<span class="hljs-keyword">\fontsize</span>{48pt}{48pt}<span class="hljs-keyword">\selectfont</span>
상<span class="hljs-keyword">\hspace</span>{1.25em}장
<span class="hljs-keyword">\end</span>{center}

<span class="hljs-keyword">\vspace</span>{50pt}


<span class="hljs-keyword">\fontsize</span>{20pt}{20pt}<span class="hljs-keyword">\selectfont</span>
최우수상<span class="hljs-keyword">\hspace</span>{<span class="hljs-keyword">\stretch</span>{1}}홍길동


<span class="hljs-keyword">\vspace</span>{80pt}

<span class="hljs-keyword">\begin</span>{center}
 <span class="hljs-keyword">\fontsize</span>{20pt}{30pt}<span class="hljs-keyword">\selectfont</span>
 위 사람은 <span class="hljs-keyword">\LaTeXe</span>를 잘 활용하여 타의 모범이 되었으므로 이 상을 수여합니다.
<span class="hljs-keyword">\end</span>{center}


<span class="hljs-keyword">\vspace</span>{<span class="hljs-keyword">\stretch</span>{1}}

<span class="hljs-keyword">\begin</span>{center}
 <span class="hljs-keyword">\fontsize</span>{20pt}{20pt}<span class="hljs-keyword">\selectfont</span>
 1970년 1월 1일
<span class="hljs-keyword">\end</span>{center}


<span class="hljs-keyword">\vspace</span>{2em}

<span class="hljs-keyword">\begin</span>{center}
 <span class="hljs-keyword">\fontsize</span>{30pt}{30pt}<span class="hljs-keyword">\selectfont</span>
 <span class="hljs-keyword">\LaTeXe</span>{} 애호가 김철수
<span class="hljs-keyword">\end</span>{center}

<span class="hljs-keyword">\end</span>{document}
</code></pre>
<h1 id="사진">사진</h1>
<p><img src="/img/latex_korean_award.png" alt="한국식 상장 템플릿"></p>
</section><div class="Comments_blogComments__GRWmY"></div><nav class="Blog_postNav__ivy8_ Blog_hasBoth__3MRPr"><div class="Blog_leftAnchor__HhzIP"><a href="/post/docker_for_testing"><div class="Blog_postDescription__eV92_"><div class="Blog_title___OFu6">Docker로 테스트하기</div><div class="Blog_subtitle__RRFh7">Docker로 빌드만 하지 말고 테스트도 하자</div></div></a></div><div class="Blog_rightAnchor__B9n7B"><a href="/post/receiving_gpl_from_fsf"><div class="Blog_postDescription__eV92_"><div class="Blog_title___OFu6">FSF에 편지 보내서 GPL 받아보기</div><div class="Blog_subtitle__RRFh7">그러나 편지는 오지 않았다</div></div></a></div></nav></div></main><footer class="Layout_footer__bKkxe"><div class="Layout_container__z4qWC"><a href="https://www.gnu.org/licenses/agpl-3.0.en.html"><img alt="GNU Affero General License Version 3" src="https://www.gnu.org/graphics/agplv3-with-text-100x42.png" style="height:31px"/></a> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"/></a><br/>Copyrights (C) 2020 ~ 2024 LiteHell, All rights reserved.<br/><div class="Layout_visibleOnPrintOnly__UK6Yl">LiteHell&#x27;s Blog - <a href="https://blog.litehell.info">https://blog.litehell.info</a><br/>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.<br/><br/>Url of this article: <a href="https://blog.litehell.info/post/korean_style_award_with_latex">https://blog.litehell.info/post/korean_style_award_with_latex</a><br/></div><div class="Layout_invisibleOnPrint__rdrDv">Fox Image : Copyrights (C) 2004 Shiretoko-Shari Torurist Association<br/><a href="/license">This blog is free software; For source code and more informations on license and copyrights, Click here.</a><br/><br/>Feeds : <a href="/feed/rss">RSS 2.0</a>,<!-- --> <a href="/feed/atom">Atom 1.0</a>, <a href="/feed/json">Json 1.0</a></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"metadata":{"title":"LaTeX을 이용한 한국식 상장 템플릿","subtitle":"한국인이라면 한 번쯤 봤을 법한 그 양식","author":"LiteHell","date":"2023-11-05T04:26:36.499Z","category":"LaTeX","tags":["TikZ"]},"rendered":"\u003ch1 id=\"들어가는-말\"\u003e들어가는 말\u003c/h1\u003e\n\u003cp\u003e최근 \u003ca href=\"https://cauchaos.github.io\"\u003e알고리즘 동아리\u003c/a\u003e에서 주최한 \u003ca href=\"https://www.acmicpc.net/contest/view/1100\"\u003e대회\u003c/a\u003e에 운영진으로 참가했다. 대회가 마무리된 후 1,2,3등을 위한 상장을 만들어야 했는데 이때 LaTeX를 써보면 재밌을 것 같다는 생각이 들었다.\u003c/p\u003e\n\u003cp\u003e따라서 LaTeX을 이용해 아래와 같은 상장을 만들었다.\u003c/p\u003e\n\u003ch1 id=\"tikz\"\u003eTikZ\u003c/h1\u003e\n\u003cp\u003eTikZ는 LaTeX에서 그림을 그릴 때 쓰는 패키지이다. 주로 pgfplots와 함께 사용하거나 그래프를 그릴 때 이용되지만 간단한 그림 정도는 그릴 수 있다.\u003c/p\u003e\n\u003ch2 id=\"current-page\"\u003ecurrent page\u003c/h2\u003e\n\u003cp\u003eTikZ에는 \u003ccode\u003ecurrent page\u003c/code\u003e라는 특별한 노드가 있다. 이 노드는 \u003ccode\u003ecurrent page.south west\u003c/code\u003e나 \u003ccode\u003ecurrent page.west\u003c/code\u003e와 같이 이용되며, 페이지의 모서리를 가리키고 있다.\u003c/p\u003e\n\u003cp\u003e아래 예시를 보자. TikZ \u0026amp; PGF 메뉴얼 3.1.10버전의 260페이지에 있는 예시이다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-latex\"\u003e\u003cspan class=\"hljs-keyword\"\u003e\\begin\u003c/span\u003e{tikzpicture}[remember picture, overlay]\n    \u003cspan class=\"hljs-keyword\"\u003e\\draw\u003c/span\u003e [line width=1mm, opacity=.25]\n        (current page.center) circle (3cm);\n\u003cspan class=\"hljs-keyword\"\u003e\\end\u003c/span\u003e{tikzpicture}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 예시 코드를 빌드하면 페이지의 정중앙에 반지름이 3cm인 원이 그려진다. 위 코드에서 \u003ccode\u003eremember picture\u003c/code\u003e와 \u003ccode\u003eoverlay\u003c/code\u003e는 \u003ccode\u003ecurrent page\u003c/code\u003e 노드를 사용하기 위해 필요하다.\u003c/p\u003e\n\u003ch2 id=\"호-그리기\"\u003e호 그리기\u003c/h2\u003e\n\u003cp\u003eTikZ는 \u003ccode\u003e\\draw arc (시작각도:종료각도:반지름)\u003c/code\u003e 형태의 명령어로 호(arc)도 그릴 수 있다.\u003c/p\u003e\n\u003ch2 id=\"cycle\"\u003ecycle\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ecycle\u003c/code\u003e을 이용하면 마지막 노드에서 다시 처음 노드로 이어지는 닫힌 경로를 만들 수 있다.\u003c/p\u003e\n\u003cp\u003e예시를 보면 이해가 쉽다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-latex\"\u003eWithout cycle\n\n\u003cspan class=\"hljs-keyword\"\u003e\\begin\u003c/span\u003e{tikzpicture}\n\u003cspan class=\"hljs-keyword\"\u003e\\draw\u003c/span\u003e (0, 0) -- (1, 1) -- (2, 0);\n\u003cspan class=\"hljs-keyword\"\u003e\\end\u003c/span\u003e{tikzpicture}\n\nWith cycle\n\n\u003cspan class=\"hljs-keyword\"\u003e\\begin\u003c/span\u003e{tikzpicture}\n\u003cspan class=\"hljs-keyword\"\u003e\\draw\u003c/span\u003e (0, 0) -- (1, 1) -- (2, 0) -- cycle;\n\u003cspan class=\"hljs-keyword\"\u003e\\end\u003c/span\u003e{tikzpicture}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 코드를 빌드하면 아래와 같은 결과가 나온다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/img/latex_tikz_cycle.png\" alt=\"tikz cycle 에시 이미지\"\u003e\u003c/p\u003e\n\u003ch1 id=\"상장-템플릿-소스코드\"\u003e상장 템플릿 소스코드\u003c/h1\u003e\n\u003cp\u003e본 템플릿에서 그린 상장 테두리 장식은 호와 직선만을 이용해 그릴 수 있는 기하학적인 무늬(문방구 상장용지에서 흔히 볼 수 있는 무늬)이다. 따라서 TikZ를 잘 활용하면 상장 테두리 장식을 그릴 수 있다.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://gist.github.com/LiteHell/43abe5fcb711676d392d8d1900d5e1e5\"\u003eGitHub Gist\u003c/a\u003e에서도 볼 수 있다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-latex\"\u003e\u003cspan class=\"hljs-keyword\"\u003e\\documentclass\u003c/span\u003e{minimal}\n\u003cspan class=\"hljs-keyword\"\u003e\\usepackage\u003c/span\u003e{kotex}\n\u003cspan class=\"hljs-keyword\"\u003e\\usepackage\u003c/span\u003e[svgnames]{xcolor}\n\u003cspan class=\"hljs-keyword\"\u003e\\usepackage\u003c/span\u003e{tikz}\n\u003cspan class=\"hljs-keyword\"\u003e\\usepackage\u003c/span\u003e[a4paper, top=100pt, left=80pt, right=80pt, bottom=120pt]{geometry}\n\u003cspan class=\"hljs-keyword\"\u003e\\usetikzlibrary\u003c/span\u003e{calc}\n\n\u003cspan class=\"hljs-keyword\"\u003e\\newcommand\u003c/span\u003e{\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e}{40pt}\n\u003cspan class=\"hljs-keyword\"\u003e\\newcommand\u003c/span\u003e{\u003cspan class=\"hljs-keyword\"\u003e\\thickframewidth\u003c/span\u003e}{6pt}\n\u003cspan class=\"hljs-keyword\"\u003e\\newcommand\u003c/span\u003e{\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e}{46pt}\n\u003cspan class=\"hljs-keyword\"\u003e\\newcommand\u003c/span\u003e{\u003cspan class=\"hljs-keyword\"\u003e\\thinframewidth\u003c/span\u003e}{1pt}\n\u003cspan class=\"hljs-keyword\"\u003e\\newcommand\u003c/span\u003e{\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e}{30pt}\n\u003cspan class=\"hljs-keyword\"\u003e\\newcommand\u003c/span\u003e{\u003cspan class=\"hljs-keyword\"\u003e\\framecolor\u003c/span\u003e}{Goldenrod}\n\u003cspan class=\"hljs-keyword\"\u003e\\begin\u003c/span\u003e{document}\n\u003cspan class=\"hljs-keyword\"\u003e\\begin\u003c/span\u003e{tikzpicture}[remember picture, overlay]\n    \u003cspan class=\"hljs-comment\"\u003e% thick corner\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003e\\draw\u003c/span\u003e[color=\u003cspan class=\"hljs-keyword\"\u003e\\framecolor\u003c/span\u003e, line width=\u003cspan class=\"hljs-keyword\"\u003e\\thickframewidth\u003c/span\u003e]\n     \u003cspan class=\"hljs-comment\"\u003e% north west rounded corner\u003c/span\u003e\n    ([xshift=\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e, yshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e-2*\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e] current page.north west) arc (270:450:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    -- ([xshift=\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e, yshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e] current page.north west) arc (180:360:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n     \u003cspan class=\"hljs-comment\"\u003e% north east rounded croner\u003c/span\u003e\n    -- ([xshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e-2*\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e, yshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e] current page.north east) arc (180:360:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    -- ([xshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e, yshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e] current page.north east) arc (90:270:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n     \u003cspan class=\"hljs-comment\"\u003e% south east rounded corner\u003c/span\u003e\n    -- ([xshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e, yshift=\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e+2*\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e] current page.south east) arc (90:270:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    -- ([xshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e, yshift=\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e] current page.south east) arc (0:180:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    \u003cspan class=\"hljs-comment\"\u003e% south west rounded corner\u003c/span\u003e\n    -- ([xshift=\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e+2*\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e, yshift=\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e] current page.south west) arc (0:180:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    -- ([xshift=\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e, yshift=\u003cspan class=\"hljs-keyword\"\u003e\\thickframemargin\u003c/span\u003e] current page.south west) arc (270:450:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    \u003cspan class=\"hljs-comment\"\u003e% cycle\u003c/span\u003e\n    -- cycle;\n\n\n    \u003cspan class=\"hljs-comment\"\u003e% thin corner\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003e\\draw\u003c/span\u003e[color=\u003cspan class=\"hljs-keyword\"\u003e\\framecolor\u003c/span\u003e, line width=\u003cspan class=\"hljs-keyword\"\u003e\\thinframewidth\u003c/span\u003e]\n     \u003cspan class=\"hljs-comment\"\u003e% north west rounded corner\u003c/span\u003e\n    ([xshift=\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e, yshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e-2*\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e] current page.north west) arc (270:360:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    -- ([xshift=\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e+\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e, yshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e-\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e] current page.north west) arc (270:360:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n     \u003cspan class=\"hljs-comment\"\u003e% north east rounded croner\u003c/span\u003e\n    -- ([xshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e-2*\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e, yshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e] current page.north east) arc (180:270:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    -- ([xshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e-\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e, yshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e-\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e] current page.north east) arc (180:270:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n     \u003cspan class=\"hljs-comment\"\u003e% south east rounded corner\u003c/span\u003e\n    -- ([xshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e, yshift=\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e+2*\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e] current page.south east) arc (90:180:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    -- ([xshift=-\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e-\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e, yshift=\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e+\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e] current page.south east) arc (90:180:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    \u003cspan class=\"hljs-comment\"\u003e% south west rounded corner\u003c/span\u003e\n    -- ([xshift=\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e+2*\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e, yshift=\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e] current page.south west) arc (0:90:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    -- ([xshift=\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e+\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e, yshift=\u003cspan class=\"hljs-keyword\"\u003e\\thinframemargin\u003c/span\u003e+\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e] current page.south west) arc (0:90:\u003cspan class=\"hljs-keyword\"\u003e\\framecornerradius\u003c/span\u003e)\n    \u003cspan class=\"hljs-comment\"\u003e% cycle\u003c/span\u003e\n    -- cycle;\n\u003cspan class=\"hljs-keyword\"\u003e\\end\u003c/span\u003e{tikzpicture}\n\u003cspan class=\"hljs-keyword\"\u003e\\fontsize\u003c/span\u003e{16pt}{16pt}\u003cspan class=\"hljs-keyword\"\u003e\\selectfont\u003c/span\u003e 제 1 호\n\n\u003cspan class=\"hljs-keyword\"\u003e\\vspace\u003c/span\u003e{32pt}\n\n\u003cspan class=\"hljs-keyword\"\u003e\\begin\u003c/span\u003e{center}\n\u003cspan class=\"hljs-keyword\"\u003e\\fontsize\u003c/span\u003e{48pt}{48pt}\u003cspan class=\"hljs-keyword\"\u003e\\selectfont\u003c/span\u003e\n상\u003cspan class=\"hljs-keyword\"\u003e\\hspace\u003c/span\u003e{1.25em}장\n\u003cspan class=\"hljs-keyword\"\u003e\\end\u003c/span\u003e{center}\n\n\u003cspan class=\"hljs-keyword\"\u003e\\vspace\u003c/span\u003e{50pt}\n\n\n\u003cspan class=\"hljs-keyword\"\u003e\\fontsize\u003c/span\u003e{20pt}{20pt}\u003cspan class=\"hljs-keyword\"\u003e\\selectfont\u003c/span\u003e\n최우수상\u003cspan class=\"hljs-keyword\"\u003e\\hspace\u003c/span\u003e{\u003cspan class=\"hljs-keyword\"\u003e\\stretch\u003c/span\u003e{1}}홍길동\n\n\n\u003cspan class=\"hljs-keyword\"\u003e\\vspace\u003c/span\u003e{80pt}\n\n\u003cspan class=\"hljs-keyword\"\u003e\\begin\u003c/span\u003e{center}\n \u003cspan class=\"hljs-keyword\"\u003e\\fontsize\u003c/span\u003e{20pt}{30pt}\u003cspan class=\"hljs-keyword\"\u003e\\selectfont\u003c/span\u003e\n 위 사람은 \u003cspan class=\"hljs-keyword\"\u003e\\LaTeXe\u003c/span\u003e를 잘 활용하여 타의 모범이 되었으므로 이 상을 수여합니다.\n\u003cspan class=\"hljs-keyword\"\u003e\\end\u003c/span\u003e{center}\n\n\n\u003cspan class=\"hljs-keyword\"\u003e\\vspace\u003c/span\u003e{\u003cspan class=\"hljs-keyword\"\u003e\\stretch\u003c/span\u003e{1}}\n\n\u003cspan class=\"hljs-keyword\"\u003e\\begin\u003c/span\u003e{center}\n \u003cspan class=\"hljs-keyword\"\u003e\\fontsize\u003c/span\u003e{20pt}{20pt}\u003cspan class=\"hljs-keyword\"\u003e\\selectfont\u003c/span\u003e\n 1970년 1월 1일\n\u003cspan class=\"hljs-keyword\"\u003e\\end\u003c/span\u003e{center}\n\n\n\u003cspan class=\"hljs-keyword\"\u003e\\vspace\u003c/span\u003e{2em}\n\n\u003cspan class=\"hljs-keyword\"\u003e\\begin\u003c/span\u003e{center}\n \u003cspan class=\"hljs-keyword\"\u003e\\fontsize\u003c/span\u003e{30pt}{30pt}\u003cspan class=\"hljs-keyword\"\u003e\\selectfont\u003c/span\u003e\n \u003cspan class=\"hljs-keyword\"\u003e\\LaTeXe\u003c/span\u003e{} 애호가 김철수\n\u003cspan class=\"hljs-keyword\"\u003e\\end\u003c/span\u003e{center}\n\n\u003cspan class=\"hljs-keyword\"\u003e\\end\u003c/span\u003e{document}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"사진\"\u003e사진\u003c/h1\u003e\n\u003cp\u003e\u003cimg src=\"/img/latex_korean_award.png\" alt=\"한국식 상장 템플릿\"\u003e\u003c/p\u003e\n"},"articleId":"korean_style_award_with_latex","previousPost":{"name":"docker_for_testing","metadata":{"title":"Docker로 테스트하기","subtitle":"Docker로 빌드만 하지 말고 테스트도 하자","author":"LiteHell","date":"2023-10-25T14:49:49.041Z","category":"Dev","tags":["Docker"],"last_modified_at":"2024-12-27T13:05:23.710Z"},"rendered":"\u003ch1 id=\"들어가는-글\"\u003e들어가는 글\u003c/h1\u003e\n\u003cp\u003e필자는 중앙대학교 공지사항을 \u003ca href=\"https://rss.puang.network\"\u003eRSS\u003c/a\u003e로 만들어서 구독한다. RSS로 만든 후 메신지 봇을 붙이면 알아서 알려주니 편하다.\u003c/p\u003e\n\u003cp\u003e그러나 최근 해당 RSS 프로그램의 테스트가 실패하는 현상이 발견됐다. 확인한 결과, \u003ca href=\"https://swedu.cau.ac.kr\"\u003e중앙대학교 SW교육원\u003c/a\u003e 홈페이지의 TLS 인증서 이슈였던 것으로 확인됐다. 따라서 이를 해결하기 위해 일단 실행되고 있는 Docker 컨테이너에 직접 접근해서 해당 사이트의 CA 인증서를 설치했다.\u003c/p\u003e\n\u003ch1 id=\"기존-테스트-방법의-한계점\"\u003e기존 테스트 방법의 한계점\u003c/h1\u003e\n\u003cp\u003e버그는 일단 임시방편으로 수정한 것이니 레포에는 반영되지 않았다. 따라서 테스트 실패 메일이 매일매일 내 메일함으로 전송됐다.\u003c/p\u003e\n\u003cp\u003e어떻게 하면 이 버그를 수정하고 잘 테스트할 수 있을까? 먼저 이 버그를 수정하려면 Dockerfile을 수정해야 한다. Dockerfile에 다음 내용을 추가하여 Docker 이미지 빌드시 CA 인증서를 복사하도록 했다. \u003ca href=\"https://github.com/LiteHell/cau-rss/commit/d765d53d61e9370f5a284068ed273570d21013a3\"\u003eLiteHell/cau-rss 레포의 커밋 21013a3\u003c/a\u003e에서 확인할 수 있다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-Dockerfile\"\u003e\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e swedu-cert.pem /usr/\u003cspan class=\"hljs-built_in\"\u003elocal\u003c/span\u003e/share/ca-certificates/swedu-cert.crt\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e cat /usr/\u003cspan class=\"hljs-built_in\"\u003elocal\u003c/span\u003e/share/ca-certificates/swedu-cert.crt \u0026gt;\u0026gt; /etc/ssl/certs/ca-certificates.crt\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 위 버그 수정도 같이 테스트해야 한다. 아래에 있는 기존의 GitHub Action으로는 이 버그 수정을 테스트할 수 없다. \u003ccode\u003ego test -v ./...\u003c/code\u003e 명령어가 빌드된 Docker 이미지 내에서 실행되는 것이 아니기 때문이다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eBuild\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ego\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ebuild\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e-v\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e./...\u003c/span\u003e\n\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eTest\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ego\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003etest\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e-v\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e./...\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e어떻게 하면 테스트할 수 있을까? 답은 간단하다. Docker로 테스트도 하면 된다.\u003c/p\u003e\n\u003ch1 id=\"docker를-이용한-테스트\"\u003eDocker를 이용한 테스트\u003c/h1\u003e\n\u003ch2 id=\"multi-stage-빌드\"\u003eMulti-stage 빌드\u003c/h2\u003e\n\u003cp\u003eDocker는 빌드를 여러 단계로 나누어 진행할 수 있다. 아래 예시 Dockerfile을 보자.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-Dockerfile\"\u003e\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e node AS base\n\u003cspan class=\"hljs-keyword\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"bash\"\u003e /app\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eADD\u003c/span\u003e\u003cspan class=\"bash\"\u003e src package.json package-lock.json tsconfig.json .\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e npm i\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e npm bulid\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eCMD\u003c/span\u003e\u003cspan class=\"bash\"\u003e [\u003cspan class=\"hljs-string\"\u003e\u0026quot;npm\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;run\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTypescript 프로젝트를 위한 간단한 Dockerfile이다. 이를 다음과 같이 여러개의 단계(stage)로 쪼갤 수 있다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-Dockerfile\"\u003e\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e node AS base\n\u003cspan class=\"hljs-keyword\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"bash\"\u003e /app\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eADD\u003c/span\u003e\u003cspan class=\"bash\"\u003e src package.json package-lock.json tsconfig.json .\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e base AS deps\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e npm i\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e deps AS build\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e npm bulid\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e build AS deployment\n\u003cspan class=\"hljs-keyword\"\u003eCMD\u003c/span\u003e\u003cspan class=\"bash\"\u003e [\u003cspan class=\"hljs-string\"\u003e\u0026quot;npm\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;run\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위와 같은 Dockerfile을 이용하면 Docker 빌드시 특정 스테이지까지만 빌드할 수 있다. 예를 들어 아래 명령어는 deps 스테이지까지만 빌드한다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003edocker build --target deps\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e스테이지가 직선적이여야 할 필요는 없다. 다음과 같이 스테이지가 중간에 분기하도록 작성할 수도 있다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-Dockerfile\"\u003e\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e node AS base\n\u003cspan class=\"hljs-keyword\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"bash\"\u003e /app\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eADD\u003c/span\u003e\u003cspan class=\"bash\"\u003e src package.json package-lock.json tsconfig.json .\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e base AS deps\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e npm i\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e deps AS build\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e npm bulid\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e build AS english\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e english .\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e english AS deployment-international\n\u003cspan class=\"hljs-keyword\"\u003eCMD\u003c/span\u003e\u003cspan class=\"bash\"\u003e [\u003cspan class=\"hljs-string\"\u003e\u0026quot;npm\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;run\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;--lang=english\u0026quot;\u003c/span\u003e]\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e build AS korean\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e korean .\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e korean AS deployment-domestic\n\u003cspan class=\"hljs-keyword\"\u003eCMD\u003c/span\u003e\u003cspan class=\"bash\"\u003e [\u003cspan class=\"hljs-string\"\u003e\u0026quot;npm\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;run\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;--lang=korean\u0026quot;\u003c/span\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 Dockerfile의 경우 build 스테이지에서 english 스테이지와 korean 스테이지로 분기한다.\u003c/p\u003e\n\u003ch3 id=\"buildkit\"\u003eBuildKit\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-Dockerfile\"\u003e\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e node AS base\n\u003cspan class=\"hljs-keyword\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"bash\"\u003e /app\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eADD\u003c/span\u003e\u003cspan class=\"bash\"\u003e src package.json package-lock.json tsconfig.json .\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e base AS deps\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e npm i\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e deps AS build\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e npm bulid\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e build AS english\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e english .\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e english AS deployment-international\n\u003cspan class=\"hljs-keyword\"\u003eCMD\u003c/span\u003e\u003cspan class=\"bash\"\u003e [\u003cspan class=\"hljs-string\"\u003e\u0026quot;npm\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;run\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;--lang=english\u0026quot;\u003c/span\u003e]\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e build AS korean\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e korean .\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e korean AS deployment-domestic\n\u003cspan class=\"hljs-keyword\"\u003eCMD\u003c/span\u003e\u003cspan class=\"bash\"\u003e [\u003cspan class=\"hljs-string\"\u003e\u0026quot;npm\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;run\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;--lang=korean\u0026quot;\u003c/span\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 Dockerfile을 가지고 아래 명령어를 실행한다고 가정해보자.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003edocker build --target deployment-domestic\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 경우 빌드에 필요한 스테이지는 \u003ccode\u003ebase\u003c/code\u003e, \u003ccode\u003edeps\u003c/code\u003e, \u003ccode\u003ebuild\u003c/code\u003e, \u003ccode\u003ekorean\u003c/code\u003e, \u003ccode\u003edeployment-domestic\u003c/code\u003e이다. 그러나 실제로 위 명령어를 실행해보면 불필요한 \u003ccode\u003eenglish\u003c/code\u003e, \u003ccode\u003edeployment-international\u003c/code\u003e 스테이지도 빌드하는 것을 확인할 수 있다.\u003c/p\u003e\n\u003cp\u003e이는 도커 레거시 빌더를 이용하기 때문에 생기는 문제이다. \u003ca href=\"https://docs.docker.com/build/buildkit/\"\u003eDocker BuildKit\u003c/a\u003e은 사용되지 않는 스테이지를 자동으로 파악하여 불필요한 스테이지는 빌드를 생략한다. 따라서 Docker BuildKit을 설치한 후 다음 명령어로 빌드하면 필요한 스테이지만 빌드할 수 있다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eDOCKER_BUILDKIT=1 docker build --target deployment-domestic\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"multi-stage-빌드를-이용한-테스트\"\u003eMulti-stage 빌드를 이용한 테스트\u003c/h2\u003e\n\u003cp\u003e이제 Docker를 이용해 테스트를 하는 방법에 대해 알아보자. 다음은 \u003ca href=\"https://github.com/LiteHell/cau-rss\"\u003ecau-rss 레포\u003c/a\u003e의 Dockerfile 내용을 약간 수정한 예시이다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-Dockerfile\"\u003e\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e golang:alpine AS base\n\u003cspan class=\"hljs-keyword\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"bash\"\u003e /app\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e go.mod go.sum ./\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e go mod download \u0026amp;\u0026amp; go mod verify\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e cau_parser ./cau_parser\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e server ./server\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e# To avoid tls error from swedu.cau.ac.kr\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e swedu-cert.pem /usr/\u003cspan class=\"hljs-built_in\"\u003elocal\u003c/span\u003e/share/ca-certificates/swedu-cert.crt\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e cat /usr/\u003cspan class=\"hljs-built_in\"\u003elocal\u003c/span\u003e/share/ca-certificates/swedu-cert.crt \u0026gt;\u0026gt; /etc/ssl/certs/ca-certificates.crt\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e static ./static\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e html ./html\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"bash\"\u003e *.go ./\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e base AS build\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e go build -v -o ./app ./\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eCMD\u003c/span\u003e\u003cspan class=\"bash\"\u003e [\u003cspan class=\"hljs-string\"\u003e\u0026quot;/app/app\u0026quot;\u003c/span\u003e]\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e base AS test\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"bash\"\u003e [\u003cspan class=\"hljs-string\"\u003e\u0026quot;go\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;test\u0026quot;\u003c/span\u003e ,\u003cspan class=\"hljs-string\"\u003e\u0026quot;-v\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;./...\u0026quot;\u003c/span\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003ebase\u003c/code\u003e 스테이지에서 의존성을 설치한 뒤 각종 필요한 파일들을 복사하고 TLS 인증서 오류 해결을 위한 CA 인증서를 복사한다. \u003ccode\u003etest\u003c/code\u003e 스테이지는 \u003ccode\u003ebase\u003c/code\u003e 스테이지에서 테스트 명령어를 실행하는 스테이지이며, \u003ccode\u003ebuild\u003c/code\u003e 스테이지는 \u003ccode\u003ebase\u003c/code\u003e 스테이지를 바탕으로 도커 이미지를 빌드하는 스테이지이다.\u003c/p\u003e\n\u003cp\u003e따라서 위 Dockerfile을 이용해 \u003ccode\u003ebuild\u003c/code\u003e 스테이지까지 빌드하면 도커 이미지를 만드는 것이며, \u003ccode\u003etest\u003c/code\u003e 스테이지까지 빌드하면 테스트를 실행하게 되는 것이다. 이를 명령어로 나타내면 다음과 같으며, 캐시로 인해 테스트가 진행되지 않는 것을 방지하기 위해 \u003ccode\u003e--no-cache\u003c/code\u003e 매개변수를 추가했다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-comment\"\u003e# Test\u003c/span\u003e\nDOCKER_BUILDKIT=1 docker build --no-cache --target \u003cspan class=\"hljs-built_in\"\u003etest\u003c/span\u003e .\n\n\u003cspan class=\"hljs-comment\"\u003e# Build\u003c/span\u003e\nDOCKER_BUILDKIT=1 docker build --target build\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e테스트 실패시 Docker 빌드 오류가 발생한다. 이를 응용하면 다음과 같이 테스트 성공시 빌드를 진행하고, 실패시 오류 메세지를 출력하는 bash 스크립트를 작성할 수 있다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-built_in\"\u003eexport\u003c/span\u003e DOCKER_BUILDKIT=1\n\ndocker build --no-cache --target \u003cspan class=\"hljs-built_in\"\u003etest\u003c/span\u003e .\ntest_status=$?\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e [ \u003cspan class=\"hljs-variable\"\u003e$test_status\u003c/span\u003e -eq 0 ]; \u003cspan class=\"hljs-keyword\"\u003ethen\u003c/span\u003e\n  docker build --taget build . --tag example-application\n\u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e\n  \u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;ERROR while testing!\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efi\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"github-action을-이용한-활용\"\u003eGithub Action을 이용한 활용\u003c/h2\u003e\n\u003cp\u003eGitHub Action을 이용하면 다음과 같이 push시 테스트가 이루어지도록 할 수 있다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eTest\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eon:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003epush\u003c/span\u003e\n\n\u003cspan class=\"hljs-attr\"\u003ejobs:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003etest:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eruns-on:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eubuntu-latest\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003esteps:\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eactions/checkout@v3\u003c/span\u003e\n\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eSet\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eup\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eDocker\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eBuildx\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edocker/setup-buildx-action@v3\u003c/span\u003e\n\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eTest\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edocker\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ebuild\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e--no-cache\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e--target\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003etest\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e.\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eenv:\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eDOCKER_BUILDKIT:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e빌드도 잘 되는지 확인하고 싶다면 빌드하는 job을 하나 더 추가하면 된다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eBuild\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eand\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003etest\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eon:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003epush\u003c/span\u003e\n\n\u003cspan class=\"hljs-attr\"\u003ejobs:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ebuild:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eruns-on:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eubuntu-latest\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003esteps:\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eactions/checkout@v3\u003c/span\u003e\n\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eSet\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eup\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eDocker\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eBuildx\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edocker/setup-buildx-action@v3\u003c/span\u003e\n\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eBuild\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edocker\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ebuild\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e--target\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ebuild\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e.\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eenv:\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eDOCKER_BUILDKIT:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\n  \u003cspan class=\"hljs-attr\"\u003etest:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eruns-on:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eubuntu-latest\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003esteps:\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eactions/checkout@v3\u003c/span\u003e\n\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eSet\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eup\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eDocker\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eBuildx\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edocker/setup-buildx-action@v3\u003c/span\u003e\n\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eTest\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edocker\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ebuild\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e--no-cache\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e--target\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003etest\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e.\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eenv:\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eDOCKER_BUILDKIT:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"결론\"\u003e결론\u003c/h1\u003e\n\u003cp\u003eDocker 이미지로 배포를 진행하는 경우, Docker로 테스트도 같이 진행하면 실제 배포 환경과 유사한 환경에서 테스트를 진행할 수 있다는 큰 장점이 있다. 따라서 복잡한 어플리케이션이라면 이 글을 참고해 Docker로 테스트도 같이 하는 것이 좋은 선택이 될 수 있다.\u003c/p\u003e\n"},"nextPost":{"name":"receiving_gpl_from_fsf","metadata":{"title":"FSF에 편지 보내서 GPL 받아보기","subtitle":"그러나 편지는 오지 않았다","author":"LiteHell","date":"2023-12-07T14:19:37.603Z","category":"Dev","tags":["GPL"]},"rendered":"\u003cp\u003e자유/오픈소스 소프트웨어 라이선스는 MIT, BSD, Apache 등 여러가지 종류의 라이선스가 있다. 이 중 가장 유명한 카피레프트 라이선스로는 Linux, GNU, gcc 등으로 널리 알려진 GNU GPL 라이선스가 있으며, notepad++, Git, uBlock Origin, MariaDB 등의 많은 프로그램에서도 채택하고 있다. 주로 GPLv2 라이선스와 GPLv3 라이선스가 많이 쓰이는 데, GPLv2의 하단부를 읽으면 다음과 같은 문구를 볼 수 있다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eYou should have received a copy of the GNU General Public License along\u003cbr\u003e\nwith this program; if not, write to the Free Software Foundation, Inc.,\u003cbr\u003e\n51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e만약 GNU GPLv2 전문을 받지 못했을 시 \u003ca href=\"https://www.fsf.org\"\u003e자유 소프트웨어 재단\u003c/a\u003e으로 편지를 보내주면 친절히 전문을 인쇄해서 보내준다고 써져있다. 여기서 호기심이 생겼다, 진짜로 보내줄까?\u003c/p\u003e\n\u003ch1 id=\"선지자\"\u003e선지자\u003c/h1\u003e\n\u003cp\u003e이런 궁금증은 나만 든게 아니었다. \u003ca href=\"https://code.mendhak.com/gpl-v2-address-letter/\"\u003e외국의 개발자 mendhak이 이미 이를 시도했다.\u003c/a\u003e 글에 나온 바에 따르면, 진짜로 보내준다!\u003c/p\u003e\n\u003cp\u003e진짜로 된다는 걸 확인해보니 나도 한 번 해보고 싶어졌다. 따라서 나도 국제우편을 한 번 보내보았다.\u003c/p\u003e\n\u003ch1 id=\"우편과-국제반신우표권\"\u003e우편과 국제반신우표권\u003c/h1\u003e\n\u003cp\u003e먼저 주변의 우체국에 가서 \u003ca href=\"https://ko.wikipedia.org/wiki/%EA%B5%AD%EC%A0%9C%EB%B0%98%EC%8B%A0%EA%B6%8C\"\u003e국제반신우표권\u003c/a\u003e을 구매했다. 국제반신우표권은 수신자가 나라와 상관없이 주변 우체국에서 우표로 교환할 수 있는 일종의 교환권이다. 집 주변 가장 가까운 우체국에서는 재고가 없었기에 조금 거리가 있는 큰 우체국에 가서 1,450원을 주고 구매했다. 이 글을 읽는 여러분도 국제반신우표권을 살 생각이 있다면 미리 우체국에 재고가 있는 지 확인해보는 것을 추천한다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/img/upu-irc-mosaic.jpg\" alt=\"국제반신우표권의 사진\"\u003e\u003c/p\u003e\n\u003cp\u003e(위 사진은 도장의 지역명을 삭제한 사진이다.)\u003c/p\u003e\n\u003cp\u003e국제반신우표권과 함께 간단한 편지를 작성했다. 그 편지의 내용은 다음과 같다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eDear Free Software Foundation\u003c/p\u003e\n\u003cp\u003eI received a software, and its license notice said,\u003c/p\u003e\n\u003cdiv style=\"padding-left: 2em;\"\u003eYou should have received a copy of the GNU General Public License\u003cbr\u003e\nalong with this program; if not, write to the Free Software\u003cbr\u003e\nFoundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\u003c/div\u003e\n\n\u003cp\u003eHowever, the license was not provided with the software.\u003cbr\u003e\nPlesae can you provide me with a copy of GNU General Public License?\u003c/p\u003e\n\u003cp\u003eI have enclosed a international reply coupon, which is can be exchanged with a stamp in a nearby post office.\u003c/p\u003e\n\u003cp\u003eSincerely,\nYeonjin Shin\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e회신용 봉투를 안 넣으면 FSF 로고가 인쇄된 봉투에 담아서 줄 것 같다는 생각이 들어서 회신용 봉투는 일부러 안 넣었다. 이 편지와 국제반신우표권을 집에 있던 규격봉투(소봉투)에 집어넣고 우표를 붙였다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/img/req_for_gpl_to_fsf.jpg\" alt=\"봉투와 국제반신우표권, 그리고 편지\"\u003e\u003c/p\u003e\n\u003cp\u003e무게에 따라 다르겠지만, 미국으로 국제우편을 부치는 데에는 총 700원이 들었다. 사진에는 710원의 우표가 붙여져있지만, 부치는 데에는 700원이면 충분하다. (물론 무게에 따라 달라질 수 있다.)\u003c/p\u003e\n\u003cp\u003e위와 같이 준비한 편지와 국제반신우표권을 봉투에 넣은 뒤, 2023년 7월 7일 주변 우체통에 넣어서 부쳤다. 오랜만에 우체통에 편지를 넣으니 감희가 새로웠다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/img/req_for_gpl_to_fsf_enveloped.jpg\" alt=\"봉함된 봉투\"\u003e\u003c/p\u003e\n\u003ch1 id=\"진행\"\u003e진행\u003c/h1\u003e\n\u003cp\u003e지금(12월 7일)도 답장이 오지 않았다... 아무래도 중간에 유실된 것 같다. 그래도 혹시 만약에 답장이 오게 된다면 업데이트하겠다.\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/post/[id]","query":{"id":"korean_style_award_with_latex"},"buildId":"6rexlXr22poM9oyrN1v1Q","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>