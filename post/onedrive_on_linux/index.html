<!doctypehtml><html lang=ko><link href=https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1 rel=icon><link href=https://blog.litehell.info/post/onedrive_on_linux rel=canonical><link href=https://blog.litehell.info/post/onedrive_on_linux hreflang=ko rel=alternate><link href=https://blog.litehell.info/post/onedrive_on_linux hreflang=en rel=alternate><link title="RSS 2.0 Feed for LiteHell's blog"href=https://blog.litehell.info/feed/rss rel=alternate type=application/rss+xml><link title="Atom 1.0 Feed for LiteHell's blog"type="	application/atom+xml"href=https://blog.litehell.info/feed/atom rel=alternate><link title="Json 1.0 Feed for LiteHell's blog"href=https://blog.litehell.info/feed/json rel=alternate type=application/feed+json><link href=https://esm.sh/@wooorm/starry-night@3/style/both.css rel=stylesheet><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href=https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap rel=stylesheet><meta content="Linux에서 OneDrive 이용하기"property=og:title><meta content="rclone을 이용한 OneDrive 이용 방법"property=og:description><meta content=ko property=og:locale><meta content=blog property=og:type><meta content="LiteHell의 블로그"property=og:site_name><meta content=https://blog.litehell.info/post/onedrive_on_linux property=og:url><meta content=https://blog.litehell.info/aha.jpg property=og:image><meta content=width=device-width,initial-scale=1 name=viewport><style>html,body{margin:0;padding:0;font-family:Noto Sans KR,sans-serif}</style><title>LiteHell의 블로그 - Linux에서 OneDrive 이용하기</title><body><link as=image href=https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1 rel=preload><link as=image href=https://i.creativecommons.org/l/by-sa/4.0/88x31.png rel=preload><link as=image href=https://www.gnu.org/graphics/agplv3-with-text-100x42.png rel=preload><style data-emotion="css 1nfpw07">.css-1nfpw07{--top-padding:max(40px,3rem);--vertical-padding:max(20px,2em);padding:var(--top-padding)var(--vertical-padding)0em var(--vertical-padding);box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;align-items:center;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.css-1nfpw07>*{width:100%}@media (width>=1024px){.css-1nfpw07>*{max-width:960px}}.css-1nfpw07 main{-webkit-flex:1;-ms-flex:1;flex:1}.css-1nfpw07 footer{border-top:1px solid #727272;margin:2rem 0 0;padding:1.5rem 0}</style><div class=css-1nfpw07><style data-emotion="css 1fkv74n">.css-1fkv74n{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;align-items:center;gap:2rem;padding-bottom:1.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}@media (width<=25rem){.css-1fkv74n{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}}.css-1fkv74n .profileImg a{color:inherit;-webkit-text-decoration:none;text-decoration:none}.css-1fkv74n .profileImg img{border-radius:4rem;width:8rem;height:8rem;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.css-1fkv74n .title h1{word-break:keep-all;margin:0 0 .5rem;padding:0;font-size:2rem;line-height:2.5rem}.css-1fkv74n .title h1 a{color:inherit;-webkit-text-decoration:none;text-decoration:none}.css-1fkv74n .links{margin:0;padding:0;font-size:.9rem;line-height:1.2rem}@media (width<=1023px){.css-1fkv74n .title h1{font-size:1.5rem;line-height:2rem}.css-1fkv74n .rounded img{border-radius:3.5rem 3.4rem;width:7rem;height:7rem}}</style><header class=css-1fkv74n><div class=profileImg><a href=/><img alt="LiteHell의 Gravatar 아이콘"src=https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1></a></div><div class=title><h1><a href=/>LiteHell의 블로그</a></h1><p class=links>외부고리: <a href=https://github.com/litehell>GitHub</a>, <a href=https://yeonjin.name/portfolio>Portfolio</a><br>내부고리: <a href=/categories>카테고리</a>, <a href=/tags>태그</a><br>다른 언어: <a href=https://blog-en.litehell.info hreflang=en>영어 (English)</a></p><style data-emotion="css u1wea8">.css-u1wea8{color:#5e5e5e;font-size:75%}</style><p class=css-u1wea8>글 쓸 때는 AI를 안 씁니다. 전부 직접 씁니다. 만약 오탈자나 어색한 문장이 있다면 퇴고를 대충해서 그런거니 양해 부탁드립니다.<br>블로그의 모든 시간 및 날짜는 별도의 언급이 없다면 한국 표준 시간대입니다.</div></header><main><div><style data-emotion="css 1v4sk1e">.css-1v4sk1e{border-bottom:1px solid #999;margin-bottom:.8rem;padding:1.5rem 0 2rem}.css-1v4sk1e .title{margin-bottom:.25rem}.css-1v4sk1e .title *{margin:0;padding:0;display:inline}.css-1v4sk1e .title h2{font-size:2rem;line-height:2.1rem}.css-1v4sk1e .title h3{margin-left:1rem;font-size:1rem;font-weight:200;line-height:1rem}.css-1v4sk1e .datetime{color:#666;margin:0;padding:0}.css-1v4sk1e .links .description{color:#666}</style><div class=css-1v4sk1e><div class=title><h2>Linux에서 OneDrive 이용하기</h2><h3>rclone을 이용한 OneDrive 이용 방법</h3></div><p class=datetime>2025. 10. 6. 오후 12:12:04에 LiteHell이(가) 작성함.<div class=links><div class=link><span class=description>카테고리: </span><a href=/category/Linux>Linux</a></div><div class=link><span class=description>태그: </span><a href=/tag/Linux>Linux</a>, <a href=/tag/OneDrive>OneDrive</a>, <a href=/tag/rclone>rclone</a></div></div></div><style data-emotion="css 1gzdrlg">.css-1gzdrlg{padding:10px;font-size:1rem;line-height:180%}.css-1gzdrlg pre{background:#f0f0f0;border-radius:6px;padding:.5em 1em;overflow-x:auto}.css-1gzdrlg code{font-family:monoscape}.css-1gzdrlg h1{margin:1.8rem 0;font-size:1.8rem}.css-1gzdrlg h1:before{content:"# ";color:#a19c91}.css-1gzdrlg h2{margin:1.6rem 0;font-size:1.6rem}.css-1gzdrlg h2:before{content:"## ";color:#a19c91}.css-1gzdrlg h3{margin:1.4rem 0;font-size:1.4rem}.css-1gzdrlg h3:before{content:"### ";color:#a19c91}.css-1gzdrlg h4{margin:1.2rem 0;font-size:1.2rem}.css-1gzdrlg h5{margin:1.15rem 0;font-size:1.15rem}.css-1gzdrlg h5:before{content:"> ";color:#a19c91}.css-1gzdrlg h6{margin:1.1rem 0;font-size:1.1rem}.css-1gzdrlg h6:before{content:">> ";color:#a19c91}.css-1gzdrlg img,.css-1gzdrlg iframe{max-width:80%;margin:0 auto;display:block}.css-1gzdrlg table{white-space:nowrap;border-collapse:collapse;display:block;overflow-x:auto}.css-1gzdrlg table td,.css-1gzdrlg table tr,.css-1gzdrlg table th{border:1px solid gray}.css-1gzdrlg table th{font-weight:700}.css-1gzdrlg table th,.css-1gzdrlg table td{padding:5px 10px}.css-1gzdrlg table thead{background:#d8d8d8}.css-1gzdrlg blockquote{background:#c2c2c2;border-left:5px solid #4e4e4e;margin:25px 10px 25px 30px;padding:10px 50px}.css-1gzdrlg ul li,.css-1gzdrlg ol li{margin:6px 0}</style><article class=css-1gzdrlg><h1>서론</h1><p><a href=https://www.cau.ac.kr>중앙대학교</a>에서는 MS Office와 OneDrive를 무료로 제공한다. 그래서 잘 쓰고 있다가 노트북을 리눅스로 밀어버린 이후에도 <a href=https://github.com/jstaf/onedriver>onedriver</a>를 이용하여 사용하고 있었다.<sup><a aria-describedby=footnote-label data-footnote-ref href=#user-content-fn-1 id=user-content-fnref-1>1</a></sup> 그러다가 졸업하고 공짜 OneDrive가 끊기면서 개인 OneDrive로 옮겼다가 자취방에 NAS를 만들려 시도하면서 노트북에서 OneDrive를 아예 밀었다. 근데 NAS를 막상 만들어보니 HDD 2개가 동시에 고장나더라... 그래서 OneDrive를 잘 안쓰는 상태로 계속 지내다가 연휴에 모처럼 시간이 나서 리눅스 노트북에 OneDrive를 간단히 세팅하기로 했다.<h1>OneDrive를 써보자.</h1><p>이제 리눅스 노트북에 OneDrive를 세팅해보자.<h2>방법</h2><p>리눅스에서 OneDrive를 세팅하려면 세가지 방법이 있다.<ul><li><a href=https://rclone.org/>rclone</a><li><a href=https://github.com/jstaf/onedriver>onedriver</a><li><a href=https://github.com/abraunegg/onedrive>onedrive</a></ul><p>onedriver는 <a href=https://en.wikipedia.org/wiki/Filesystem_in_Userspace>FUSE</a>를 이용하는 방식이고 onedrive는 로컬 디렉토리를 OneDrive와 동기화하는 방식이다. rclone은 둘 다 가능하다.<p>개인적인 경험으로 onedrive는 아무래도 디스크 용량이 많이 필요했고, onedriver는 내 기억상 OneNote 관련 이상한 버그가 하나 있었다.<sup><a aria-describedby=footnote-label data-footnote-ref href=#user-content-fn-2 id=user-content-fnref-2>2</a></sup> 그래서 이번에는 rclone을 썼다.<h2>rclone</h2><blockquote><p>Rclone is a command-line program to manage files on cloud storage.</blockquote><p>rclone은 클라우드 파일 관리를 위한 프로그램이다. 윈도우에서도 사용 가능하며, 여러 클라우드 서비스를 지원한다.<p>본 글에서는 rclone을 이용해 FUSE로 mount하는 방법을 설명한다.<h3>rclone 설치</h3><p>필자는 <a href=https://archlinux.org>Arch Linux</a>를 이용한다. <code>pacman</code>이나 선호하는 패키지 매니저를 이용하여 설치하면 된다.<pre><code class=language-bash>sudo pacman -Sy rclone
</code></pre><p>일반적인 리눅스 이용자라면 다음 명령어로 설치할 수 있다. <code>curl</code>과 <code>bash</code>는 설치되어 있어야 한다.<pre><code class=language-bash>sudo -v <span class=pl-k>;</span> curl https://rclone.org/install.sh <span class=pl-k>|</span> sudo bash
</code></pre><h3>App</h3><h3>rclone config</h3><p>rclone을 설치했다면 이제 rclone 설정을 생성해야 한다. 다음 명령어를 실행하자. <code>onedrive_personal</code> 부분은 독자가 원하는 대로 변경해도 된다.<pre><code class=language-bash>rclone config create onedrive_personal onedrive --all
</code></pre><p>맨 처음에 아래와 같은 <code>client_id</code>와 <code>client_secret</code> 설정 화면이 나온다. 이 두가지는 선택이긴 한데 설정하면 좋다.<sup><a aria-describedby=footnote-label data-footnote-ref href=#user-content-fn-3 id=user-content-fnref-3>3</a></sup> 설정하는 방법에 대해서는 <a href=https://rclone.org/onedrive/>rclone 공식 홈페이지</a>의 <strong>Creating Client ID for OneDrive Personal</strong>이나 <strong>Creating Client ID for OneDrive Business</strong>(학교나 회사의 OneDrive를 쓰는 경우)를 참고하자.<pre><code>$ rclone config create test onedrive --all
Option client_id.
OAuth Client Id.
Leave blank normally.
Enter a value. Press Enter to leave empty.
client_id> 

Option client_secret.
OAuth Client Secret.
Leave blank normally.
Enter a value. Press Enter to leave empty.
client_secret> 
</code></pre><p>region은 1로 한다.<pre><code>Option region.
Choose national cloud region for OneDrive.
Choose a number from below, or type in your own value of type string.
Press Enter for the default (global).
 1 / Microsoft Cloud Global
   \ (global)
 2 / Microsoft Cloud for US Government
   \ (us)
 3 / Microsoft Cloud Germany (deprecated - try global region first).
   \ (de)
 4 / Azure and Office 365 operated by Vnet Group in China
   \ (cn)
region> 1
</code></pre><p>tenant는 빈 칸으로 하면 된다.<pre><code>Option tenant.
ID of the service principal's tenant. Also called its directory ID.
Set this if using
- Client Credential flow
Enter a value. Press Enter to leave empty.
tenant> 
</code></pre><p>고급 설정은 필요 없다.<pre><code>Edit advanced config?
y) Yes
n) No (default)
y/n> 
</code></pre><p>여기서 엔터를 누르면 웹 브라우저가 열린다. 웹 브라우저에서 로그인하면 된다.<pre><code>Use web browser to automatically authenticate rclone with remote?
 * Say Y if the machine running rclone has a web browser you can use
 * Say N if running rclone on a (remote) machine without web browser access
If not sure try Y. If Y failed, try N.

y) Yes (default)
n) No
y/n> 
</code></pre><p>로그인을 완료하면 터미널에서 다음과 같은 질문이 뜬다. 1을 입력하자.<pre><code>Option config_type.
Type of connection
Choose a number from below, or type in an existing value of type string.
Press Enter for the default (onedrive).
 1 / OneDrive Personal or Business
   \ (onedrive)
 2 / Root Sharepoint site
   \ (sharepoint)
   / Sharepoint site name or URL
 3 | E.g. mysite or https://contoso.sharepoint.com/sites/mysite
   \ (url)
 4 / Search for a Sharepoint site
   \ (search)
 5 / Type in driveID (advanced)
   \ (driveid)
 6 / Type in SiteID (advanced)
   \ (siteid)
   / Sharepoint server-relative path (advanced)
 7 | E.g. /teams/hr
   \ (path)
config_type> 
</code></pre><p>아래와 같이 driveid를 선택하는 화면이 뜬다. 그냥 엔터를 눌러 기본값을 선택하자.<pre><code>Option config_driveid.
Select drive you want to use
Choose a number from below, or type in your own value of type string.
Press Enter for the default (DDDDDDD).
 1 / redacted1 (personal)
   \ (AAAAAAA)
 2 / redacted2 (personal)
   \ (BBBBBBB)
 3 / redacted3 (personal)
   \ (CCCCCCC)
 4 / OneDrive (personal)
   \ (DDDDDDD)
config_driveid> 
</code></pre><p>URL을 눌러 원드라이브가 정상적으로 표시되는 지 확인하자. 원하는 원드라이브가 표시된다면 y를 입력하자.<pre><code>Drive OK?

Found drive "root" of type "personal"
URL: https://onedrive.live.com?cid=redacted
</code></pre><p>그러면 이제 config 생성이 끝난다.<h3>rclone mount</h3><p>이제 rclone mount를 하자. 필자가 이용하는 rclone mount 명령어는 다음과 같다.<pre><code class=language-bash>rclone mount --vfs-cache-mode full --stats=10s --stats-log-level NOTICE --log-file=/var/log/rclone/rclone-onedrive.log --log-file-max-size 1M --log-file-max-backups 15 onedrive_personal: <span class=pl-k>~</span>/OneDrive
</code></pre><p>위 명령어를 실행하여 <code>~/OneDrive</code>에 원드라이브가 마운트되는지 확인해보자. 참고로 로그 디렉토리는 명령어를 실행하는 계정이 소유하고 있어야 하며, 마운트될 디렉토리는 미리 생성되어 있어야 한다. (이에 관련해서는 아래 명령어를 참고하자.)<pre><code class=language-bash>sudo mkdir /var/log/rclone
sudo chown -R <span class=pl-s><span class=pl-pds>$(</span>whoami<span class=pl-pds>)</span></span> /var/log/rclone
mkdir <span class=pl-k>~</span>/OneDrive
</code></pre><h3>crontab</h3><p>잘 된다면 이제 부팅될 때마다 rclone mount 명령어가 실행되도록 설정하자. 처음에는 무지성으로 <code>~/.profile</code> 파일에 집어넣었는데 생각해보니 이 파일 터미널 창 켰을 때 자동실행되는 파일이잖아? 그래서 KDE 자동 시작 설정을 이용하려고 했는데 재부팅하면 자동 시작 설정이 초기화되는 버그가 있었다. 왜...?<p>그러면 대충 남은 선택지가 <code>systemd</code> 이용하는 방법인데 systemd unit 파일 만들기가 귀찮았다. 그래서 어떻게 하면 가장 덜 귀찮게 할 수 있을까 생각했는데<p><img alt='빨간 옷을 입은 어린이가 한 손을 들며 "아하!"하는 듯한 모습'src=aha.jpg><p>crontab을 쓰면 되잖아?<p>아치 리눅스는 crontab이 기본적으로 설치되어 있지 않다. 바로 설치하자.<pre><code class=language-bash>sudo pacman -Sy cronie
sudo systemctl <span class=pl-c1>enable</span> cronie
</code></pre><p><code>~/.autostart.sh</code> 파일을 아래와 같이 만들자. rclone 명령어를 입력할 때는 <code>--daemon</code> 옵션 추가해서 입력하면 된다.<pre><code class=language-bash><span class=pl-c>#/bin/sh</span>
rclone mount --daemon --vfs-cache-mode full --stats=10s --stats-log-level NOTICE --log-file=/var/log/rclone/rclone-onedrive.log --log-file-max-size 1M --log-file-max-backups 15 onedrive: <span class=pl-k>~</span>/OneDrive
</code></pre><p>그리고 <code>crontab -e</code> 명령어를 실행하고 다음 내용을 추가하자. <code>litehell</code> 부분은 독자의 사용자 계정명으로 알아서 바꾸면 된다.<pre><code class=language-bash>@reboot /bin/sh /home/litehell/.autostart.sh
</code></pre><p>이제 재부팅하면 잘 되는 걸 확인할 수 있다. 메데타시~<h2>결론</h2><p>NAS 만든답시고 HDD 2개 샀다가 2개 다 고장나는 기적을 본 뒤 OneDrive도 클라우드도 잘 안쓰는 채로 지냈었다. 뭐 건들고 설정하는 게 귀찮아서 그런건데... 이제 설정했으니 잘 쓰지 않을까 싶다.<hr><section class=footnotes data-footnotes><h1 class=sr-only id=footnote-label>주석</h1><ol><li id=user-content-fn-1><p>그때 노트북 SSD 용량이 많지 않아서 <a href=https://github.com/abraunegg/onedrive>onedrive</a>는 고려하지 않았다. <a aria-label="Back to reference 1"class=data-footnote-backref data-footnote-backref href=#user-content-fnref-1>↩</a></p><li id=user-content-fn-2><p>OneNote 파일이 무한 증식하는 버그가 있었던 것 같은데... 확실하진 않다. <a aria-label="Back to reference 2"class=data-footnote-backref data-footnote-backref href=#user-content-fnref-2>↩</a></p><li id=user-content-fn-3><p>필자는 설정했다. <a aria-label="Back to reference 3"class=data-footnote-backref data-footnote-backref href=#user-content-fnref-3>↩</a></p></ol></section></article><style data-emotion="css ly0ba3">.css-ly0ba3 .utterances{max-width:100%!important}</style><div class=css-ly0ba3><script label="blog comment"async crossorigin issue-term=onedrive_on_linux repo=LiteHell/litehell-blog src=https://utteranc.es/client.js theme=github-light></script></div><style data-emotion="css eyxei3">.css-eyxei3{-webkit-box-flex-wrap:wrap;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;justify-content:space-between;gap:1em .5em;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.css-eyxei3 a{-webkit-text-decoration:none;text-decoration:none}.css-eyxei3 .inner{vertical-align:top;display:inline-block}.css-eyxei3 .inner .title{font-size:1.3em;line-height:1.3rem}.css-eyxei3 .inner .subtitle{margin-top:.2rem;font-size:1rem;font-weight:200;line-height:1rem}.css-eyxei3 .inner .date{font-size:.8em;font-weight:200;line-height:.8rem}.css-eyxei3 .next,.css-eyxei3 .previous{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:.5em;width:max-content;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.css-eyxei3 .next.next,.css-eyxei3 .previous.next{text-align:right;margin-left:auto}.css-eyxei3 .next.previous,.css-eyxei3 .previous.previous{text-align:left}.css-eyxei3 .next .inner,.css-eyxei3 .previous .inner{-webkit-flex:1;-ms-flex:1;flex:1}</style><nav class=css-eyxei3><a class=previous href=/post/wivrn_for_non_steam_windows_games><div class=arrow>❮</div><div class=inner><div class=title>WiVRn로 리눅스에서 非Steam VR 게임 실행하기</div><div class=subtitle>umu launcher와 함께하는 삽질</div><div class=date>2025. 10. 19. 오후 6:20:54</div></div></a><a class=next href=/post/review_of_reserved_forces_training_2025><div class=inner><div class=title>공군 수원 10비 예비군 후기</div><div class=subtitle>한 번 공군은 영원한 공군</div><div class=date>2025. 9. 21. 오전 1:28:20</div></div><div class=arrow>❯</div></a></nav></div></main><style data-emotion="css 19fp2wc">.css-19fp2wc{font-size:.75rem;line-height:.9rem}.css-19fp2wc p{margin:0 0 1em;padding:0}.css-19fp2wc .badges{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:1em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.css-19fp2wc .badges img{border-width:0;width:auto;height:3em}</style><footer class=css-19fp2wc><p>Copyright (C) 2020 ~ 2025 Yeonjin Shin (a.k.a. LiteHell), All rights reserved.<br><a href=/license>This blog is free software; For source code and more informations on license and copyrights, Click here.</a><p>Feeds: <a href=/feed/rss>RSS 2.0</a>, <a href=/feed/atom>Atom</a>, <a href=/feed/json>JSON</a><div class=badges><a href=http://creativecommons.org/licenses/by-sa/4.0/ rel=license><img alt="Creative Commons License"src=https://i.creativecommons.org/l/by-sa/4.0/88x31.png><a href=https://www.gnu.org/licenses/agpl-3.0.en.html><img alt="GNU Affero General License Version 3"src=https://www.gnu.org/graphics/agplv3-with-text-100x42.png></a></a></div></footer></div>