<!DOCTYPE html><html lang="ko-KR"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1"/><link rel="canonical" href="https://blog.litehell.info/post/retrospective_of_2021"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/rss"/><link rel="alternate" type=" application/atom+xml" title="Atom 1.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/atom"/><link rel="alternate" type="application/feed+json" title="Json 1.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/json"/><meta property="og:title" content="2021년의 회고"/><meta property="og:description" content="코로나와 군대"/><meta property="og:locale" content="ko_KR"/><meta property="og:type" content="article"/><meta property="og:site_name" content="LiteHell의 블로그"/><meta property="og:url" content="https://blog.litehell.info/post/retrospective_of_2021"/><meta property="og:image" content="https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1"/><title>LiteHell의 블로그 - <!-- -->2021년의 회고</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/vs2015.min.css"/><meta name="next-head-count" content="16"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CZL0E8YDPW"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-CZL0E8YDPW', { page_path: window.location.pathname });
            </script><link rel="preload" href="/_next/static/css/27d177a30947857b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/27d177a30947857b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/088d29430e0ecbdb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/088d29430e0ecbdb.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-ad45764ecfcae9e5.js" defer=""></script><script src="/_next/static/chunks/main-ee0cf4b7f81d7c24.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a96cacb95f41a3ef.js" defer=""></script><script src="/_next/static/chunks/996-c5e5aa4c30f33066.js" defer=""></script><script src="/_next/static/chunks/503-25bfb158f613fce4.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bid%5D-b722ca2857677f7b.js" defer=""></script><script src="/_next/static/tbjb--tVlqrYdFKISfdG6/_buildManifest.js" defer=""></script><script src="/_next/static/tbjb--tVlqrYdFKISfdG6/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_body__O2_kC"><header class="Layout_header__M_IZ8"><div class="Layout_container__z4qWC"><h1><a href="/">LiteHell의 블로그</a></h1><div class="Layout_outLinks__XBNs_">외부고리 : <a href="https://litehell.info">Homepage</a><a href="https://github.com/LiteHell">GitHub</a><a href="https://linkedin.com/in/LiteHell">LinkedIn</a><a href="https://keybase.io/LiteHell">Keybase</a><a href="mailto:litehell@litehell.info">Email</a></div><div class="Layout_inLinks__f7gmD">내부고리 : <a href="/category">카테고리</a><a href="/tag">태그</a></div></div></header><main class="Layout_mainContainer__5WZfx"><div class="Layout_container__z4qWC"><div class="Blog_header__r4wcZ"><div class="Blog_title___OFu6"><h1>2021년의 회고</h1><h2>코로나와 군대</h2></div><p>2/12/2022, 12:16:55 PM<!-- -->에 <!-- -->LiteHell<!-- -->이(가) 작성<!-- -->하고 11/19/2022, 5:07:57 PM에 수정함<br/><span>카테고리 : <a href="/category/Life">Life</a><br/></span><span>태그 : <span class="Blog_tag__RW5VK"><a href="/tag/Retrospective">Retrospective</a></span><br/></span></p></div><section class="Blog_article__WZp3G"><h1 id="들어가는-말">들어가는 말</h1>
<p>블로그를 만들었는데 쓸거리가 없다. 하기야 군대에서 스마트폰만 만지막거리며 놀고 있으니 그럴 것이다. 블로그를 썩히고 있는 것이 눈에 보여서 뭐라도 쓸까 생각하다가 회고를 안 한 것이 떠올라 이제서야 쓰려한다.</p>
<p>돌이켜보면 애매한 타이밍이긴 하다. 2월이니 연초는 맞긴 맞는데, 회고를 쓸 타이밍은 아닌 것 같은 타이밍. 보통 회고는 1월 초에 쓰는 게 무언의 관례니까. 뭐 어떻겠는가, 타이밍이 어쨌든간에 내가 쓰고 싶을 때 쓰면 되는 것이다.</p>
<p>작년을 간략하게 요약하면 코로나와 군대의 해였다. 코로나때문에 집에서만 지내다가 군대에 들어간 순간 시간이 사라졌다. 올해에는 코로나 팬데믹이 끝나기를 소망하며, 지금부터 회고를 시작한다.</p>
<h1 id="마지막-불꽃-13월">마지막 불꽃 (1~3월)</h1>
<p>2021년 3월에 입대가 결정됐다. 3월에 군대가서 전역하면 내년 12월, 복학하기에 큰 무리없는 시기이다. 이를 위해 자격증을 따고 헌혈을 하고 학교증명서를 뗐다. 군대도 스펙을 준비해야 한다니, 우리나라 사람들은 줄세우기를 참 좋아하는 것 같다. 군대와 관련된 이야기를 하면 무심코 어릴 적의 기억이 떠오른다, 한때 통일돼서 군대 안 가기를 기도하던 어린 시절이... 나에게도 그런 순수한 시절이 있었으매, 세월은 느리게 가는 듯하면서도 빠르게 흘러감을 상기한다.</p>
<p>이제 영장의 주사위는 굴러졌으니, 3월에 군대를 가기 전에 열심히 코딩하고 친구들 만나고 놀고 먹고 다니기로 결심했다. 훈련소에 들어가면 다시는 못 만날 친구들이오, 하기 어려울 코딩일텐데, 지금 최대한으로 해야 후회하지 않을테니까.</p>
<p>따라서 코딩을 적극적으로 하기 시작했다. 교내 커뮤니티 서비스인 <a href="https://eodiro.com">어디로</a>에 <a href="https://github.com/payw-org/eodiro-server/pull/68">PR</a>도 내고, 지금 보고 있는 <a href="https://github.com/litehell/litehell-blog">블로그</a>도 이때 완성했다. 현재 <a href="https://caumd.club">만화두레 홈페이지</a>을 만드는 데 쓰인 <a href="https://github.com/ManhwaDurae/fullcards">fullcards 프로젝트</a>도 1월부터 3월까지 firebase를 배우며 만들었다. (<a href="https://blog.litehell.info/post/first_use_of_firebase">관련 블로그 글</a>) 관계형 DB 스카마를 설계하기가 귀찮아서 firebase를 골랐는데, 빠르게 개발하는 데엔 나쁘지 않은 선택지이다. 지금 잘 굴러가는 만화두레 회원관리 사이트(<a href="https://github.com/ManhwaDurae/manduid-backend">백엔드</a>, <a href="https://github.com/ManhwaDurae/manduid-frontend">프론트엔드</a>)도 이때 많은 버그를 수정하고 여러 기능들을 개선했다.</p>
<p>그리고 2~3월동안 내 서버에서 돌아가던 모든 것들을 도커화했다. 여러 노드를 유동적으로 만들어야 하거나 로드밸런싱이 필요한 규모의 서비스는 없었기에, 단순하게 docker-compose를 이용해 서버내 서비스들을 각각 하나의 컨테이너들로 도커화했다. 그 전에는 <a href="https://pm2.keymetrics.io/">pm2</a>를 썼는데, Docker를 쓰니 확실히 편하긴 했다.</p>
<h1 id="군대">군대</h1>
<p>3월에 진주로 내려와 입대했다. 코로나19 때문에 입영식같은 행사는 없었다. 차에서 내려 부모님과 헤어진 후 조교들의 지시에 따라 PCR검사를 받고 터벅터벅 생활관으로 걸어갔다. 그 걸어가는 길의 첫 인상은 주머니에 손 넣지 말고 걸으라던 조교의 큰 목소리였다.</p>
<p>기초군사훈련을 마치고 특기교육을 받았다. 특기학교에서의 큰 변화는 자판기와 기가지니, 그리고 간이 BX가 있다는 점이었다. 수업이 끝나고 쉬는 시간이면 기가지니로 아이돌 노래를 귀에 못이 박히도록 듣고, 간이 BX에서 주전부리를 사 먹으며 특기교육을 받았다. 자판기는 내 심심한 입을 달래주는 좋은 절친이었다. 특기교육은 전공자 기준으로 그리 어려운 내용이 없기에 성적도 무난하게 받을 수 있었다.</p>
<p>자대에서는 코딩을 쉬고 독서와 그림 그리기를 하고 있다. 코딩이야 어처피 전역하면 질리도록 할테니 부대 내에 있을때는 쉬고 싶었다. 아, 군내에서 해커톤도 열어서 신기했다.</p>
<h1 id="마무리">마무리</h1>
<p>회고를 하려했는데 딱히 할 게 없다. 아무래도 코로나와 군대때문에 그런 것 같다. 어서빨리 전역해서 재밌고 즐거운 것들을 하고 싶다.</p>
</section><div class="Comments_blogComments__GRWmY"></div><nav class="Blog_postNav__ivy8_ Blog_hasBoth__3MRPr"><div class="Blog_leftAnchor__HhzIP"><a href="/post/first_use_of_firebase"><div class="Blog_postDescription__eV92_"><div class="Blog_title___OFu6">Firebase 처음 써본 이야기</div><div class="Blog_subtitle__RRFh7">데이터베이스 스카마 설계하기 귀찮을 때</div></div></a></div><div class="Blog_rightAnchor__B9n7B"><a href="/post/watermark_into_website"><div class="Blog_postDescription__eV92_"><div class="Blog_title___OFu6">웹사이트에 워터마크 추가하기</div><div class="Blog_subtitle__RRFh7">캡쳐를 추적하는 스누라이프처럼</div></div></a></div></nav></div></main><footer class="Layout_footer__bKkxe"><div class="Layout_container__z4qWC"><a href="https://www.gnu.org/licenses/agpl-3.0.en.html"><img alt="GNU Affero General License Version 3" src="https://www.gnu.org/graphics/agplv3-with-text-100x42.png" style="height:31px"/></a> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"/></a><br/>Copyrights (C) 2020 LiteHell, All rights reserved.<br/><div class="Layout_visibleOnPrintOnly__UK6Yl">LiteHell&#x27;s Blog - <a href="https://blog.litehell.info">https://blog.litehell.info</a><br/>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.<br/><br/>Url of this article: <a href="https://blog.litehell.info/post/retrospective_of_2021">https://blog.litehell.info/post/retrospective_of_2021</a><br/></div><div class="Layout_invisibleOnPrint__rdrDv">Fox Image : Copyrights (C) 2004 Shiretoko-Shari Torurist Association<br/><a href="/license">This blog is free software; For source code and more informations on license and copyrights, Click here.</a><br/><br/>Feeds : <a href="/feed/rss">RSS 2.0</a>,<!-- --> <a href="/feed/atom">Atom 1.0</a>, <a href="/feed/json">Json 1.0</a></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"metadata":{"title":"2021년의 회고","subtitle":"코로나와 군대","author":"LiteHell","date":"2022-02-12T12:16:55.084Z","category":"Life","tags":["Retrospective"],"last_modified_at":"2022-11-19T17:07:57.764Z"},"rendered":"\u003ch1 id=\"들어가는-말\"\u003e들어가는 말\u003c/h1\u003e\n\u003cp\u003e블로그를 만들었는데 쓸거리가 없다. 하기야 군대에서 스마트폰만 만지막거리며 놀고 있으니 그럴 것이다. 블로그를 썩히고 있는 것이 눈에 보여서 뭐라도 쓸까 생각하다가 회고를 안 한 것이 떠올라 이제서야 쓰려한다.\u003c/p\u003e\n\u003cp\u003e돌이켜보면 애매한 타이밍이긴 하다. 2월이니 연초는 맞긴 맞는데, 회고를 쓸 타이밍은 아닌 것 같은 타이밍. 보통 회고는 1월 초에 쓰는 게 무언의 관례니까. 뭐 어떻겠는가, 타이밍이 어쨌든간에 내가 쓰고 싶을 때 쓰면 되는 것이다.\u003c/p\u003e\n\u003cp\u003e작년을 간략하게 요약하면 코로나와 군대의 해였다. 코로나때문에 집에서만 지내다가 군대에 들어간 순간 시간이 사라졌다. 올해에는 코로나 팬데믹이 끝나기를 소망하며, 지금부터 회고를 시작한다.\u003c/p\u003e\n\u003ch1 id=\"마지막-불꽃-13월\"\u003e마지막 불꽃 (1~3월)\u003c/h1\u003e\n\u003cp\u003e2021년 3월에 입대가 결정됐다. 3월에 군대가서 전역하면 내년 12월, 복학하기에 큰 무리없는 시기이다. 이를 위해 자격증을 따고 헌혈을 하고 학교증명서를 뗐다. 군대도 스펙을 준비해야 한다니, 우리나라 사람들은 줄세우기를 참 좋아하는 것 같다. 군대와 관련된 이야기를 하면 무심코 어릴 적의 기억이 떠오른다, 한때 통일돼서 군대 안 가기를 기도하던 어린 시절이... 나에게도 그런 순수한 시절이 있었으매, 세월은 느리게 가는 듯하면서도 빠르게 흘러감을 상기한다.\u003c/p\u003e\n\u003cp\u003e이제 영장의 주사위는 굴러졌으니, 3월에 군대를 가기 전에 열심히 코딩하고 친구들 만나고 놀고 먹고 다니기로 결심했다. 훈련소에 들어가면 다시는 못 만날 친구들이오, 하기 어려울 코딩일텐데, 지금 최대한으로 해야 후회하지 않을테니까.\u003c/p\u003e\n\u003cp\u003e따라서 코딩을 적극적으로 하기 시작했다. 교내 커뮤니티 서비스인 \u003ca href=\"https://eodiro.com\"\u003e어디로\u003c/a\u003e에 \u003ca href=\"https://github.com/payw-org/eodiro-server/pull/68\"\u003ePR\u003c/a\u003e도 내고, 지금 보고 있는 \u003ca href=\"https://github.com/litehell/litehell-blog\"\u003e블로그\u003c/a\u003e도 이때 완성했다. 현재 \u003ca href=\"https://caumd.club\"\u003e만화두레 홈페이지\u003c/a\u003e을 만드는 데 쓰인 \u003ca href=\"https://github.com/ManhwaDurae/fullcards\"\u003efullcards 프로젝트\u003c/a\u003e도 1월부터 3월까지 firebase를 배우며 만들었다. (\u003ca href=\"https://blog.litehell.info/post/first_use_of_firebase\"\u003e관련 블로그 글\u003c/a\u003e) 관계형 DB 스카마를 설계하기가 귀찮아서 firebase를 골랐는데, 빠르게 개발하는 데엔 나쁘지 않은 선택지이다. 지금 잘 굴러가는 만화두레 회원관리 사이트(\u003ca href=\"https://github.com/ManhwaDurae/manduid-backend\"\u003e백엔드\u003c/a\u003e, \u003ca href=\"https://github.com/ManhwaDurae/manduid-frontend\"\u003e프론트엔드\u003c/a\u003e)도 이때 많은 버그를 수정하고 여러 기능들을 개선했다.\u003c/p\u003e\n\u003cp\u003e그리고 2~3월동안 내 서버에서 돌아가던 모든 것들을 도커화했다. 여러 노드를 유동적으로 만들어야 하거나 로드밸런싱이 필요한 규모의 서비스는 없었기에, 단순하게 docker-compose를 이용해 서버내 서비스들을 각각 하나의 컨테이너들로 도커화했다. 그 전에는 \u003ca href=\"https://pm2.keymetrics.io/\"\u003epm2\u003c/a\u003e를 썼는데, Docker를 쓰니 확실히 편하긴 했다.\u003c/p\u003e\n\u003ch1 id=\"군대\"\u003e군대\u003c/h1\u003e\n\u003cp\u003e3월에 진주로 내려와 입대했다. 코로나19 때문에 입영식같은 행사는 없었다. 차에서 내려 부모님과 헤어진 후 조교들의 지시에 따라 PCR검사를 받고 터벅터벅 생활관으로 걸어갔다. 그 걸어가는 길의 첫 인상은 주머니에 손 넣지 말고 걸으라던 조교의 큰 목소리였다.\u003c/p\u003e\n\u003cp\u003e기초군사훈련을 마치고 특기교육을 받았다. 특기학교에서의 큰 변화는 자판기와 기가지니, 그리고 간이 BX가 있다는 점이었다. 수업이 끝나고 쉬는 시간이면 기가지니로 아이돌 노래를 귀에 못이 박히도록 듣고, 간이 BX에서 주전부리를 사 먹으며 특기교육을 받았다. 자판기는 내 심심한 입을 달래주는 좋은 절친이었다. 특기교육은 전공자 기준으로 그리 어려운 내용이 없기에 성적도 무난하게 받을 수 있었다.\u003c/p\u003e\n\u003cp\u003e자대에서는 코딩을 쉬고 독서와 그림 그리기를 하고 있다. 코딩이야 어처피 전역하면 질리도록 할테니 부대 내에 있을때는 쉬고 싶었다. 아, 군내에서 해커톤도 열어서 신기했다.\u003c/p\u003e\n\u003ch1 id=\"마무리\"\u003e마무리\u003c/h1\u003e\n\u003cp\u003e회고를 하려했는데 딱히 할 게 없다. 아무래도 코로나와 군대때문에 그런 것 같다. 어서빨리 전역해서 재밌고 즐거운 것들을 하고 싶다.\u003c/p\u003e\n"},"articleId":"retrospective_of_2021","previousPost":{"name":"first_use_of_firebase","metadata":{"title":"Firebase 처음 써본 이야기","subtitle":"데이터베이스 스카마 설계하기 귀찮을 때","author":"LiteHell","date":"2021-02-28T22:40:29+09:00","category":"Dev","tags":["Firebase","React"]},"rendered":"\u003ch1 id=\"발단\"\u003e발단\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"/post/oauth2_and_oidc\"\u003e전 글\u003c/a\u003e에서 동아리 인증 시스템을 만들 때, 동아리 소개 홈페이지도 같이 만들었다. 동아리 홈페이지를 만들어두면 나중에 홍보할 때 써먹을 수 있겠다는 판단이 들어서였다. 그래서 그때 당시(2020년 초)에 \u003ca href=\"https://pages.github.com/\"\u003eGitHub Pages\u003c/a\u003e와 \u003ca href=\"https://startbootstrap.com/theme/creative\"\u003eCreative 템플릿\u003c/a\u003e을 이용해 간단히 제작했다.\u003c/p\u003e\n\u003cp\u003e그 다음 연도(2021년 초)에 회장이 바뀌고 회장 전화번호를 수정하면서 \u003ca href=\"https://getbootstrap.com\"\u003eBootstrap\u003c/a\u003e 의존성을 걷어내고 순수 CSS와 HTML, JS(+jQuery)로만 재작성했다. 그 때 당시에는 1페이지의 홈페이지로, 간단한 동아리 소개와 회장단 연락처, 동아리 가입신청 링크만 있었다.\u003c/p\u003e\n\u003cp\u003e이때 당시에는, 홈페이지 수정이 1년에 한 두번만 있을 것이라고 생각했었다. 그래서 그냥 간단하게 GitHub Pages를 이용해서 게시했다. 어처피 내가 곧 군대를 가게 될지라도 수정해주고 가면 될 것이라 판단도 있었다.\u003c/p\u003e\n\u003ch1 id=\"수정-가능한-형태\"\u003e수정 가능한 형태\u003c/h1\u003e\n\u003cp\u003e그러나 새 회장은 홈페이지를 보다 더 적극적으로 이용하고자 했다. 그래서 내게 홈페이지를 자신이 수정 가능하게 해달라는 부탁을 했고, 나는 공부도 해볼 겸 나쁘지 않겠다 싶어서 그 요청을 수락했다.\u003c/p\u003e\n\u003ch2 id=\"웹사이트-디자인\"\u003e웹사이트 디자인\u003c/h2\u003e\n\u003cp\u003e먼저 웹 사이트를 수정 가능한 형태로 하려면 웹 사이트 디자인을 먼저 생각해야 한다. 앞서 말한 2020년 초 디자인이 간단한 카드형태였는데, 그때의 디자인을 살리면 괜찮겠다고 생각했다. 그래서 웹 사이트를 \u0026quot;제목, 내용\u0026quot; 이 두가지로 이루어진 \u0026quot;카드\u0026quot;들의 집합으로 정의하고 디자인했다.\u003c/p\u003e\n\u003cp\u003e결과는 꽤 그럴싸하게 나왔다. 간단한 CSS 애니메이션을 주니 보기 좋더라. 나는 디자인 지식이 전무한 공학도이기 때문에 근사한 디자인보다는 그럴싸한 디자인이 최선이었다.\u003c/p\u003e\n\u003ch2 id=\"rdb를-써볼까\"\u003eRDB를 써볼까?\u003c/h2\u003e\n\u003cp\u003e처음에는 \u003ca href=\"https://www.mariadb.org\"\u003eMariaDB\u003c/a\u003e같은 관계형 데이터베이스를 이용하려 했다. 근데 MariaDB를 이용하려면 먼저 데이터베이스 스카마를 설계해야 하는 데 이게 너무 귀찮았다.\n그래서 \u003ca href=\"https://www.mongodb.com/\"\u003eMongoDB\u003c/a\u003e를 써볼까란 생각도 했었는데 MongoDB를 서버에 설치하는 것도 귀찮았다. 그래서 \u0026#39;어떻게 할까...\u0026#39; 생각하고 있었는데 마침 교내 학술동아리 발표에서 \u003ca href=\"https://firebase.google.com\"\u003eFirebase\u003c/a\u003e에 관해 말하더라. 생각해보니 Firebase를 써보는 것도 나쁘지 않겠다는 생각이 들었다.\u003c/p\u003e\n\u003ch1 id=\"firebase를-써보았다\"\u003eFirebase를 써보았다.\u003c/h1\u003e\n\u003cp\u003e그래서 Firebase를 썼다. Firebase는 Google에서 출시한 데이터베이스/스토리지/호스팅 등을 한 데 몪아놓은 서비스로, 번잡한 서버구성 없이 바로 사용할 수 있다는 것이 특징이다.\nFirebase의 데이터베이스는 두 가지 종류가 있다. 가장 먼저 나온 것이 실시간 데이터베이스이고, 그 다음에 나온 것이 Cloud Firestore이다. 실시간 데이터베이스는 데이터를 \u003cstrong\u003e하나의 JSON 트리\u003c/strong\u003e로 보고, Cloud Firestore를 데이터를 \u003cstrong\u003e여러개의 JSON 문서들의 집합\u003c/strong\u003e(MongoDB를 떠올리면 이해가 쉽다)로 본다.\n어처피 동아리 소개 홈페이지는 하나의 페이지로 이루어져 있기에, 하나의 페이지를 만드는데 필요한 데이터는 하나일 것이라고 생각했다. 따라서 실시간 데이터베이스를 채택했다.\u003c/p\u003e\n\u003ch2 id=\"thounghts-in-react\"\u003eThounghts in React\u003c/h2\u003e\n\u003cp\u003e이번 동아리 소개 홈페이지를 만들 때는 \u003ca href=\"https://reactjs.org\"\u003eReact.js\u003c/a\u003e를 채택했다. \u003ca href=\"/post/oauth2_and_oidc\"\u003e저번\u003c/a\u003e에는 Vue를 썼으니 이번에는 React를 써보자는 것이 그 이유였다.\n이번 홈페이지를 만드는 데 있어 복잡도가 그리 높지 않았기에, Redux와 같은 스토어를 이용하지 않았다. 따라서 데이터가 아래로 내려갔다가 위로 다시 올라오는 방식으로 모든 코드를 작성했다.\u003c/p\u003e\n\u003cp\u003e본 홈페이지에서 필요한 페이지들은 다음과 같다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e/\u003c/code\u003e : 메인 페이지\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e/edit\u003c/code\u003e : 편집 페이지\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e/edit/preview\u003c/code\u003e : 편집할 때 미리보는 페이지\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e메인 페이지와 미리보기 페이지는 데이터를 편집할 필요가 없기 때문에 단방향의 데이터 흐름만 구현하면 된다. 따라서 해당 페이지들은 Firebase 데이터베이스에서 데이터를 받아 하위 컴포넌트에 전달하는 방식으로 이루어져 있다. 다만 약간의 차이점이 있다면 메인 페이지는 데이터를 한 번만 받고 (\u003ccode\u003eonce\u003c/code\u003e 메소드) 미리보기 페이지는 데이터가 바뀌면 다시 받는다는 점 (\u003ccode\u003eon\u003c/code\u003e 메소드)이 있다.\u003c/p\u003e\n\u003cp\u003e그러나 편집 페이지는 데이터를 수정해야 하므로 양방향의 데이터 흐름이 필요하다. 따라서 데이터를 하위 컴포넌트에 전달해 표현하고, 수정이 발생하면 하위 컴포넌트에서 상위 컴포넌트로 계속 올라가다 종착지에서 데이터를 수정하는 \u003ca href=\"https://ko.reactjs.org/docs/thinking-in-react.html\"\u003eReact스러운 사고방식\u003c/a\u003e으로 작성했다.\u003c/p\u003e\n\u003cp\u003e하위 컴포넌트에서 텍스트 입력 등 변경사항이 발생해 상위 컴포넌트로 올라갈 때 새로운 변경사항이 반영된 데이터를 같이 전달한다. 모든 하위 컴포넌트들은 자신이 담당하는 데이터만을 가지므로 이는 \u0026quot;웹사이트 전체 데이터\u0026quot;의 일부이다. 이 데이터를 전달받은 상위 컴포넌트는 이 전달받은 데이터를 자신이 관리하는 데이터(prop의 값)에 병합한 데이터를 자신의 상위 컴포넌트로 올려보낸다. 이 상위 컴포넌트들은 하위 컴포넌트보다 더 많은 데이터를 관리하므로, 데이터의 규모는 점점 커지게 된다. 따라서 이를 계속 반복하다 보면, 새로운 변경사항이 반영된 \u0026quot;웹사이트 전체의 데이터\u0026quot;를 받게 된다. 이 \u0026quot;웹사이트 전체의 데이터\u0026quot;를 Firebase 실시간 데이터베이스에 저장하게 함으로써 편집 기능을 구현했다.\u003c/p\u003e\n\u003cp\u003e데이터베이스에 저장한 이후의 데이터를 표현하는 방식에 관해서는, 데이터베이스에 값이 저장되는 순간 Firebase에서 value 이벤트를 발생시키고, 이에 연결된 이벤트 리스너가 페이지의 prop를 수정하게 된다. 따라서 페이지의 prop이 수정됨에 따라 하위 컴포넌트들의 prop도 같이 수정되게 되므로 별도의 특별한 코드가 필요하지 않았다.\u003c/p\u003e\n\u003ch2 id=\"파일-핸들링\"\u003e파일 핸들링\u003c/h2\u003e\n\u003cp\u003eFirebase는 파일 저장을 위한 Storage 기능도 지원한다. Storage에 저장할 때 mime-type만 지정하면 이미지 표시에는 딱히 큰 지장이 없으므로 파일 이름을 \u003ca href=\"https://github.com/ericelliott/cuid\"\u003ecuid\u003c/a\u003e 라이브러리를 이용해 난수로 저장하게 했다. 다만 그러면 편집 페이지에서 볼 때 불편한 점이 있으므로 커스텀 메타데이터로 본래 파일이름도 같이 저장하게 했다.\u003c/p\u003e\n\u003ch2 id=\"firebase와-인증-통합\"\u003eFirebase와 인증 통합\u003c/h2\u003e\n\u003cp\u003eFirebase에서 OpenID Connect를 지원했기에, 기존 동아리의 인증 시스템과 Firebase를 통합하는 것은 그리 어렵지 않았다. 다만 의외의 복병은 Firebase가 Id Token Authorization Grant만을 지원한다는 점이였다. 따라서 Authorization code grant만을 지원하던 인증 시스템을 수정하는 번거로움이 약간 있었다.\u003c/p\u003e\n\u003cp\u003eFirebase의 인증을 통합할때는 \u003ca href=\"https://cloud.google.com/identity-platform\"\u003eGoogle Identity Platform\u003c/a\u003e을 이용하면 된다. 데이터베이스나 스토리지의 보안 규칙을 작성할 때 \u003ccode\u003eauth.token.firebase.sign_in_attributes\u003c/code\u003e 속성으로 ID 토큰의 커스텀 속성에 접근할 수 있으므로 이를 이용해 기존 인증 시스템의 권한 관리도 통합할 수 있었다.\u003c/p\u003e\n\u003ch2 id=\"결론\"\u003e결론\u003c/h2\u003e\n\u003cp\u003eFirebase는 서비스를 빠르게 개발하는 데에 좋은 것 같다.\u003c/p\u003e\n"},"nextPost":{"name":"watermark_into_website","metadata":{"title":"웹사이트에 워터마크 추가하기","subtitle":"캡쳐를 추적하는 스누라이프처럼","author":"LiteHell","date":"2022-03-28T06:45:14.399Z","category":"Dev","tags":["CSS"]},"rendered":"\u003ch1 id=\"워터마크\"\u003e워터마크\u003c/h1\u003e\n\u003cp\u003e워터마크란 무엇일까? 워터마크는 이미지나 비디오등에 삽입되는 표지로, 주로 저작권 정보를 삽입하거나 보안상의 이유로 이용한 사람이 누구인지를 표시할 때 이용된다.\u003c/p\u003e\n\u003cp\u003e웹사이트에 워터마크를 삽입하는 방법은 뭐가 있을까? 가장 쉬운 방법은 배경에 넣는 방법이다. 그러나 배경에 워터마크를 넣으면 배경 위의 글자가 워터마크를 가린다. 이보다 더 나은 방법이 있지 않을까? 오늘은 필자가 웹사이트에 워터마크를 넣은 이야기를 짧게 풀어보고자 한다.\u003c/p\u003e\n\u003ch2 id=\"구상\"\u003e구상\u003c/h2\u003e\n\u003cp\u003e워터마크를 넣으려면 어떻게 해야할까?\u003c/p\u003e\n\u003cp\u003e첫째, 워터마크는 글자나 사진 등에 의해 가려서는 안 된다. 단순하게 background CSS로 워터마크를 넣으면 (위치를 교묘하게 하지 않는 이상) 앞서 말했듯 글자나 사진에 의해 가려질 것이다.\u003c/p\u003e\n\u003cp\u003e둘째, 워터마크는 최대한 제거하기 어렵게 해야한다. 빈 공간 한 구석에 워터마크가 덩그러니 있다면 그냥 그림판으로 지워버리면 된다. 글자나 사진과 같은 컨텐츠 위에 덧붙여진 워터마크가 지우려는 사람 입장에서 가장 짜증날 것이다.\u003c/p\u003e\n\u003cp\u003e위 두가지를 만족하게 하는 방법은 간단하다. HTML의 모든 요소들의 맨 위에서 희미한 워터마크를 무한반복하는 요소를 만들면 된다.\u003c/p\u003e\n\u003ch2 id=\"스케치\"\u003e스케치\u003c/h2\u003e\n\u003cp\u003e간단히 생각해보자. 먼저 서버측에서 다음과 같은 워터마크를 생성하는 \u003ccode\u003e/watermark\u003c/code\u003e 엔드포인트를 만든다. 해당 예시의 배경색은 완전한 투명으로 하고, 글자에도 70% 정도의 불투명도를 적용한다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/img/watermark_example.png\" alt=\"워터마크 예시\"\u003e\u003c/p\u003e\n\u003cp\u003e이제 모든 요소들의 위에서 위 워터마크를 삽입하면 된다. 방법은 간단하다. 다음 HTML과 CSS를 삽입하면 된다. \u003ccode\u003ebackground-repeat\u003c/code\u003e 속성은 기본값이 \u003ccode\u003erepeat\u003c/code\u003e이므로 굳이 설정할 필요가 없다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-HTML\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;simple_watermark\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-class\"\u003e.simple_watermark\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ez-index\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e999\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003ebackground\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003eurl\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/watermark\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-attribute\"\u003eposition\u003c/span\u003e: fixed;\n    \u003cspan class=\"hljs-attribute\"\u003eleft\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003etop\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e간단하다. 그러나 위 방법의 한가지 문제점이 있다. \u003cstrong\u003e웹사이트가 클릭이 안 된다.\u003c/strong\u003e 생각해보면 당연한 일이다. 모든 요소들의 맨 위에 아무것도 없는 워터마크 요소가 덩그라니 있을테고, 클릭하면 해당 요소를 클릭하게 될테니 클릭이 정상적으로 안 되는 게 정상이다. 그렇다면 웹 사이트를 정상적으로 이용할 수 있게 하려면 어떻게 해야할까?\u003c/p\u003e\n\u003ch3 id=\"pointer-events-css\"\u003epointer-events CSS\u003c/h3\u003e\n\u003cp\u003e포인터가 해당 워터마크 요소를 투과하도록 하면 된다. \u003ccode\u003epointer-events\u003c/code\u003e CSS를 이용하면 된다. \u003ccode\u003epointer-events\u003c/code\u003e 속성이 \u003ccode\u003enone\u003c/code\u003e이 되면 포인터가 해당 요소를 \u003cstrong\u003e뚫고\u003c/strong\u003e 들어가게 된다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003enone 값의 경우 요소가 포인터 이벤트의 대상이 아님을 가리키는 동시에, 이벤트가 요소를 \u0026quot;뚫고\u0026quot; 들어가 \u0026quot;아래\u0026quot; 요소를 대상으로 하도록 만듭니다.\u003c/p\u003e\n\u003cp\u003e-- \u003ca href=\"https://developer.mozilla.org/ko/docs/Web/CSS/pointer-events\"\u003eMDN pointer-events 문서\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e물론, 자식 요소들 중 하나가 \u003ccode\u003epointer-events\u003c/code\u003e 속성을 명시적으로 허용했다면, 해당 CSS는 의미가 없게 된다. 그러나 위 예시의 HTML에는 자식 요소가 없으므로 신경쓰지 않아도 된다.\u003c/p\u003e\n\u003cp\u003e따라서 CSS에 \u003ccode\u003epointer-events: none;\u003c/code\u003e 한 줄을 추가하면 완벽해진다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-class\"\u003e.simple_watermark\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ez-index\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e999\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003ebackground\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003eurl\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/watermark\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-attribute\"\u003epointer-events\u003c/span\u003e: none;\n    \u003cspan class=\"hljs-attribute\"\u003eposition\u003c/span\u003e: fixed;\n    \u003cspan class=\"hljs-attribute\"\u003eleft\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003etop\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n    \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"결론\"\u003e결론\u003c/h2\u003e\n\u003cp\u003e웹사이트에 워터마크를 간단하게 넣는 방법을 알아보았다. 위와 같이 \u003ccode\u003epointer-events\u003c/code\u003e CSS를 곁들이면 간단한 투명 워터마크를 만들 수 있다. 물론 투명 워터마크를 위해서는 위 예시 이미지와 같이 워터마크 자체가 투명해야 한다. 이를 위해 레스터 이미지로 작업하는 게 귀찮을 수 있다. 그렇다면 SVG를 이용해 투명 워터마크를 만들면 된다. SVG로 만드는 편이 더 간단하기도 하다.\u003c/p\u003e\n\u003cp\u003e누군가는 이렇게 물을 수 있다: \u0026quot;개발자도구를 이용하면 워터마크를 삭제할 수 있지 않느냐?\u0026quot;. 이 글에서 해당 질문에는 답변하지 않겠다. 이러한 것들까지 어렵게(정확히는 귀찮게) 하는 것은 독자의 몫이다.\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/post/[id]","query":{"id":"retrospective_of_2021"},"buildId":"tbjb--tVlqrYdFKISfdG6","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>