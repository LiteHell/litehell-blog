<!DOCTYPE html><html lang="ko-KR"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1"/><link rel="canonical" href="https://blog.litehell.info/post/rebase_non_consecutive_commits"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/rss"/><link rel="alternate" type=" application/atom+xml" title="Atom 1.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/atom"/><link rel="alternate" type="application/feed+json" title="Json 1.0 Feed for blog.litehell.info" href="https://blog.litehell.info/feed/json"/><meta property="og:title" content="떨어져 있는 커밋 합치기"/><meta property="og:description" content="의외로 간단한 git interactive rebase 활용법"/><meta property="og:locale" content="ko_KR"/><meta property="og:type" content="article"/><meta property="og:site_name" content="LiteHell의 블로그"/><meta property="og:url" content="https://blog.litehell.info/post/rebase_non_consecutive_commits"/><meta property="og:image" content="https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1"/><title>LiteHell의 블로그 - <!-- -->떨어져 있는 커밋 합치기</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/vs2015.min.css"/><meta name="next-head-count" content="16"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CZL0E8YDPW"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-CZL0E8YDPW', { page_path: window.location.pathname });
            </script><link rel="preload" href="/_next/static/css/27d177a30947857b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/27d177a30947857b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/088d29430e0ecbdb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/088d29430e0ecbdb.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-ad45764ecfcae9e5.js" defer=""></script><script src="/_next/static/chunks/main-ee0cf4b7f81d7c24.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a96cacb95f41a3ef.js" defer=""></script><script src="/_next/static/chunks/996-c5e5aa4c30f33066.js" defer=""></script><script src="/_next/static/chunks/503-25bfb158f613fce4.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bid%5D-b722ca2857677f7b.js" defer=""></script><script src="/_next/static/-Jnmemo0XHj-EY0Cns6cx/_buildManifest.js" defer=""></script><script src="/_next/static/-Jnmemo0XHj-EY0Cns6cx/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_body__O2_kC"><header class="Layout_header__M_IZ8"><div class="Layout_container__z4qWC"><h1><a href="/">LiteHell의 블로그</a></h1><div class="Layout_outLinks__XBNs_">외부고리 : <a href="https://litehell.info">Homepage</a><a href="https://github.com/LiteHell">GitHub</a><a href="https://linkedin.com/in/LiteHell">LinkedIn</a><a href="https://keybase.io/LiteHell">Keybase</a><a href="mailto:litehell@litehell.info">Email</a></div><div class="Layout_inLinks__f7gmD">내부고리 : <a href="/category">카테고리</a><a href="/tag">태그</a></div></div></header><main class="Layout_mainContainer__5WZfx"><div class="Layout_container__z4qWC"><div class="Blog_header__r4wcZ"><div class="Blog_title___OFu6"><h1>떨어져 있는 커밋 합치기</h1><h2>의외로 간단한 git interactive rebase 활용법</h2></div><p>1/10/2023, 5:32:23 AM<!-- -->에 <!-- -->LiteHell<!-- -->이(가) 작성<!-- -->함<br/><span>카테고리 : <a href="/category/Dev">Dev</a><br/></span><span>태그 : <span class="Blog_tag__RW5VK"><a href="/tag/Git">Git</a></span><br/></span></p></div><section class="Blog_article__WZp3G"><h1 id="들어가는-글">들어가는 글</h1>
<p>글에 들어가기에 앞서, 이 글의 예시에서 rebase 전의 커밋 순서는 다음과 같다고 가정하자: ... → First commit → Secod commit → Third commit → Bugfix related to third commit → Bugfix related to second commit → Fourth commit → Second bugfix related to third commit</p>
<h1 id="연속된-커밋-합치기">연속된 커밋 합치기</h1>
<p><a href="https://git-scm.com/docs/git-rebase">git rebase -i</a>를 이용하면 간단하게 연속된 커밋을 합칠 수 있다.</p>
<pre><code>pick 89b7a0c First commit
reword 7d62023 Secod commit
pick d3c0a39 Third commit
fixup 4eb60d0 Bugfix related to third commit
pick 69a520d Bugfix related to second commit
pick 584974e Fourth commit
pick 3f9e8fa Second bugfix related to third commit</code></pre>
<p>위 to-do를 실행하면 <code>reword</code>로 커밋 <code>7d62023</code>의 메세지를 수정하게 된다. (이 예시에서는 오타를 정정했다고 가정하자.) 그리고 <code>fixup</code>으로 연속하는 커밋 <code>d3c0a39</code>와 <code>4eb60d0</code>을 합치고, 커밋 <code>4eb60d0</code>의 메세지는 버려지게 된다. (메세지도 같이 합치고 싶다면 <code>squash</code>를 쓰면 된다.)</p>
<p>이를 실행하면 git 히스토리는 다음과 같이 된다: First commit → Second commit → Third commit → Bugfix related to second commit → Fourth commit → Second bugfix related to third commit</p>
<p>그렇다면 우리는 여기서 궁금증이 생긴다. 연속하지 않는 커밋을 합치고 싶을 땐 어떻게 하면 될까?</p>
<h2 id="연속하지-않는-커밋-합치기">연속하지 않는 커밋 합치기</h2>
<p>답은 간단하다. 그냥 to-do에서 커밋 순서를 바꾸면 된다.</p>
<pre><code>pick 89b7a0c First commit
reword 7d62023 Secod commit
fixup 69a520d Bugfix related to second commit
pick d3c0a39 Third commit
fixup 4eb60d0 Bugfix related to third commit
fixup 3f9e8fa Second bugfix related to third commit
pick 584974e Fourth commit</code></pre>
<p>interactive rebase에서 커밋 순서를 무조건 동일하게 해야할 필요는 없다. 연속하지 않는 커밋을 합쳐야 한다면 그냥 순서를 바꿔서 합치면 된다. (이 예시에서도 <code>reword</code>로 커밋 <code>7d62023</code>의 오타를 정정했다고 가정하자.)</p>
<p>위와 같이 실행하면 git 히스토리는 다음과 같다: First commit → Second commit → Third commit → Fourth commit. Git History가 깔끔하게 된 것을 확인할 수 있다.</p>
</section><div class="Comments_blogComments__GRWmY"></div><nav class="Blog_postNav__ivy8_ Blog_hasBoth__3MRPr"><div class="Blog_leftAnchor__HhzIP"><a href="/post/webpack_and_react_ssg_2"><div class="Blog_postDescription__eV92_"><div class="Blog_title___OFu6">Webpack과 React를 이용한 정적 웹사이트 만들기 (2)</div><div class="Blog_subtitle__RRFh7">... + Static HTML Generation = TA-DA!</div></div></a></div><div class="Blog_rightAnchor__B9n7B"><a href="/post/bypassing_safe2go_datepicker_bug"><div class="Blog_postDescription__eV92_"><div class="Blog_title___OFu6">Safe2GO PASS 출발지 날짜 선택 안되는 버그 우회하기</div><div class="Blog_subtitle__RRFh7">인천국제공항 코로나19 검사예약하려는 사람들을 위하여</div></div></a></div></nav></div></main><footer class="Layout_footer__bKkxe"><div class="Layout_container__z4qWC"><a href="https://www.gnu.org/licenses/agpl-3.0.en.html"><img alt="GNU Affero General License Version 3" src="https://www.gnu.org/graphics/agplv3-with-text-100x42.png" style="height:31px"/></a> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"/></a><br/>Copyrights (C) 2020 LiteHell, All rights reserved.<br/><div class="Layout_visibleOnPrintOnly__UK6Yl">LiteHell&#x27;s Blog - <a href="https://blog.litehell.info">https://blog.litehell.info</a><br/>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.<br/><br/>Url of this article: <a href="https://blog.litehell.info/post/rebase_non_consecutive_commits">https://blog.litehell.info/post/rebase_non_consecutive_commits</a><br/></div><div class="Layout_invisibleOnPrint__rdrDv">Fox Image : Copyrights (C) 2004 Shiretoko-Shari Torurist Association<br/><a href="/license">This blog is free software; For source code and more informations on license and copyrights, Click here.</a><br/><br/>Feeds : <a href="/feed/rss">RSS 2.0</a>,<!-- --> <a href="/feed/atom">Atom 1.0</a>, <a href="/feed/json">Json 1.0</a></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"metadata":{"title":"떨어져 있는 커밋 합치기","subtitle":"의외로 간단한 git interactive rebase 활용법","author":"LiteHell","date":"2023-01-10T05:32:23.209Z","category":"Dev","tags":["Git"]},"rendered":"\u003ch1 id=\"들어가는-글\"\u003e들어가는 글\u003c/h1\u003e\n\u003cp\u003e글에 들어가기에 앞서, 이 글의 예시에서 rebase 전의 커밋 순서는 다음과 같다고 가정하자: ... → First commit → Secod commit → Third commit → Bugfix related to third commit → Bugfix related to second commit → Fourth commit → Second bugfix related to third commit\u003c/p\u003e\n\u003ch1 id=\"연속된-커밋-합치기\"\u003e연속된 커밋 합치기\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://git-scm.com/docs/git-rebase\"\u003egit rebase -i\u003c/a\u003e를 이용하면 간단하게 연속된 커밋을 합칠 수 있다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003epick 89b7a0c First commit\nreword 7d62023 Secod commit\npick d3c0a39 Third commit\nfixup 4eb60d0 Bugfix related to third commit\npick 69a520d Bugfix related to second commit\npick 584974e Fourth commit\npick 3f9e8fa Second bugfix related to third commit\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 to-do를 실행하면 \u003ccode\u003ereword\u003c/code\u003e로 커밋 \u003ccode\u003e7d62023\u003c/code\u003e의 메세지를 수정하게 된다. (이 예시에서는 오타를 정정했다고 가정하자.) 그리고 \u003ccode\u003efixup\u003c/code\u003e으로 연속하는 커밋 \u003ccode\u003ed3c0a39\u003c/code\u003e와 \u003ccode\u003e4eb60d0\u003c/code\u003e을 합치고, 커밋 \u003ccode\u003e4eb60d0\u003c/code\u003e의 메세지는 버려지게 된다. (메세지도 같이 합치고 싶다면 \u003ccode\u003esquash\u003c/code\u003e를 쓰면 된다.)\u003c/p\u003e\n\u003cp\u003e이를 실행하면 git 히스토리는 다음과 같이 된다: First commit → Second commit → Third commit → Bugfix related to second commit → Fourth commit → Second bugfix related to third commit\u003c/p\u003e\n\u003cp\u003e그렇다면 우리는 여기서 궁금증이 생긴다. 연속하지 않는 커밋을 합치고 싶을 땐 어떻게 하면 될까?\u003c/p\u003e\n\u003ch2 id=\"연속하지-않는-커밋-합치기\"\u003e연속하지 않는 커밋 합치기\u003c/h2\u003e\n\u003cp\u003e답은 간단하다. 그냥 to-do에서 커밋 순서를 바꾸면 된다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003epick 89b7a0c First commit\nreword 7d62023 Secod commit\nfixup 69a520d Bugfix related to second commit\npick d3c0a39 Third commit\nfixup 4eb60d0 Bugfix related to third commit\nfixup 3f9e8fa Second bugfix related to third commit\npick 584974e Fourth commit\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003einteractive rebase에서 커밋 순서를 무조건 동일하게 해야할 필요는 없다. 연속하지 않는 커밋을 합쳐야 한다면 그냥 순서를 바꿔서 합치면 된다. (이 예시에서도 \u003ccode\u003ereword\u003c/code\u003e로 커밋 \u003ccode\u003e7d62023\u003c/code\u003e의 오타를 정정했다고 가정하자.)\u003c/p\u003e\n\u003cp\u003e위와 같이 실행하면 git 히스토리는 다음과 같다: First commit → Second commit → Third commit → Fourth commit. Git History가 깔끔하게 된 것을 확인할 수 있다.\u003c/p\u003e\n"},"articleId":"rebase_non_consecutive_commits","previousPost":{"name":"webpack_and_react_ssg_2","metadata":{"title":"Webpack과 React를 이용한 정적 웹사이트 만들기 (2)","subtitle":"... + Static HTML Generation = TA-DA!","author":"LiteHell","date":"2023-01-10T05:00:54.358Z","category":"Dev","series":"webpack_and_react_ssg","tags":["React"]},"rendered":"\u003ch1 id=\"들어가는-글\"\u003e들어가는 글\u003c/h1\u003e\n\u003cp\u003e1편에서와 같이 개발하면 매우 잘 된다, 구조가 단순하기 때문이다. 1편의 방식을 개발했을 때 빌드된 결과물을 보면 다음과 같이 생겼을 것이다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- dist/index.html --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- 참고로 이 예시는 예시일뿐이며, 세부사항은 개개인의 상황에 따라 다를 수 있다. --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e\u0026lt;!doctype \u003cspan class=\"hljs-meta-keyword\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;utf-8\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003eLorem ipsum\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;viewport\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;width=device-width,initial-scale=1\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edefer\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;defer\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;166.js\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edefer\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;defer\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;main.js\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e1편에서 번들링된 파일이 script 태그로 삽입되어 HTML 문서가 불려와진 후 모두 끝난 후 실행되는 형태이다. (\u003ccode\u003edefer\u003c/code\u003e속성은 스크립트가 문서 분석 이후에 실행되도록 한다.)\u003c/p\u003e\n\u003cp\u003e즉, \u003cstrong\u003eCSR(Client-Side Rendering)\u003c/strong\u003e 방식이다. body 태그 내에 div 태그를 만들고 해당 태그에 React Component를 렌더링하는 코드가 클라이언트단에서 모두 실행되는 방식이다. 빌드 단계에서 렌더링이 이루어지지 않으며, 빌드 단계에서 이루어지는 것은 오직 코드 번들링뿐이다.\u003c/p\u003e\n\u003cp\u003e리소스가 한 번만 로드되고 후속 페이지 로드시간이 빠르다는 장점이 있지만 몇가지 단점도 있다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSEO(검색 엔진 최적화)에 불리하다.\u003c/li\u003e\n\u003cli\u003e초기 페이지 로드시간이 느리며, 다 로드되기 전까진 흰 화면만 뜬다. (필요한 JavaScript와 CSS를 다 불러와야 하기 때문이다.)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e이러한 단점들을 극복하려면 어떻게 해야할까?\u003c/p\u003e\n\u003ch2 id=\"with-react-hydration\"\u003ewith React Hydration\u003c/h2\u003e\n\u003cp\u003e빌드시에 초기 HTML을 생성하고, 진입 스크립트을 hydration을 하는 방식으로 수정하면 된다. 여기서 hydration이란 ReactDOMServer에 의해 렌더링된 초기 마크업 코드에 이벤트 리스너를 연결(즉, 요약하자면 재활용)하는 것이다.\u003c/p\u003e\n\u003cp\u003e이 방식을 이용하면 HTML 마크업 코드는 빌드 단계에서 생성되고, 클라이언트단에서는 React가 이미 생성된 HTML 코드에 부착(attach)하여 동작한다. 이 방식의 장점은 다음과 같다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSEO(검색 엔진 최적화)에 유리하다.\u003c/li\u003e\n\u003cli\u003eJavaScript와 CSS가 다 불려와지기 전까지 흰화면만 뜨는 현상을 수정할 수 있다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e이 방식을 채택하기 전에 먼지 어떤 사항을 확인해야 하는지 한 번 알아보자.\u003c/p\u003e\n\u003ch3 id=\"유효한-html코드-작성\"\u003e유효한 HTML코드 작성\u003c/h3\u003e\n\u003cp\u003e모든 HTML 코드는 유효하게 작성되어야 한다. 예시를 들자면, p태그 안에는 p태그가 들어갈 수 없다.\u003c/p\u003e\n\u003cp\u003eReact hydration을 하기 위해서는, 빌드단에서 생성된 HTML 코드와 React Component가 생성하는 UI 코드가 일치해야 한다. 만약 초기 UI 불일치 오류가 나타난다면, 유효하지 않은 HTML 코드를 작성한 건 아닌지 한 번 확인해봐야 한다.\u003c/p\u003e\n\u003ch3 id=\"클라이언트단에서만-작동하는-코드-수정\"\u003e클라이언트단에서만 작동하는 코드 수정\u003c/h3\u003e\n\u003cp\u003eNode.js 환경에서 실행되면 오류가 나는 코드가 있다. 이런 코드들은 브라우저 환경에서만 실행되도록 수정해야 한다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 예시\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e isBrowser = \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ewindow\u003c/span\u003e !== \u003cspan class=\"hljs-string\"\u003e\u0026#x27;undefined\u0026#x27;\u003c/span\u003e \u0026amp;\u0026amp; \u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003edocument\u003c/span\u003e !== \u003cspan class=\"hljs-string\"\u003e\u0026#x27;undefined\u0026#x27;\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (isBrowser())\n    \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;../some_module_that_works_only_on_browser\u0026#x27;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e또한, 브라우저단에서 결과가 결정되거나 항상 일정하지 않은 코드는 \u003ccode\u003euseEffect\u003c/code\u003e 등을 이용해 UI가 렌더링된 이후에 실행되도록 수정해야 한다. \n\u003ccode\u003euseState\u003c/code\u003e와 \u003ccode\u003euseEffect\u003c/code\u003e 등은 브라우저단에서만 렌더링된다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useState, useEffect } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// 예시\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAreYouKorean\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n    \u003cspan class=\"hljs-comment\"\u003e// const isKorean = navigator.language === \u0026#x27;ko\u0026#x27;;\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [isKorean, setIsKorean] = useState\u0026lt;\u003cspan class=\"hljs-built_in\"\u003eboolean\u003c/span\u003e | \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e\u0026gt;(\u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e);\n    useEffect(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n        setIsKorean(navigator.language === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;ko\u0026#x27;\u003c/span\u003e);\n    });\n\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e message: \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;...\u0026#x27;\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (isKorean !== \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e)\n        message = isKorean ? \u003cspan class=\"hljs-string\"\u003e\u0026#x27;한국인이시군요.\u0026#x27;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;You\u0026#x27;re not Korean!\u0026quot;\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e{ message }\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"결과가-불명확한-코드-수정\"\u003e결과가 불명확한 코드 수정\u003c/h3\u003e\n\u003cp\u003e이런 코드는 당연히 빌드할 때 생긴 초기 UI와 클라이언트 렌더링시의 초기 UI가 서로 다르게 한다. 빌드시 시간의 초 단위가 짝수면 결과는 *Yes!*가 렌더링될텐데, 사용자가 로드할 때 시간이 홀수면 *No!*가 렌더링되니 서로 불일치하다. 이런 코드가 있다면 수정해야 한다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eisTimeEven\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e time = (\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eDate\u003c/span\u003e()).getSeconds() % \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e === \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e time ? \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e Yes! \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e : \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e No! \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"hydration-적용\"\u003ehydration 적용\u003c/h2\u003e\n\u003cp\u003e위에서 언급한 문제를 모두 수정했다면 hydration시 초기 UI 불일치 오류는 없을 것이다. 이제 hydration을 적용해보자.\u003c/p\u003e\n\u003ch3 id=\"진입-스크립트-수정\"\u003e진입 스크립트 수정\u003c/h3\u003e\n\u003cp\u003e먼저, hydrate하도록 \u003ccode\u003esrc/index.tsx\u003c/code\u003e를 수정하자.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/index.tsx\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e React \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e ReactDOM \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;react-dom/client\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;../styles/index.css\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e isBrowser \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./isBrowser\u0026#x27;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIndex\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;bg-gray-400\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      Hello, World!\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// 만약 브라우저라면\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (isBrowser()) {\n    \u003cspan class=\"hljs-comment\"\u003e// body \u0026gt; #root 태그에\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e rootDiv = \u003cspan class=\"hljs-built_in\"\u003edocument\u003c/span\u003e.querySelector(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;body \u0026gt; #root\u0026#x27;\u003c/span\u003e)!;\n    \u003cspan class=\"hljs-comment\"\u003e// hydration이 필요하다면 (빌드 결과물)\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (rootDiv.classList.contains(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;hydrate\u0026#x27;\u003c/span\u003e)) {\n        \u003cspan class=\"hljs-comment\"\u003e// Index 컴포넌트를 hydrate한다.\u003c/span\u003e\n        ReactDOM.hydrateRoot(rootDiv, \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eIndex\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/span\u003e);\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e/* 만약 hydration이 필요없다면 (webpack serve) */\u003c/span\u003e {\n        \u003cspan class=\"hljs-comment\"\u003e// 그냥 렌더링 한다.\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e root = ReactDOM.createRoot(rootDiv);\n        root.render(\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eIndex\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/span\u003e)\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e브라우저 환경 여부를 판단하는 \u003ccode\u003esrc/isBrowser.ts\u003c/code\u003e도 간단하게 작성한다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/isBrowser.ts\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eisBrowser\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ewindow\u003c/span\u003e !== \u003cspan class=\"hljs-string\"\u003e\u0026#x27;undefined\u0026#x27;\u003c/span\u003e \u0026amp;\u0026amp; \u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003edocument\u003c/span\u003e !== \u003cspan class=\"hljs-string\"\u003e\u0026#x27;undefined\u0026#x27;\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003esrc/index.tsx\u003c/code\u003e는 빌드 스크립트에서도 import된다. 따라서 브라우저단에서만 실행되야 하는 코드는 브라우저단에서만 실행되도록 수정해야 한다.\u003c/p\u003e\n\u003ch3 id=\"html-템플릿-생성\"\u003eHTML 템플릿 생성\u003c/h3\u003e\n\u003cp\u003e그 다음으로, 간단한 HTML 템플릿을 생성한다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- src/index.html --\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-meta\"\u003e\u0026lt;!DOCTYPE \u003cspan class=\"hljs-meta-keyword\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;ko\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;utf8\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;viewport\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;width=device-width, initial-scale=1\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehttp-equiv\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;X-UA-Compatible\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;IE=edge\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003eLorem ipsum\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;root\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"html-생성-스크립트-추가\"\u003eHTML 생성 스크립트 추가\u003c/h3\u003e\n\u003cp\u003e초기 HTML 코드를 생성하는 스크립트를 작성해야 한다. 먼저 스크립트 작성 전에 의존성을 몇가지 설치하자.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eyarn add cheerio tmp-promise\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그 다음으로, 다음과 같이 스크립트를 작성한다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/generate.tsx\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { load \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e loadHTML } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;cheerio\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { createWriteStream, promises \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e fs } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;fs\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e React \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e server \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;react-dom/server\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e tmp \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;tmp-promise\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Index \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./index\u0026#x27;\u003c/span\u003e;\n\n(\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e () =\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// 임시 파일을 생성한다.\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e tmpFile = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e tmp.file();\n\n    \u003cspan class=\"hljs-comment\"\u003e// Webpack 번들러에 의해 생성된 HTML 파일의 위치이다.\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e filename = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./dist/index.html\u0026#x27;\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-comment\"\u003e// 초기 UI 코드를 생성하는 ReactDOMServer의 스트림이다.\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e reactStream = server.renderToPipeableStream(\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eIndex\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-comment\"\u003e// 스트림을 임시 파일에 쓴다.\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fileStream = createWriteStream(tmpFile.path);\n\n    \u003cspan class=\"hljs-comment\"\u003e// 초기 UI 코드가 임시 파일에 모두 써졌으면\u003c/span\u003e\n    reactStream.pipe(fileStream).on(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;finish\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e () =\u0026gt; {\n        \u003cspan class=\"hljs-comment\"\u003e// 웹팩에 의해 번들링된 HTML 파일을 읽는다.\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e htmlText = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e fs.readFile(filename, { \u003cspan class=\"hljs-attr\"\u003eencoding\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;utf8\u0026#x27;\u003c/span\u003e });\n\n        \u003cspan class=\"hljs-comment\"\u003e// HTML 파일의 id가 root인 태그에 초기 UI 코드를 넣는다.\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e dom = loadHTML(htmlText);\n        dom(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;body \u0026gt; #root\u0026#x27;\u003c/span\u003e).html(\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e fs.readFile(tmpFile.path, { \u003cspan class=\"hljs-attr\"\u003eencoding\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;utf8\u0026#x27;\u003c/span\u003e }));\n        dom(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;body \u0026gt; #root\u0026#x27;\u003c/span\u003e).addClass(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;hydrate\u0026#x27;\u003c/span\u003e);\n        dom(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;body \u0026gt; #root\u0026#x27;\u003c/span\u003e);\n\n        \u003cspan class=\"hljs-comment\"\u003e// HTML 코드를 저장한다.\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e fs.writeFile(filename, dom.html());\n    });\n})();\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"webpack-설정-수정\"\u003eWebpack 설정 수정\u003c/h3\u003e\n\u003cp\u003eWebpack 설정 파일에 생성 스크립트로 번들링하는 설정을 추가한다.\nNode.js를 타켓팅할 시 일부 모듈은 C/C++ 에드온을 이용할 수 있다. 따라서 해당 경우에 대응할 수 있도록 \u003ca href=\"https://www.npmjs.com/package/node-loader\"\u003enode-loader\u003c/a\u003e 의존성을 같이 설치한다. (만약 그러한 모듈이 없다면 이 문단에서 \u003ccode\u003e.node\u003c/code\u003e 관련 내용은 무시해도 된다.) \u003ca href=\"https://www.npmjs.com/package/empty-loader\"\u003eempty-loader\u003c/a\u003e 모듈은 빌드 스크립트에서 CSS 파일을 무시하는 데 이용된다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eyarn add --dev node-loader empty-loader\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그리고 다음과 같이 \u003ccode\u003ewebpack.config.js\u003c/code\u003e를 수정한다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// webpack.config.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e path = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;path\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e HtmlWebpackPlugin = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;html-webpack-plugin\u0026#x27;\u003c/span\u003e)\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { CleanWebpackPlugin } = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;clean-webpack-plugin\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e dev = process.env.NODE_ENV === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;development\u0026#x27;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// src/index.tsx 설정과 src/generate.ts 설정에 공통적으로 들어가는 항목들이다.\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e commons = {\n    \u003cspan class=\"hljs-attr\"\u003emode\u003c/span\u003e: dev ? \u003cspan class=\"hljs-string\"\u003e\u0026quot;development\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;production\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eresolve\u003c/span\u003e: {\n        \u003cspan class=\"hljs-comment\"\u003e// .node가 추가되었다.\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eextensions\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\u0026#x27;.tsx\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;.ts\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;.js\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;.css\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;.node\u0026#x27;\u003c/span\u003e]\n    },\n    \u003cspan class=\"hljs-attr\"\u003emodule\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003erules\u003c/span\u003e: [\n            {\n                \u003cspan class=\"hljs-attr\"\u003etest\u003c/span\u003e: \u003cspan class=\"hljs-regexp\"\u003e/\\.tsx?$/\u003c/span\u003e,\n                exclude: \u003cspan class=\"hljs-regexp\"\u003e/node_modules/\u003c/span\u003e,\n                use: [\n                    {\n                        \u003cspan class=\"hljs-attr\"\u003eloader\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;babel-loader\u0026#x27;\u003c/span\u003e,\n                        \u003cspan class=\"hljs-attr\"\u003eoptions\u003c/span\u003e: {\n                            \u003cspan class=\"hljs-attr\"\u003epresets\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\u0026#x27;@babel/preset-react\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;@babel/preset-env\u0026#x27;\u003c/span\u003e]\n                        }\n                    },\n                    \u003cspan class=\"hljs-string\"\u003e\u0026#x27;ts-loader\u0026#x27;\u003c/span\u003e\n                ]\n            },\n            {\n                \u003cspan class=\"hljs-comment\"\u003e// .node 파일을 로드한다.\u003c/span\u003e\n                \u003cspan class=\"hljs-attr\"\u003etest\u003c/span\u003e: \u003cspan class=\"hljs-regexp\"\u003e/\\.node$/\u003c/span\u003e,\n                use: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;node-loader\u0026#x27;\u003c/span\u003e\n            }\n        ]\n    },\n    \u003cspan class=\"hljs-attr\"\u003eplugins\u003c/span\u003e: [\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e CleanWebpackPlugin()]\n};\n\n\u003cspan class=\"hljs-built_in\"\u003emodule\u003c/span\u003e.exports = [\u003cspan class=\"hljs-comment\"\u003e/* src/index.tsx 설정 */\u003c/span\u003e{\n    ...commons,\n    \u003cspan class=\"hljs-attr\"\u003eoptimization\u003c/span\u003e: {\n      \u003cspan class=\"hljs-attr\"\u003esplitChunks\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003echunks\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;all\u0026#x27;\u003c/span\u003e\n      },\n      \u003cspan class=\"hljs-attr\"\u003eminimize\u003c/span\u003e: !dev\n    },\n    \u003cspan class=\"hljs-attr\"\u003eentry\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./src/index.tsx\u0026#x27;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eoutput\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e: path.resolve(__dirname, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;dist\u0026#x27;\u003c/span\u003e),\n        \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;[name].js\u0026#x27;\u003c/span\u003e\n    },\n    \u003cspan class=\"hljs-attr\"\u003emodule\u003c/span\u003e: {\n        ...commons.module,\n        \u003cspan class=\"hljs-attr\"\u003erules\u003c/span\u003e: [\n            ...commons.module.rules,\n            \u003cspan class=\"hljs-comment\"\u003e// CSS를 빌드시 로드하도록 하면 오류가 발생한다. (Node.js 환경은 웹브라우저가 아니므로 스타일 주입 시도가 당연히 실패하기 때문이다.)\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e// 따라서 css파일은 웹브라우저단에서 로드되는 번들 스크립트에서만 주입되도록 \u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e// src/index.tsx Webpack 설정에만 추가한다.\u003c/span\u003e\n            {\n                \u003cspan class=\"hljs-attr\"\u003etest\u003c/span\u003e: \u003cspan class=\"hljs-regexp\"\u003e/\\.css$/\u003c/span\u003e,\n                use: [\u003cspan class=\"hljs-string\"\u003e\u0026#x27;style-loader\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;css-loader\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;postcss-loader\u0026#x27;\u003c/span\u003e]\n            },\n        ]\n    },\n    \u003cspan class=\"hljs-attr\"\u003eplugins\u003c/span\u003e: [\n        ...commons.plugins,\n        \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e HtmlWebpackPlugin({\n        \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;index.html\u0026#x27;\u003c/span\u003e,\n        \u003cspan class=\"hljs-comment\"\u003e// template 속성을 추가한다.\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003etemplate\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./src/index.html\u0026#x27;\u003c/span\u003e\n    })],\n    \u003cspan class=\"hljs-attr\"\u003edevServer\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003estatic\u003c/span\u003e: {\u003cspan class=\"hljs-attr\"\u003edirectory\u003c/span\u003e: path.join(__dirname, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;dist\u0026#x27;\u003c/span\u003e)},\n        \u003cspan class=\"hljs-attr\"\u003eopen\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003eport\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;auto\u0026#x27;\u003c/span\u003e,\n    },\n    \u003cspan class=\"hljs-attr\"\u003ewatchOptions\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003eignored\u003c/span\u003e: \u003cspan class=\"hljs-regexp\"\u003e/node_modules/\u003c/span\u003e\n    }\n}, \u003cspan class=\"hljs-comment\"\u003e/* src/generate.tsx 설정 */\u003c/span\u003e {\n    ...commons,\n    \u003cspan class=\"hljs-comment\"\u003e// node로 실행할 스크립트이기 때문에 target을 node로 한다.\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003etarget\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;node\u0026#x27;\u003c/span\u003e,\n    \u003cspan class=\"hljs-comment\"\u003e// entry는 src/generate.tsx로 한다.\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eentry\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./src/generate.tsx\u0026#x27;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003emodule\u003c/span\u003e: {\n        ...commons.module,\n        \u003cspan class=\"hljs-attr\"\u003erules\u003c/span\u003e: [\n            ...commons.module.rules,\n            {\n                \u003cspan class=\"hljs-comment\"\u003e// css파일은 무시한다.\u003c/span\u003e\n                \u003cspan class=\"hljs-attr\"\u003etest\u003c/span\u003e: \u003cspan class=\"hljs-regexp\"\u003e/\\.css$/\u003c/span\u003e,\n                use: [\u003cspan class=\"hljs-string\"\u003e\u0026#x27;empty-loader\u0026#x27;\u003c/span\u003e]\n            },\n        ]\n    },\n    \u003cspan class=\"hljs-attr\"\u003eoutput\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e: path.resolve(__dirname, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;dist-builder\u0026#x27;\u003c/span\u003e),\n        \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;index.js\u0026#x27;\u003c/span\u003e\n    }\n}]\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"빌드-스크립트-실행\"\u003e빌드 스크립트 실행\u003c/h2\u003e\n\u003cp\u003e이제 거의 다 됐다. 다음 명령어로 빌드해보자.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003enpx webpack build\nnode ./dist-builder\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e별 다른 오류없이 잘 될 것이다. 축하한다. 이제 앞으로 위 명령어로 빌드하면 초기 HTML 코드가 들어가있는 파일이 빌드될 것이다. 해당 빌드의 결과는 다음과 같다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- dist/index.html --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- 참고로 이 예시는 예시일뿐이며, 세부사항은 개개인의 상황에 따라 다를 수 있다. --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e\u0026lt;!DOCTYPE \u003cspan class=\"hljs-meta-keyword\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;ko\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;utf8\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;viewport\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;width=device-width,initial-scale=1\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehttp-equiv\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;X-UA-Compatible\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;IE=edge\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003eLorem ipsum\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edefer\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;defer\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;166.js\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edefer\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;defer\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;main.js\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;root\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;bg-gray-400\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eHello, World!\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n"},"nextPost":{"name":"bypassing_safe2go_datepicker_bug","metadata":{"title":"Safe2GO PASS 출발지 날짜 선택 안되는 버그 우회하기","subtitle":"인천국제공항 코로나19 검사예약하려는 사람들을 위하여","author":"LiteHell","date":"2023-01-30T17:03:29.886Z","category":"Dev","tags":["Web"],"last_modified_at":"2023-02-04T06:23:15.268Z"},"rendered":"\u003ch1 id=\"2023-02-04-수정사항\"\u003e2023-02-04 수정사항\u003c/h1\u003e\n\u003cp\u003e현재는 해당 버그가 고쳐졌다.\u003c/p\u003e\n\u003cdel\u003e\n\n\u003ch1 id=\"들어가는-글\"\u003e들어가는 글\u003c/h1\u003e\n\u003cp\u003e사람에 따라서는, 해외여행을 가기위해선 PCR 검사를 해야하는 경우가 있다. 이런 사람들은 민간병원이나 \u003ca href=\"https://www.airport.kr/ap_cnt/ko/svc/covid19/medical/medical.do\"\u003e인천국제공항 코로나19 검사센터\u003c/a\u003e에서 검사를 받아야 한다. 인천국제공항 코로나19 검사센터에서 검사를 예약하려면 \u003ca href=\"https://safe2gopass.com/\"\u003eSafe2GO PASS\u003c/a\u003e라는 웹사이트를 이용해야 한다.\u003c/p\u003e\n\u003ch1 id=\"safe2go-pass의-버그\"\u003eSafe2GO Pass의 버그\u003c/h1\u003e\n\u003cp\u003e그런데 Safe2GO PASS에는 버그가 있다. (적어도 지금 글을 쓰는 2023-01-31 새벽에는 있었다.) 이 버그는 Chrome, Firefox, Edge, 데스크톱, 모바일에서 똑같이 발생했다.\u003c/p\u003e\n\u003cp\u003eSafe2GO PASS에서는 코로나19 검사를 예약하려면 여행일정을 추가해야 한다. 그런데 무슨 이유에선지 이 웹사이트는 출발지 날짜를 선택하려고 클릭하면 아무것도 뜨지 않고 입력할 수도 없었다. (참고로 도착일은 선택이 잘 된다.)\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/img/safe2go_pass_departure_date_click.png\" alt=\"Safe2GO PASS의 출발일 날짜란을 클릭하였으나 아무 일도 일어나지 않는 모습\"\u003e\u003c/p\u003e\n\u003cp\u003e(이 상태에서 출발일 날짜를 선택할 수 없었다.)\u003c/p\u003e\n\u003cp\u003e인천국제공항에서 출발하는 여행일정이라면 출발일 날짜를 지정해야 하는데 위와 같이 지정을 할 수가 없으니 코로나19 검사를 예약할 방법이 없다. 그렇다면 우리는 어떻게 해야할까?\u003c/p\u003e\n\u003ch2 id=\"해결방법\"\u003e해결방법\u003c/h2\u003e\n\u003cp\u003e버그가 언제 수정될 지는 알 수 없으니, 일단 임시방편으로 버그를 우회해야 한다.\u003c/p\u003e\n\u003cp\u003e먼저, 해당 화면에서 F12키를 눌러 개발자 도구를 킨다. 그리고 콘솔(혹은 Console) 탭을 연다.\u003c/p\u003e\n\u003cp\u003e그 다음, 다음 스크립트에서 날짜 부분(\u003ccode\u003e2023-06-01\u003c/code\u003e)을 원하는 출발일 날짜로 바꿔 복사-붙여넣기한다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-built_in\"\u003edocument\u003c/span\u003e.querySelector(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;.s-container\u0026#x27;\u003c/span\u003e).__vue__.start.date = \u003cspan class=\"hljs-string\"\u003e\u0026quot;2023-06-01\u0026quot;\u003c/span\u003e;\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이때, 위에서 날짜부분은 \u003ccode\u003eYYYY-MM-DD\u003c/code\u003e 형식을 정확하게 지켜야 한다. 즉, 예시를 들어 2020년 1월 1일이라면 \u003ccode\u003e2020-1-1\u003c/code\u003e이 아닌 \u003ccode\u003e2020-01-01\u003c/code\u003e로 바꿔야 한다. 혹시나하는 마음에 덧붙이자면, \u003ccode\u003e2020-01-01\u003c/code\u003e이 아닌 \u003ccode\u003e2020.01.01\u003c/code\u003e은 당연히 안 된다.\u003c/p\u003e\n\u003cp\u003e복사-붙여넣기를 하면 아래 사진과 같이 맨 하단에 스크립트가 입력되어 있을 것이다. 참고로 아래 사진은 Firefox 웹 브라우저를 이용한 모습이다. (어처피 Chrome도 개발자도구 콘솔은 비슷하게 생겼으므로 참고하는 데 큰 어려움은 없을 것이다.)\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/img/safe2go_pass_dev_console.png\" alt=\"Firefox 개발자도구에서 스크립트를 복사 붙여넣기한 모습\"\u003e\u003c/p\u003e\n\u003cp\u003e이제 위 상태에서 엔터 키를 누르면 아래와 같이 출발일이 잘 입력된 것을 확인할 수 있다. 이제 나머지 정보를 입력해서 여행일정을 추가하면 된다.\n\u003cimg src=\"/img/safe2go_pass_start_date_entered.png\" alt=\"Safe2GO Pass 여행일정 추가 화면에서 출발일 날짜가 입력된 모습\"\u003e\u003c/p\u003e\n\u003ch1 id=\"마무리\"\u003e마무리\u003c/h1\u003e\n\u003cp\u003e웹사이트내에는 버그 제보를 받는 곳이 딱히 안 보여서, 아마도 담당자의 메일 주소인 것 같은 곳으로 버그 제보 메일을 보냈다. 어서 빨리 이 버그가 수정됐으면 좋겠다.\n\u003c/del\u003e\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/post/[id]","query":{"id":"rebase_non_consecutive_commits"},"buildId":"-Jnmemo0XHj-EY0Cns6cx","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>