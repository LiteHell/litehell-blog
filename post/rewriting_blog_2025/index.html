<!doctypehtml><html lang=ko><link href=https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1 rel=icon><link href=https://blog.litehell.info/post/rewriting_blog_2025 rel=canonical><link href=https://blog.litehell.info/post/rewriting_blog_2025 hreflang=ko rel=alternate><link href=https://blog.litehell.info/post/rewriting_blog_2025 hreflang=en rel=alternate><link title="RSS 2.0 Feed for LiteHell's blog"href=https://blog.litehell.info/feed/rss rel=alternate type=application/rss+xml><link title="Atom 1.0 Feed for LiteHell's blog"type="	application/atom+xml"href=https://blog.litehell.info/feed/atom rel=alternate><link title="Json 1.0 Feed for LiteHell's blog"href=https://blog.litehell.info/feed/json rel=alternate type=application/feed+json><link href=https://esm.sh/@wooorm/starry-night@3/style/core.css rel=stylesheet><link href=https://esm.sh/@wooorm/starry-night@3/style/both.css rel=stylesheet><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href=https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap rel=stylesheet><meta content="블로그 재작성한 이야기"property=og:title><meta content="튜닝의 끝은 순정"property=og:description><meta content=ko property=og:locale><meta content=blog property=og:type><meta content="LiteHell의 블로그"property=og:site_name><meta content=https://blog.litehell.info/post/rewriting_blog_2025 property=og:url><meta content=https://blog.litehell.info/asis.png property=og:image><meta content=width=device-width,initial-scale=1 name=viewport><style>html,body{margin:0;padding:0;font-family:Noto Sans KR,sans-serif}</style><title>LiteHell의 블로그 - 블로그 재작성한 이야기</title><body><link as=image href=https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1 rel=preload><link as=image href=https://i.creativecommons.org/l/by-sa/4.0/88x31.png rel=preload><link as=image href=https://www.gnu.org/graphics/agplv3-with-text-100x42.png rel=preload><style data-emotion="css 17rruta">.css-17rruta{--top-padding:max(40px,3rem);--vertical-padding:max(20px,2em);padding:var(--top-padding)var(--vertical-padding)0em var(--vertical-padding);box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;align-items:center;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}@media (prefers-color-scheme:dark){.css-17rruta{color:#eee;background:#1a1a1a}.css-17rruta a{color:#af7428}.css-17rruta a:hover,.css-17rruta a:active,.css-17rruta a:focus{color:#e98c13}}.css-17rruta>*{width:100%}@media (width>=1024px){.css-17rruta>*{max-width:960px}}.css-17rruta main{-webkit-flex:1;-ms-flex:1;flex:1}.css-17rruta footer{border-top:1px solid #727272;margin:2rem 0 0;padding:1.5rem 0}</style><div class=css-17rruta><style data-emotion="css 1fkv74n">.css-1fkv74n{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;align-items:center;gap:2rem;padding-bottom:1.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}@media (width<=25rem){.css-1fkv74n{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}}.css-1fkv74n .profileImg a{color:inherit;-webkit-text-decoration:none;text-decoration:none}.css-1fkv74n .profileImg img{border-radius:4rem;width:8rem;height:8rem;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.css-1fkv74n .title h1{word-break:keep-all;margin:0 0 .5rem;padding:0;font-size:2rem;line-height:2.5rem}.css-1fkv74n .title h1 a{color:inherit;-webkit-text-decoration:none;text-decoration:none}.css-1fkv74n .links{margin:0;padding:0;font-size:.9rem;line-height:1.2rem}@media (width<=1023px){.css-1fkv74n .title h1{font-size:1.5rem;line-height:2rem}.css-1fkv74n .rounded img{border-radius:3.5rem 3.4rem;width:7rem;height:7rem}}</style><header class=css-1fkv74n><div class=profileImg><a href=/><img alt="LiteHell의 Gravatar 아이콘"src=https://gravatar.com/avatar/837266b567b50fd59e72428220bf69b1></a></div><div class=title><h1><a href=/>LiteHell의 블로그</a></h1><p class=links>외부고리: <a href=https://github.com/litehell>GitHub</a>, <a href=https://yeonjin.name/portfolio>Portfolio</a><br>내부고리: <a href=/categories>카테고리</a>, <a href=/tags>태그</a><br>다른 언어: <a href=https://blog-en.litehell.info hreflang=en>영어 (English)</a></p><style data-emotion="css ioj8ye">.css-ioj8ye{color:#374c64;font-size:75%}@media (prefers-color-scheme:dark){.css-ioj8ye{color:#999}}</style><p class=css-ioj8ye>글 쓸 때는 AI를 안 씁니다. 전부 직접 씁니다. 만약 오탈자나 어색한 문장이 있다면 퇴고를 대충해서 그런거니 양해 부탁드립니다.<br>블로그의 모든 시간 및 날짜는 별도의 언급이 없다면 한국 표준 시간대입니다.</div></header><main><div><style data-emotion="css 1v4sk1e">.css-1v4sk1e{border-bottom:1px solid #999;margin-bottom:.8rem;padding:1.5rem 0 2rem}.css-1v4sk1e .title{margin-bottom:.25rem}.css-1v4sk1e .title *{margin:0;padding:0;display:inline}.css-1v4sk1e .title h2{font-size:2rem;line-height:2.1rem}.css-1v4sk1e .title h3{margin-left:1rem;font-size:1rem;font-weight:200;line-height:1rem}.css-1v4sk1e .datetime{color:#666;margin:0;padding:0}.css-1v4sk1e .links .description{color:#666}</style><div class=css-1v4sk1e><div class=title><h2>블로그 재작성한 이야기</h2><h3>튜닝의 끝은 순정</h3></div><p class=datetime>2025. 6. 18. 오후 10:04:30에 LiteHell이(가) 작성하고 2025-06-21T14:27:49.423Z에 수정함.<div class=links><div class=link><span class=description>카테고리: </span><a href=/category/Dev>Dev</a></div><div class=link><span class=description>태그: </span><a href=/tag/Frontend>Frontend</a>, <a href=/tag/React>React</a></div></div></div><style data-emotion="css xljd47">.css-xljd47{padding:10px;font-size:1rem;line-height:180%}@font-face{font-family:D2Coding;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_three@1.0/D2Coding.woff)format("woff");font-weight:400;font-display:swap}.css-xljd47 pre{background:#f0f0f0;border-radius:6px;padding:.5em 1em;overflow-x:auto}@media (prefers-color-scheme:dark){.css-xljd47 pre{color:#ebebeb;background:#383838}}.css-xljd47 code{font-family:Fira Code,Source Code Pro,JetBrains Mono,Roboto Mono,DejaVu Sans Mono,DejaVu Mono,Inconsolata,Monaco,Consolas,Hack,Ubuntu Mono,Red Hat Mono,D2 coding,monospace}.css-xljd47 h1{margin:1.8rem 0;font-size:1.8rem}.css-xljd47 h1:before{content:"# ";color:#a19c91}.css-xljd47 h2{margin:1.6rem 0;font-size:1.6rem}.css-xljd47 h2:before{content:"## ";color:#a19c91}.css-xljd47 h3{margin:1.4rem 0;font-size:1.4rem}.css-xljd47 h3:before{content:"### ";color:#a19c91}.css-xljd47 h4{margin:1.2rem 0;font-size:1.2rem}.css-xljd47 h5{margin:1.15rem 0;font-size:1.15rem}.css-xljd47 h5:before{content:"> ";color:#a19c91}.css-xljd47 h6{margin:1.1rem 0;font-size:1.1rem}.css-xljd47 h6:before{content:">> ";color:#a19c91}.css-xljd47 img,.css-xljd47 iframe{max-width:80%;margin:0 auto;display:block}.css-xljd47 table{white-space:nowrap;border-collapse:collapse;display:block;overflow-x:auto}.css-xljd47 table td,.css-xljd47 table tr,.css-xljd47 table th{border:1px solid gray}.css-xljd47 table th{font-weight:700}.css-xljd47 table th,.css-xljd47 table td{padding:5px 10px}.css-xljd47 table thead{background:#d8d8d8}@media (prefers-color-scheme:dark){.css-xljd47 table thead{color:#fff;background:#666}}.css-xljd47 blockquote{background:#c2c2c2;border-left:5px solid #4e4e4e;margin:25px 10px 25px 30px;padding:10px 50px}@media (prefers-color-scheme:dark){.css-xljd47 blockquote{color:#ccc;background:#4f4f4f;border-left:5px solid #cacaca}}.css-xljd47 ul li,.css-xljd47 ol li{margin:6px 0}</style><article class=css-xljd47><h1>개론</h1><p>기존 블로그는 <a href=https://nextjs.org/>next.js</a>를 이용했다. next.js만의 기능을 활용하기 위해서라기보단 그냥 SSG(Static Site Generation) 편하게 하려고 next.js를 썼다.<p>다 좋은데 한가지 불편한 점이 있다. 이미지를 첨부할 때 귀찮다는 것이다.<h2>왜 귀찮은가?</h2><p>필자는 블로그 글을 작성할 때 VS Code를 쓴다.<p>next.js는 <code>public/</code> 안에 이미지를 넣어야 한다. 그리고 블로그 글은 <code>posts/</code>에 쓴다. 따라서 VS Code 내에서 마크다운 미리보기를 열면 다음과 같이 이미지가 표시되지 않는다.<p><img alt="VS Code의 마크다운 미리보기에서 이미지가 표시되지 않는 모습"src=./asis.png><p>어떻게 해결할 수 있을까?<h1>재작성</h1><p>쿨타임도 돌았겠다. 그냥 블로그를 다시 만들면 된다. 고치는 것보다 새로 만드는 게 더 재밌을 것 같았다.<p>이번에는 webpack 대신 esbuild를 쓰려 한다. esbuild가 더 빠르다고 들어서 한번 써보려 한다. esbuild는 configuration 파일을 쓰지 않고 명령행에 모든 옵션을 지정한다. 따라서 package.json에 그냥 명령행 옵션을 다 때려박았다. (스크립트 파일을 만들어도 되지만 옵션이 그리 많지 않아서 그럴 필요성을 못 느꼈다. 나중에 옵션이 좀 많아지면 스크립트 파일로 분리하려 한다.)<h2>구상</h2><p>내 블로그는 딱히 동적인 컨텐츠가 없다. 그래서 이번에는 순수 HTML로만 출력하도록 작성했다.<p>순수 HTML로 출력되는 클래식한 방법은 템플릿 언어를 이용하는 방법이다. 하지만 템플릿은 타입(Type)이 견고하지 못하기 때문에 유지보수가 어렵다. 예시로 다음 코드는 Typescript 빌드 과정에서 오류가 발생하지 않는다.<pre><code class=language-ts><span class=pl-k>const</span> <span class=pl-c1>exampleTemplateString</span> <span class=pl-k>=</span> <span class=pl-s><span class=pl-pds>'</span>Hello, {{name}}!<span class=pl-pds>'</span></span>
<span class=pl-k>var</span> <span class=pl-smi>template</span> <span class=pl-k>=</span> <span class=pl-smi>Handlebars</span>.<span class=pl-c1>compile</span>(<span class=pl-smi>exampleTemplateString</span>);
<span class=pl-c1>console</span>.<span class=pl-c1>log</span>(<span class=pl-en>template</span>({ Name: <span class=pl-s><span class=pl-pds>"</span>John Doe<span class=pl-pds>"</span></span> }));
</code></pre><p>또한 프론트엔드를 여러 컴포넌트로 나누어 개발하는 데에는 템플릿 언어보다 React나 Vue 같은 모던 프레임워크 라이브러리가 더 적합하다. 이 또한 템플릿 언어가 Type이 견고하지 않음에서 기인한다. React나 Vue 같은 건 컴포넌트 매개변수 잘못 적으면 바로 IDE에 빨간 줄이 쳐지는 데 템플릿 언어는 그렇지 않다. 물론 React나 Vue를 쓰면 styled-component나 Module CSS 같은 걸 쓸 수 있는 점도 있다.<p>그렇다면 React를 이용하여 개발하되 결과물은 JS가 필요없는 순수 HTML로 출력할 수 있을까?<h3>renderToStaticMarkup</h3><p>당연히 가능하다. React에서 제공하는 <a href=https://react.dev/reference/react-dom/server/renderToStaticMarkup>renderToStaticMarkup</a> 함수를 이용하면 된다. 이를 이용하면 React 컴포넌트들이 렌더링된 HTML 코드를 얻을 수 있다.<p>Javascript가 없는 HTML 코드이니 상호작용은 불가능하며, 또한 hydration에도 이용될 수 없다. hydration을 염두에 둔다면 <a href=https://react.dev/reference/react-dom/server/renderToString>renderToString</a>을 이용해야 한다.<h2>구조</h2><p>따라서 다음과 같은 구조로 작성했다.<ol><li>게시글 목록을 가져와서 정렬한다.<li>게시글 목록에서 이용가능한 route(e.g. <code>/post/loremipsum</code>, <code>/category/Linux/1</code>)들을 모두 계산한다. <pre><code class=language-ts><span class=pl-k>export</span> <span class=pl-k>default</span> <span class=pl-k>async</span> <span class=pl-k>function</span> <span class=pl-en>getRoutes</span>(<span class=pl-v>posts</span><span class=pl-k>:</span> <span class=pl-en>BlogPost</span>[]) {
<span class=pl-k>const</span> <span class=pl-c1>totalPages</span> <span class=pl-k>=</span> <span class=pl-c1>Math</span>.<span class=pl-c1>ceil</span>(<span class=pl-smi>posts</span>.<span class=pl-c1>length</span> <span class=pl-k>/</span> <span class=pl-smi>postCountPerPage</span>);

<span class=pl-k>return</span> [
    <span class=pl-s><span class=pl-pds>"</span>/<span class=pl-pds>"</span></span>,
    <span class=pl-s><span class=pl-pds>"</span>/tags<span class=pl-pds>"</span></span>,
    <span class=pl-s><span class=pl-pds>"</span>/categories<span class=pl-pds>"</span></span>,
    <span class=pl-s><span class=pl-pds>"</span>/license<span class=pl-pds>"</span></span>,
    <span class=pl-k>...</span><span class=pl-en>range</span>(<span class=pl-c1>1</span>, <span class=pl-smi>totalPages</span>).<span class=pl-en>map</span>((<span class=pl-v>i</span>) <span class=pl-k>=></span> <span class=pl-s><span class=pl-pds>`</span>/page/${<span class=pl-smi>i</span>}<span class=pl-pds>`</span></span>),
    <span class=pl-k>...</span><span class=pl-smi>posts</span>.<span class=pl-en>map</span>((<span class=pl-v>i</span>) <span class=pl-k>=></span> <span class=pl-smi>i</span>.<span class=pl-c1>name</span>).<span class=pl-en>map</span>((<span class=pl-v>i</span>) <span class=pl-k>=></span> <span class=pl-s><span class=pl-pds>`</span>/post/${<span class=pl-c1>encodeURIComponent</span>(<span class=pl-smi>i</span>)}<span class=pl-pds>`</span></span>),
    <span class=pl-k>...</span><span class=pl-en>getTagRoutes</span>(<span class=pl-smi>posts</span>),
    <span class=pl-k>...</span><span class=pl-en>getCategoryRoutes</span>(<span class=pl-smi>posts</span>),
];
}
</code></pre><li>정적 파일들(robots.txt, 이미지 파일 등)을 복사한다.<li>각 route별로 html 파일을 생성한다.<li>RSS/Atom/JSON 피드를 생성한다.</ol><h1>결론</h1><p><img alt="VSCode에 마크다운 미리보기에 이미지가 보이는 모습"src=./tobe.png><p>보다시피 마크다운 미리보기에 이미지가 잘 보인다. 굿~<p>Javascript가 이전보다 많이 줄어든(사실상 없는) HTML이긴 하지만 댓글을 작성하려면 Javascript를 활성화해야 한다. 이는 GitHub Site를 이용하여 호스팅하는 이상 어쩔 수 없다.<p>어쨌든 해피엔딩~<h1>TO-DO</h1><p><del>devServer를 똑바로 만들어야 한다. 지금은 만들다가 말아서... 나중에 시간 날때 완성해야 한다.</del><p><del>지금 코드는 Blue-Green 전략으로 수정이 생기면 재빌드하는 그런 코드로 짜다가 말았는데 지금 생각해보니 헛짓거리 같다. 다시 만들어야지...</del><p>dev-server도 완성했다. 잘 된다. --2025. 06. 21.</article><style data-emotion="css ly0ba3">.css-ly0ba3 .utterances{max-width:100%!important}</style><div class=css-ly0ba3><script label="blog comment"async crossorigin issue-term=rewriting_blog_2025 repo=LiteHell/litehell-blog src=https://utteranc.es/client.js theme=preferred-color-scheme></script></div><style data-emotion="css eyxei3">.css-eyxei3{-webkit-box-flex-wrap:wrap;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;justify-content:space-between;gap:1em .5em;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.css-eyxei3 a{-webkit-text-decoration:none;text-decoration:none}.css-eyxei3 .inner{vertical-align:top;display:inline-block}.css-eyxei3 .inner .title{font-size:1.3em;line-height:1.3rem}.css-eyxei3 .inner .subtitle{margin-top:.2rem;font-size:1rem;font-weight:200;line-height:1rem}.css-eyxei3 .inner .date{font-size:.8em;font-weight:200;line-height:.8rem}.css-eyxei3 .next,.css-eyxei3 .previous{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:.5em;width:max-content;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.css-eyxei3 .next.next,.css-eyxei3 .previous.next{text-align:right;margin-left:auto}.css-eyxei3 .next.previous,.css-eyxei3 .previous.previous{text-align:left}.css-eyxei3 .next .inner,.css-eyxei3 .previous .inner{-webkit-flex:1;-ms-flex:1;flex:1}</style><nav class=css-eyxei3><a class=previous href=/post/xabelfish_and_pipewire><div class=arrow>❮</div><div class=inner><div class=title>XabelFish 개발기 - Pipewire와 XDG Screencast</div><div class=subtitle>리눅스에서 게임 번역기 개발하기</div><div class=date>2025. 7. 26. 오후 10:29:15</div></div></a><a class=next href=/post/reinventing_scroll><div class=inner><div class=title>무한 스크롤 구현하기</div><div class=subtitle>신나는 바퀴의 재발명</div><div class=date>2025. 3. 13. 오후 11:57:39</div></div><div class=arrow>❯</div></a></nav></div></main><style data-emotion="css 19fp2wc">.css-19fp2wc{font-size:.75rem;line-height:.9rem}.css-19fp2wc p{margin:0 0 1em;padding:0}.css-19fp2wc .badges{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:1em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.css-19fp2wc .badges img{border-width:0;width:auto;height:3em}</style><footer class=css-19fp2wc><p>Copyright (C) 2020 ~ 2025 Yeonjin Shin (a.k.a. LiteHell), All rights reserved.<br><a href=/license>This blog is free software; For source code and more informations on license and copyrights, Click here.</a><p>Feeds: <a href=/feed/rss>RSS 2.0</a>, <a href=/feed/atom>Atom</a>, <a href=/feed/json>JSON</a><div class=badges><a href=http://creativecommons.org/licenses/by-sa/4.0/ rel=license><img alt="Creative Commons License"src=https://i.creativecommons.org/l/by-sa/4.0/88x31.png><a href=https://www.gnu.org/licenses/agpl-3.0.en.html><img alt="GNU Affero General License Version 3"src=https://www.gnu.org/graphics/agplv3-with-text-100x42.png></a></a></div></footer></div>