{"pageProps":{"article":{"metadata":{"title":"í•œê¸€ ì…ë ¥ì„ ìœ„í•œ fcitx5 ì„¤ì¹˜","subtitle":"KDE ë…¸íŠ¸ë¶ì—ì„œì˜ ë²„ê·¸ì—†ëŠ” í•œê¸€ ì…ë ¥ì„ ìœ„í•œ ì‚½ì§ˆê¸°","author":"LiteHell","date":"2023-10-17T12:34:16.790Z","category":"Linux","tags":["Linux","Korean","Hangul","IM","KDE"],"last_modified_at":"2023-10-17T14:32:47.687Z"},"rendered":"<h1 id=\"ì„œë¡ \">ì„œë¡ </h1>\n<p>í•„ìëŠ” ì´ˆì°½ê¸°ì— <a href=\"https://github.com/ibus/ibus\">ibus</a>ë¥¼ ì¼ì—ˆë‹¤. ibusëŠ” ì›¬ë§Œí•œ í”„ë¡œê·¸ë¨ì—ì„œ ì•„ë¬´ ë²„ê·¸ì—†ì´ ì˜ ì‘ë™í•œë‹¤. ë”± í•œê°€ì§€, ë¦¬ë¸Œë ˆì˜¤í”¼ìŠ¤ì—ì„œ ê³µë°± ì…ë ¥ì´ ì•ˆ ëœë‹¤ëŠ” ì¹˜ëª…ì ì¸ ë²„ê·¸ë§Œ ë¹¼ë©´ ë§ì´ë‹¤.</p>\n<p>ê·¸ë˜ì„œ ibus ë‹¤ìŒìœ¼ë¡œ <a href=\"https://github.com/hamonikr/nimf\">í•˜ëª¨ë‹ˆì¹´ì—ì„œ ìœ ì§€ë³´ìˆ˜í•˜ëŠ” nimf</a>ë¥¼ ì¼ì—ˆë‹¤. nimfëŠ” ë¦¬ë¸Œë ˆì˜¤í”¼ìŠ¤ì—ì„œì˜ ì¹˜ëª…ì ì¸ ë²„ê·¸ëŠ” ì—†ì—ˆì§€ë§Œ, ì—”í„°í‚¤ë¥¼ ëˆ„ë¥´ë©´ í…ìŠ¤íŠ¸ê°€ ì‚¬ë¼ì§€ëŠ” ë²„ê·¸ê°€ ìˆì—ˆë‹¤. ê·¼ë° ì´ ë²„ê·¸, ì²˜ìŒì—ë§Œ ì§œì¦ë‚˜ì§€ ì¢€ ì§€ë‚˜ë©´ ì ì‘ëœë‹¤. ê·¸ë˜ì„œ ì ì‘í•´ì„œ ì“°ë‹¤ê°€ ìƒê°í•´ë³´ë‹ˆ &#39;ì´ê±´ ì¢€ ì•„ë‹Œ ê²ƒ ê°™ë‹¤&#39;ì‹¶ì–´ì„œ ë‹¤ë¥¸ ì…ë ¥ê¸°ë¥¼ ì„¤ì¹˜í–ˆë‹¤.</p>\n<p>ë³¸ ë¸”ë¡œê·¸ ê¸€ì€ <a href=\"https://archlinux.org/\">Arch Linux</a>ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•œë‹¤.</p>\n<h2 id=\"kdeì—ì„œì˜-í‚¤ë³´ë“œ-ë ˆì´ì•„ì›ƒ\">KDEì—ì„œì˜ í‚¤ë³´ë“œ ë ˆì´ì•„ì›ƒ</h2>\n<p>ì…ë ¥ê¸°ë¥¼ ë°”ê¾¸ê¸° ìœ„í•´ ì‚½ì§ˆí•˜ëŠ” ê³¼ì •ì—ì„œ í•œê¸€í‚¤ê°€ ì˜¤ë¥¸ìª½ Altí‚¤ë¡œ ì¸ì‹ë˜ëŠ” í˜„ìƒì„ í™•ì¸í–ˆë‹¤. ë¶„ëª…íˆ ì•„ì¹˜ ë¦¬ëˆ…ìŠ¤ ì„¤ì¹˜ ì´ˆê¸°ì— ë§¤í•‘ì„ í–ˆì—ˆëŠ”ë°, ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ë¥¼ í•˜ëŠ” ê³¼ì •ì—ì„œ ì›ìƒë³µêµ¬ê°€ ëœ ê²ƒ ê°™ë‹¤. ê·¸ë˜ì„œ ì´ë²ˆì—ëŠ” KDE ì„¤ì • í”„ë¡œê·¸ë¨ì„ ì´ìš©í•´ í•œê¸€í‚¤ì™€ í•œìí‚¤ë¥¼ ë§¤í•‘í–ˆë‹¤.</p>\n<p><img src=\"/img/kde_keyboard_settings.png\" alt=\"KDE í‚¤ë³´ë“œ ì„¤ì • í”„ë¡œê·¸ë¨\"></p>\n<p>ìœ„ì™€ ê°™ì´ ì‹œìŠ¤í…œ ì„¤ì • í”„ë¡œê·¸ë¨ì˜ <strong>ì…ë ¥ ì¥ì¹˜ ğŸ  í‚¤ë³´ë“œ</strong> í™”ë©´ì—ì„œ <strong>ì˜¤ë¥¸ìª½ Alt í‚¤ë¥¼ í•œ/ì˜ í‚¤ë¡œ ë§Œë“¤ê¸°</strong>, <strong>ì˜¤ë¥¸ìª½ Ctrl í‚¤ë¥¼ í•œì í‚¤ë¡œ ë§Œë“¤ê¸°</strong> í•­ëª©ì„ ì²´í¬í•˜ë©´ ëœë‹¤. (í‚¤ë³´ë“œ ë ˆì´ì•„ì›ƒì— ë”°ë¼ ì•½ê°„ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.) ë…¸íŠ¸ë¶ ë“±ì˜ 101/104í‚¤ í˜¸í™˜ ë ˆì´ì•„ì›ƒì´ë¼ë©´ ìœ„ ê³¼ì •ì„ ë°˜ë“œì‹œ ê±°ì³ì•¼ í•œë‹¤.</p>\n<h3 id=\"í•œì˜-í•œìí‚¤-ì¸ì‹ì—¬ë¶€-í™•ì¸ë°©ë²•\">í•œ/ì˜, í•œìí‚¤ ì¸ì‹ì—¬ë¶€ í™•ì¸ë°©ë²•</h3>\n<p>ë³¸ì¸ í‚¤ë³´ë“œê°€ 101/104í‚¤ì¸ì§€ 106í‚¤ì¸ì§€ í—·ê°ˆë¦°ë‹¤ë©´ <del>í‚¤ë³´ë“œ í‚¤ ê°¯ìˆ˜ ì„¸ì§€ë§ê³ </del> ë¨¼ì € <code>xev</code> í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•œë‹¤.</p>\n<pre><code class=\"hljs language-bash\">sudo pacman -S xorg-xev</code></pre>\n<p>ê·¸ë¦¬ê³  ì½˜ì†” ì°½ì—ì„œ xev í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•œë‹¤.</p>\n<pre><code class=\"hljs language-bash\">xev</code></pre>\n<p>xev í”„ë¡œê·¸ë¨ ì°½ì„ í™œì„±í™”í•˜ê³  í•œê¸€í‚¤ë‘ í•œìí‚¤ë¥¼ ëˆŒëŸ¬ë³¸ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì½˜ì†” ì°½ì— <em>Hangul</em>ì´ë‚˜ <em>Hangul_Hanja</em>í‚¤ê°€ ì¸ì‹ëœ ë©”ì„¸ì§€ê°€ ì¶œë ¥ë˜ë©´ í•œ/ì˜ í‚¤, í•œì í‚¤ê°€ ì •ìƒì ìœ¼ë¡œ ì¸ì‹ë˜ëŠ” ê²ƒì´ë‹¤.</p>\n<pre><code>KeyRelease event, serial 39, synthetic NO, window 0x9000001,\n    root 0x79b, subw 0x0, time 1234567, (-10, 10), root:(10, 10),\n    state 0x0, keycode 108 (keysym 0xff31, Hangul), same_screen YES,</code></pre>\n<pre><code>KeyPress event, serial 39, synthetic NO, window 0x9000001,\n    root 0x79b, subw 0x0, time 1234567, (10, 10), root:(10, 10),\n    state 0x0, keycode 105 (keysym 0xff34, Hangul_Hanja), same_screen YES,</code></pre>\n<p>ë§Œì•½ ìœ„ì™€ ê°™ì€ ë©”ì„¸ì§€ê°€ ì•ˆ ëœ¨ê³  Alt_Rì´ë‚˜ Control_Rì´ ì¸ì‹ëœë‹¤ë©´ <a href=\"#kdeì—ì„œì˜-í‚¤ë³´ë“œ-ë ˆì´ì•„ì›ƒ\">ìœ„ì— ì¨ì§„ ë‚´ìš©</a>ì— ë”°ë¼ ë§¤í•‘í•˜ë©´ ëœë‹¤.</p>\n<h2 id=\"fcitx5-ì„¤ì¹˜-ë°©ë²•\">fcitx5 ì„¤ì¹˜ ë°©ë²•</h2>\n<p>ë¨¼ì €, ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ fcitx5ë¥¼ ì„¤ì¹˜í•œë‹¤.</p>\n<pre><code class=\"hljs language-bash\">sudo pacman -S fcitx5-im fcitx-hangul</code></pre>\n<p><code>/etc/environment</code> íŒŒì¼ì— ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•œë‹¤. ì…ë ¥ê¸°ë¡œ fcitxë¥¼ ì“°ë„ë¡ ì§€ì •í•˜ëŠ” ì‘ì—…ì´ë‹¤.</p>\n<!-- iniíŒŒì¼ì´ ì•„ë‹ˆì§€ë§Œ syntax highlightingì„ ìœ„í•´ í˜•ì‹ì„ iniìœ¼ë¡œ ì§€ì •í•¨ --->\n<pre><code class=\"hljs language-ini\"><span class=\"hljs-attr\">GTK_IM_MODULE</span>=fcitx\n<span class=\"hljs-attr\">QT_IM_MODULE</span>=fcitx\n<span class=\"hljs-attr\">QT4_IM_MODULE</span>=fcitx\n<span class=\"hljs-attr\">QT5_IM_MODULE</span>=fcitx\n<span class=\"hljs-attr\">XMODIFIERS</span>=@im=fcitx</code></pre>\n<p>ê·¸ ë‹¤ìŒì— <code>~/.xprofile</code> íŒŒì¼ì— ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•œë‹¤. ë¶€íŒ…ì‹œì— fcitx5ê°€ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.</p>\n<pre><code class=\"hljs language-bash\">fcitx5 -d</code></pre>\n<p>ì¬ë¶€íŒ…í•˜ê³  <code>env | grep fcitx</code> ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ í™˜ê²½ë³€ìˆ˜ê°€ ì œëŒ€ë¡œ ë³€ê²½ëëŠ”ì§€ í™•ì¸í•´ë³´ì. ì œëŒ€ë¡œ ë³€ê²½ëë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ëœ° ê²ƒì´ë‹¤.</p>\n<pre><code class=\"hljs language-bash\">GTK_IM_MODULE=fcitx\nQT4_IM_MODULE=fcitx\nXMODIFIERS=@im=fcitx\nQT5_IM_MODULE=fcitx\nQT_IM_MODULE=fcitx</code></pre>\n<p>ë§Œì•½ í™˜ê²½ë³€ìˆ˜ê°€ ì œëŒ€ë¡œ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤ë©´ <code>~/.xprofile</code> íŒŒì¼ì—ì„œ <code>fcitx5 -d</code> ìœ„ì— ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•˜ê³  ì¬ë¶€íŒ…í•œë‹¤. ê·¸ëŸ¬ë©´ í™˜ê²½ë³€ìˆ˜ê°€ ì •ìƒì ìœ¼ë¡œ ë³€ê²½ë  ê²ƒì´ë‹¤.</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-built_in\">export</span> $(/usr/lib/systemd/user-environment-generators/30-systemd-environment-d-generator)</code></pre>\n<h2 id=\"fcitx5-ì„¤ì •\">fcitx5 ì„¤ì •</h2>\n<p><code>fcitx5-configtool</code> ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒ ì°½ì´ ëœ¬ë‹¤.\n<img src=\"/img/fcitx5_settings_first_screen.png\" alt=\"fcitx5 KDE ì„¤ì • ì°½\"></p>\n<p>ìœ„ í™”ë©´ì—ì„œ í•œêµ­ì–´ê°€ ì•ˆ ë³´ì´ë©´ <strong>ì…ë ¥ê¸° ì¶”ê°€</strong>ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ì¶”ê°€í•œë‹¤. (ì…ë ¥ê¸° ì¶”ê°€ í™”ë©´ì—ì„œ í•œêµ­ì–´ê°€ ì•ˆ ë³´ì´ë©´ <strong>í˜„ì¬ ì–¸ì–´ë§Œ í‘œì‹œ</strong> ì˜µì…˜ì„ í•´ì œí•˜ë©´ ëœë‹¤.)</p>\n<p>ë°‘ì—ì„œ <strong>ì „ì—­ ì˜µì…˜ êµ¬ì„±í•˜ê¸°...</strong> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë‹¤ìŒ í™”ë©´ì´ ëœ¬ë‹¤.</p>\n<p><img src=\"/img/fcitx5_global_settings.png\" alt=\"fcitx5 KDE ì„¤ì • ì°½\"></p>\n<p><strong>Trigger Input Method</strong>ê°€ í•œ/ì˜ì„ ì „í™˜í•˜ëŠ” ë‹¨ì¶•í‚¤ ì„¤ì •ì´ë‹¤. ì˜¤ë¥¸ìª½ì˜ <strong>+</strong> ë²„íŠ¼ì„ ëˆŒëŸ¬ í•œê¸€ í‚¤ë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>\n<p>fcitx5ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í•œ/ì˜ì„ ì „í™˜í• ë•Œ ì‘ì€ íˆ´íŒì„ í‘œì‹œí•œë‹¤. ê±°ìŠ¬ë¦¬ë©´ ìœ„ í™”ë©´ì—ì„œ <strong>Show Input Method Information when switch input method</strong>ë¥¼ ì²´í¬ í•´ì œí•˜ë©´ ëœë‹¤.</p>\n<p>ì´ì œ í•œê¸€ ì…ë ¥ì„ ë²„ê·¸ì—†ì´ ì˜ í•  ìˆ˜ ìˆê²Œ ëë‹¤. ë!</p>\n"},"articleId":"fcitx5_for_101_key_keyboard_kde_laptop","previousPost":{"name":"webpack_and_react_ssg_3","metadata":{"title":"Webpackê³¼ Reactë¥¼ ì´ìš©í•œ ì •ì  ì›¹ì‚¬ì´íŠ¸ ë§Œë“¤ê¸° (3)","subtitle":"... + MiniCssExtractPlugin = TA-DA!","author":"LiteHell","date":"2023-07-23T17:25:47.907Z","series":"webpack_and_react_ssg","seriesName":"Webpackê³¼ Reactë¥¼ ì´ìš©í•œ ì •ì  ì›¹ì‚¬ì´íŠ¸ ë§Œë“¤ê¸°","category":"Dev","tags":["React"]},"rendered":"<p>ì „ ê¸€ê¹Œì§€ <a href=\"https://webpack.js.org/loaders/style-loader/\">style-loader</a>ë¥¼ ì¼ë‹¤. style-loaderëŠ” style íƒœê·¸ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ì—¬ CSSë¥¼ DOM ì•ˆì— ì£¼ì…í•˜ëŠ” ë¡œë”ì´ë‹¤. ì¦‰, style-loaderë¥¼ ì“°ë©´ js ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ë©´ì„œ style íƒœê·¸ê°€ ë™ì ìœ¼ë¡œ ìƒì„±ë˜ê³ , ê·¸ íƒœê·¸ ë‚´ì— cssê°€ ë™ì ìœ¼ë¡œ ì‚½ì…ë˜ë©´ì„œ ìŠ¤íƒ€ì¼ì´ ì ìš©ëœë‹¤.</p>\n<p>í•˜ì§€ë§Œ ì •ì  í˜ì´ì§€ë¡œ ë¹Œë“œí›„ ì†ë„ê°€ ëŠë¦° ì„œë²„ë¡œ ê²Œì‹œí•˜ê±°ë‚˜ ìŠ¤í¬ë¦½íŠ¸ ìš©ëŸ‰ì´ ë¹„ëŒ€í•˜ë©´, ìŠ¤í¬ë¦½íŠ¸ê°€ ì™„ì „íˆ ë‹¤ ì‹¤í–‰ë˜ê¸° ì „ê¹Œì§€ì˜ ì°°ë‚˜ë™ì•ˆ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì§€ ì•Šì€ ê¹¨ì§„ í˜ì´ì§€ê°€ ë‚˜íƒ€ë‚œë‹¤. ì´ëŸ° ë²„ê·¸ë¥¼ ë§‰ê¸° ìœ„í•´ì„œëŠ” <a href=\"https://webpack.js.org/plugins/mini-css-extract-plugin/\">MiniCssExtractPlugin</a>ì„ ì´ìš©í•˜ë©´ ëœë‹¤.</p>\n<p>MiniCssExtractPluginì€ CSSë¥¼ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ DOMì— ì£¼ì…í•˜ì§€ ì•Šê³  ë³„ë„ì˜ CSS íŒŒì¼ì— ì €ì¥í•œ ë’¤, ë¹Œë“œì‹œì— í•´ë‹¹ CSS íŒŒì¼ì„ ì‚½ì…í•˜ëŠ” link íƒœê·¸ë¥¼ HTMLì— ì‚½ì…í•œë‹¤. ì¦‰ ë™ì ìœ¼ë¡œ CSSë¥¼ ì£¼ì…í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì´ë¥¼ ì´ìš©í•˜ë©´ ìŠ¤í¬ë¦½íŠ¸ê°€ ì™„ì „íˆ ë‹¤ ì‹¤í–‰ë˜ê¸° ì „ê¹Œì§€ í˜ì´ì§€ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì§€ ì•ŠëŠ” í˜„ìƒì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</p>\n<p>MiniCssExtractPluginì„ ì´ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œë‹¤.</p>\n<pre><code class=\"hljs language-bash\">yarn add --dev mini-css-extract-plugin</code></pre>\n<p>ê·¸ ë‹¤ìŒ <code>webpack.config.js</code> íŒŒì¼ì—ì„œ ë‹¤ìŒ ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•œë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// ìˆ˜ì • ì „</span>\n<span class=\"hljs-attr\">module</span>: {\n        ...commons.module,\n        <span class=\"hljs-attr\">rules</span>: [\n            ...commons.module.rules,\n            <span class=\"hljs-comment\">// CSSë¥¼ ë¹Œë“œì‹œ ë¡œë“œí•˜ë„ë¡ í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. (Node.js í™˜ê²½ì€ ì›¹ë¸Œë¼ìš°ì €ê°€ ì•„ë‹ˆë¯€ë¡œ ìŠ¤íƒ€ì¼ ì£¼ì… ì‹œë„ê°€ ë‹¹ì—°íˆ ì‹¤íŒ¨í•˜ê¸° ë•Œë¬¸ì´ë‹¤.)</span>\n            <span class=\"hljs-comment\">// ë”°ë¼ì„œ cssíŒŒì¼ì€ ì›¹ë¸Œë¼ìš°ì €ë‹¨ì—ì„œ ë¡œë“œë˜ëŠ” ë²ˆë“¤ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ ì£¼ì…ë˜ë„ë¡ </span>\n            <span class=\"hljs-comment\">// src/index.tsx Webpack ì„¤ì •ì—ë§Œ ì¶”ê°€í•œë‹¤.</span>\n            {\n                <span class=\"hljs-attr\">test</span>: <span class=\"hljs-regexp\">/\\.css$/</span>,\n                use: [<span class=\"hljs-string\">&#x27;style-loader&#x27;</span>, <span class=\"hljs-string\">&#x27;css-loader&#x27;</span>, <span class=\"hljs-string\">&#x27;postcss-loader&#x27;</span>]\n            },\n        ]\n    },\n    <span class=\"hljs-attr\">plugins</span>: [\n        ...commons.plugins,\n        <span class=\"hljs-keyword\">new</span> HtmlWebpackPlugin({\n        <span class=\"hljs-attr\">filename</span>: <span class=\"hljs-string\">&#x27;index.html&#x27;</span>,\n        <span class=\"hljs-comment\">// template ì†ì„±ì„ ì¶”ê°€í•œë‹¤.</span>\n        <span class=\"hljs-attr\">template</span>: <span class=\"hljs-string\">&#x27;./src/index.html&#x27;</span>\n    })],</code></pre>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// ìˆ˜ì • í›„</span>\n<span class=\"hljs-attr\">module</span>: {\n        ...commons.module,\n        <span class=\"hljs-attr\">rules</span>: [\n            ...commons.module.rules,\n            <span class=\"hljs-comment\">// CSSë¥¼ ë¹Œë“œì‹œ ë¡œë“œí•˜ë„ë¡ í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. (Node.js í™˜ê²½ì€ ì›¹ë¸Œë¼ìš°ì €ê°€ ì•„ë‹ˆë¯€ë¡œ ìŠ¤íƒ€ì¼ ì£¼ì… ì‹œë„ê°€ ë‹¹ì—°íˆ ì‹¤íŒ¨í•˜ê¸° ë•Œë¬¸ì´ë‹¤.)</span>\n            <span class=\"hljs-comment\">// ë”°ë¼ì„œ cssíŒŒì¼ì€ ì›¹ë¸Œë¼ìš°ì €ë‹¨ì—ì„œ ë¡œë“œë˜ëŠ” ë²ˆë“¤ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ ì£¼ì…ë˜ë„ë¡ </span>\n            <span class=\"hljs-comment\">// src/index.tsx Webpack ì„¤ì •ì—ë§Œ ì¶”ê°€í•œë‹¤.</span>\n            <span class=\"hljs-comment\">// ê·¸ë¦¬ê³  í”„ë¡œë•ì…˜ ë¹Œë“œì‹œì—ëŠ” MiniCssExtractPluginì„ ì´ìš©í•˜ì—¬ jsê°€ ë‹¤ ë¡œë“œë˜ê¸° ì „ì—ëŠ”</span>\n            <span class=\"hljs-comment\">// ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì§€ ì•ŠëŠ” ë²„ê·¸ë¥¼ í•´ê²°í•œë‹¤.</span>\n            {\n                <span class=\"hljs-attr\">test</span>: <span class=\"hljs-regexp\">/\\.css$/</span>,\n                use: [dev ? <span class=\"hljs-string\">&#x27;style-loader&#x27;</span> : MiniCssExtractPlugin.loader, <span class=\"hljs-string\">&#x27;css-loader&#x27;</span>, <span class=\"hljs-string\">&#x27;postcss-loader&#x27;</span>]\n            },\n        ]\n    },\n    <span class=\"hljs-attr\">plugins</span>: [\n        ...commons.plugins,\n        <span class=\"hljs-keyword\">new</span> MiniCssExtractPlugin(),\n        <span class=\"hljs-keyword\">new</span> HtmlWebpackPlugin({\n        <span class=\"hljs-attr\">filename</span>: <span class=\"hljs-string\">&#x27;index.html&#x27;</span>,\n        <span class=\"hljs-comment\">// template ì†ì„±ì„ ì¶”ê°€í•œë‹¤.</span>\n        <span class=\"hljs-attr\">template</span>: <span class=\"hljs-string\">&#x27;./src/index.html&#x27;</span>\n    })],</code></pre>\n<p>ìœ„ì™€ ê°™ì´ ìˆ˜ì •í•œ í›„ ì •ì  ì›¹í˜ì´ì§€ë¥¼ ë¹Œë“œí•˜ë©´ ì´ì œ ìŠ¤í¬ë¦½íŠ¸ê°€ ë¶ˆëŸ¬ì™€ì§€ëŠ”ë™ì•ˆ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ í•´ê²°ëœë‹¤.</p>\n"},"nextPost":{"name":"docker_for_testing","metadata":{"title":"Dockerë¡œ í…ŒìŠ¤íŠ¸í•˜ê¸°","subtitle":"Dockerë¡œ ë¹Œë“œë§Œ í•˜ì§€ ë§ê³  í…ŒìŠ¤íŠ¸ë„ í•˜ì","author":"LiteHell","date":"2023-10-25T14:49:49.041Z","category":"Dev","tags":["Docker"],"last_modified_at":"2024-12-27T13:05:23.710Z"},"rendered":"<h1 id=\"ë“¤ì–´ê°€ëŠ”-ê¸€\">ë“¤ì–´ê°€ëŠ” ê¸€</h1>\n<p>í•„ìëŠ” ì¤‘ì•™ëŒ€í•™êµ ê³µì§€ì‚¬í•­ì„ <a href=\"https://rss.puang.network\">RSS</a>ë¡œ ë§Œë“¤ì–´ì„œ êµ¬ë…í•œë‹¤. RSSë¡œ ë§Œë“  í›„ ë©”ì‹ ì§€ ë´‡ì„ ë¶™ì´ë©´ ì•Œì•„ì„œ ì•Œë ¤ì£¼ë‹ˆ í¸í•˜ë‹¤.</p>\n<p>ê·¸ëŸ¬ë‚˜ ìµœê·¼ í•´ë‹¹ RSS í”„ë¡œê·¸ë¨ì˜ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ëŠ” í˜„ìƒì´ ë°œê²¬ëë‹¤. í™•ì¸í•œ ê²°ê³¼, <a href=\"https://swedu.cau.ac.kr\">ì¤‘ì•™ëŒ€í•™êµ SWêµìœ¡ì›</a> í™ˆí˜ì´ì§€ì˜ TLS ì¸ì¦ì„œ ì´ìŠˆì˜€ë˜ ê²ƒìœ¼ë¡œ í™•ì¸ëë‹¤. ë”°ë¼ì„œ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì¼ë‹¨ ì‹¤í–‰ë˜ê³  ìˆëŠ” Docker ì»¨í…Œì´ë„ˆì— ì§ì ‘ ì ‘ê·¼í•´ì„œ í•´ë‹¹ ì‚¬ì´íŠ¸ì˜ CA ì¸ì¦ì„œë¥¼ ì„¤ì¹˜í–ˆë‹¤.</p>\n<h1 id=\"ê¸°ì¡´-í…ŒìŠ¤íŠ¸-ë°©ë²•ì˜-í•œê³„ì \">ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ë°©ë²•ì˜ í•œê³„ì </h1>\n<p>ë²„ê·¸ëŠ” ì¼ë‹¨ ì„ì‹œë°©í¸ìœ¼ë¡œ ìˆ˜ì •í•œ ê²ƒì´ë‹ˆ ë ˆí¬ì—ëŠ” ë°˜ì˜ë˜ì§€ ì•Šì•˜ë‹¤. ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ë©”ì¼ì´ ë§¤ì¼ë§¤ì¼ ë‚´ ë©”ì¼í•¨ìœ¼ë¡œ ì „ì†¡ëë‹¤.</p>\n<p>ì–´ë–»ê²Œ í•˜ë©´ ì´ ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ê³  ì˜ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì„ê¹Œ? ë¨¼ì € ì´ ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ë ¤ë©´ Dockerfileì„ ìˆ˜ì •í•´ì•¼ í•œë‹¤. Dockerfileì— ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•˜ì—¬ Docker ì´ë¯¸ì§€ ë¹Œë“œì‹œ CA ì¸ì¦ì„œë¥¼ ë³µì‚¬í•˜ë„ë¡ í–ˆë‹¤. <a href=\"https://github.com/LiteHell/cau-rss/commit/d765d53d61e9370f5a284068ed273570d21013a3\">LiteHell/cau-rss ë ˆí¬ì˜ ì»¤ë°‹ 21013a3</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<pre><code class=\"hljs language-Dockerfile\"><span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> swedu-cert.pem /usr/<span class=\"hljs-built_in\">local</span>/share/ca-certificates/swedu-cert.crt</span>\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> cat /usr/<span class=\"hljs-built_in\">local</span>/share/ca-certificates/swedu-cert.crt &gt;&gt; /etc/ssl/certs/ca-certificates.crt</span></code></pre>\n<p>ì´ì œ ìœ„ ë²„ê·¸ ìˆ˜ì •ë„ ê°™ì´ í…ŒìŠ¤íŠ¸í•´ì•¼ í•œë‹¤. ì•„ë˜ì— ìˆëŠ” ê¸°ì¡´ì˜ GitHub Actionìœ¼ë¡œëŠ” ì´ ë²„ê·¸ ìˆ˜ì •ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ì—†ë‹¤. <code>go test -v ./...</code> ëª…ë ¹ì–´ê°€ ë¹Œë“œëœ Docker ì´ë¯¸ì§€ ë‚´ì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<pre><code class=\"hljs language-yaml\">      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Build</span>\n        <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">go</span> <span class=\"hljs-string\">build</span> <span class=\"hljs-string\">-v</span> <span class=\"hljs-string\">./...</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Test</span>\n        <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">go</span> <span class=\"hljs-string\">test</span> <span class=\"hljs-string\">-v</span> <span class=\"hljs-string\">./...</span></code></pre>\n<p>ì–´ë–»ê²Œ í•˜ë©´ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì„ê¹Œ? ë‹µì€ ê°„ë‹¨í•˜ë‹¤. Dockerë¡œ í…ŒìŠ¤íŠ¸ë„ í•˜ë©´ ëœë‹¤.</p>\n<h1 id=\"dockerë¥¼-ì´ìš©í•œ-í…ŒìŠ¤íŠ¸\">Dockerë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸</h1>\n<h2 id=\"multi-stage-ë¹Œë“œ\">Multi-stage ë¹Œë“œ</h2>\n<p>DockerëŠ” ë¹Œë“œë¥¼ ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ì–´ ì§„í–‰í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì˜ˆì‹œ Dockerfileì„ ë³´ì.</p>\n<pre><code class=\"hljs language-Dockerfile\"><span class=\"hljs-keyword\">FROM</span> node AS base\n<span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /app</span>\n<span class=\"hljs-keyword\">ADD</span><span class=\"bash\"> src package.json package-lock.json tsconfig.json .</span>\n\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> npm i</span>\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> npm bulid</span>\n\n<span class=\"hljs-keyword\">CMD</span><span class=\"bash\"> [<span class=\"hljs-string\">&quot;npm&quot;</span>, <span class=\"hljs-string\">&quot;run&quot;</span>, <span class=\"hljs-string\">&quot;start&quot;</span>]</span></code></pre>\n<p>Typescript í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ê°„ë‹¨í•œ Dockerfileì´ë‹¤. ì´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì—¬ëŸ¬ê°œì˜ ë‹¨ê³„(stage)ë¡œ ìª¼ê°¤ ìˆ˜ ìˆë‹¤.</p>\n<pre><code class=\"hljs language-Dockerfile\"><span class=\"hljs-keyword\">FROM</span> node AS base\n<span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /app</span>\n<span class=\"hljs-keyword\">ADD</span><span class=\"bash\"> src package.json package-lock.json tsconfig.json .</span>\n\n<span class=\"hljs-keyword\">FROM</span> base AS deps\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> npm i</span>\n\n<span class=\"hljs-keyword\">FROM</span> deps AS build\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> npm bulid</span>\n\n<span class=\"hljs-keyword\">FROM</span> build AS deployment\n<span class=\"hljs-keyword\">CMD</span><span class=\"bash\"> [<span class=\"hljs-string\">&quot;npm&quot;</span>, <span class=\"hljs-string\">&quot;run&quot;</span>, <span class=\"hljs-string\">&quot;start&quot;</span>]</span>\n</code></pre>\n<p>ìœ„ì™€ ê°™ì€ Dockerfileì„ ì´ìš©í•˜ë©´ Docker ë¹Œë“œì‹œ íŠ¹ì • ìŠ¤í…Œì´ì§€ê¹Œì§€ë§Œ ë¹Œë“œí•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ ëª…ë ¹ì–´ëŠ” deps ìŠ¤í…Œì´ì§€ê¹Œì§€ë§Œ ë¹Œë“œí•œë‹¤.</p>\n<pre><code class=\"hljs language-bash\">docker build --target deps</code></pre>\n<p>ìŠ¤í…Œì´ì§€ê°€ ì§ì„ ì ì´ì—¬ì•¼ í•  í•„ìš”ëŠ” ì—†ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ìŠ¤í…Œì´ì§€ê°€ ì¤‘ê°„ì— ë¶„ê¸°í•˜ë„ë¡ ì‘ì„±í•  ìˆ˜ë„ ìˆë‹¤.</p>\n<pre><code class=\"hljs language-Dockerfile\"><span class=\"hljs-keyword\">FROM</span> node AS base\n<span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /app</span>\n<span class=\"hljs-keyword\">ADD</span><span class=\"bash\"> src package.json package-lock.json tsconfig.json .</span>\n\n<span class=\"hljs-keyword\">FROM</span> base AS deps\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> npm i</span>\n\n<span class=\"hljs-keyword\">FROM</span> deps AS build\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> npm bulid</span>\n\n<span class=\"hljs-keyword\">FROM</span> build AS english\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> english .</span>\n\n<span class=\"hljs-keyword\">FROM</span> english AS deployment-international\n<span class=\"hljs-keyword\">CMD</span><span class=\"bash\"> [<span class=\"hljs-string\">&quot;npm&quot;</span>, <span class=\"hljs-string\">&quot;run&quot;</span>, <span class=\"hljs-string\">&quot;start&quot;</span>, <span class=\"hljs-string\">&quot;--lang=english&quot;</span>]</span>\n\n<span class=\"hljs-keyword\">FROM</span> build AS korean\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> korean .</span>\n\n<span class=\"hljs-keyword\">FROM</span> korean AS deployment-domestic\n<span class=\"hljs-keyword\">CMD</span><span class=\"bash\"> [<span class=\"hljs-string\">&quot;npm&quot;</span>, <span class=\"hljs-string\">&quot;run&quot;</span>, <span class=\"hljs-string\">&quot;start&quot;</span>, <span class=\"hljs-string\">&quot;--lang=korean&quot;</span>]</span></code></pre>\n<p>ìœ„ Dockerfileì˜ ê²½ìš° build ìŠ¤í…Œì´ì§€ì—ì„œ english ìŠ¤í…Œì´ì§€ì™€ korean ìŠ¤í…Œì´ì§€ë¡œ ë¶„ê¸°í•œë‹¤.</p>\n<h3 id=\"buildkit\">BuildKit</h3>\n<pre><code class=\"hljs language-Dockerfile\"><span class=\"hljs-keyword\">FROM</span> node AS base\n<span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /app</span>\n<span class=\"hljs-keyword\">ADD</span><span class=\"bash\"> src package.json package-lock.json tsconfig.json .</span>\n\n<span class=\"hljs-keyword\">FROM</span> base AS deps\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> npm i</span>\n\n<span class=\"hljs-keyword\">FROM</span> deps AS build\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> npm bulid</span>\n\n<span class=\"hljs-keyword\">FROM</span> build AS english\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> english .</span>\n\n<span class=\"hljs-keyword\">FROM</span> english AS deployment-international\n<span class=\"hljs-keyword\">CMD</span><span class=\"bash\"> [<span class=\"hljs-string\">&quot;npm&quot;</span>, <span class=\"hljs-string\">&quot;run&quot;</span>, <span class=\"hljs-string\">&quot;start&quot;</span>, <span class=\"hljs-string\">&quot;--lang=english&quot;</span>]</span>\n\n<span class=\"hljs-keyword\">FROM</span> build AS korean\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> korean .</span>\n\n<span class=\"hljs-keyword\">FROM</span> korean AS deployment-domestic\n<span class=\"hljs-keyword\">CMD</span><span class=\"bash\"> [<span class=\"hljs-string\">&quot;npm&quot;</span>, <span class=\"hljs-string\">&quot;run&quot;</span>, <span class=\"hljs-string\">&quot;start&quot;</span>, <span class=\"hljs-string\">&quot;--lang=korean&quot;</span>]</span></code></pre>\n<p>ìœ„ Dockerfileì„ ê°€ì§€ê³  ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤ê³  ê°€ì •í•´ë³´ì.</p>\n<pre><code class=\"hljs language-bash\">docker build --target deployment-domestic</code></pre>\n<p>ìœ„ ê²½ìš° ë¹Œë“œì— í•„ìš”í•œ ìŠ¤í…Œì´ì§€ëŠ” <code>base</code>, <code>deps</code>, <code>build</code>, <code>korean</code>, <code>deployment-domestic</code>ì´ë‹¤. ê·¸ëŸ¬ë‚˜ ì‹¤ì œë¡œ ìœ„ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ë³´ë©´ ë¶ˆí•„ìš”í•œ <code>english</code>, <code>deployment-international</code> ìŠ¤í…Œì´ì§€ë„ ë¹Œë“œí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì´ëŠ” ë„ì»¤ ë ˆê±°ì‹œ ë¹Œë”ë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ìƒê¸°ëŠ” ë¬¸ì œì´ë‹¤. <a href=\"https://docs.docker.com/build/buildkit/\">Docker BuildKit</a>ì€ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ìŠ¤í…Œì´ì§€ë¥¼ ìë™ìœ¼ë¡œ íŒŒì•…í•˜ì—¬ ë¶ˆí•„ìš”í•œ ìŠ¤í…Œì´ì§€ëŠ” ë¹Œë“œë¥¼ ìƒëµí•œë‹¤. ë”°ë¼ì„œ Docker BuildKitì„ ì„¤ì¹˜í•œ í›„ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ë¹Œë“œí•˜ë©´ í•„ìš”í•œ ìŠ¤í…Œì´ì§€ë§Œ ë¹Œë“œí•  ìˆ˜ ìˆë‹¤.</p>\n<pre><code class=\"hljs language-bash\">DOCKER_BUILDKIT=1 docker build --target deployment-domestic</code></pre>\n<h2 id=\"multi-stage-ë¹Œë“œë¥¼-ì´ìš©í•œ-í…ŒìŠ¤íŠ¸\">Multi-stage ë¹Œë“œë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸</h2>\n<p>ì´ì œ Dockerë¥¼ ì´ìš©í•´ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì. ë‹¤ìŒì€ <a href=\"https://github.com/LiteHell/cau-rss\">cau-rss ë ˆí¬</a>ì˜ Dockerfile ë‚´ìš©ì„ ì•½ê°„ ìˆ˜ì •í•œ ì˜ˆì‹œì´ë‹¤.</p>\n<pre><code class=\"hljs language-Dockerfile\"><span class=\"hljs-keyword\">FROM</span> golang:alpine AS base\n<span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /app</span>\n\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> go.mod go.sum ./</span>\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> go mod download &amp;&amp; go mod verify</span>\n\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> cau_parser ./cau_parser</span>\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> server ./server</span>\n\n<span class=\"hljs-comment\"># To avoid tls error from swedu.cau.ac.kr</span>\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> swedu-cert.pem /usr/<span class=\"hljs-built_in\">local</span>/share/ca-certificates/swedu-cert.crt</span>\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> cat /usr/<span class=\"hljs-built_in\">local</span>/share/ca-certificates/swedu-cert.crt &gt;&gt; /etc/ssl/certs/ca-certificates.crt</span>\n\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> static ./static</span>\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> html ./html</span>\n\n<span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> *.go ./</span>\n\n<span class=\"hljs-keyword\">FROM</span> base AS build\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> go build -v -o ./app ./</span>\n<span class=\"hljs-keyword\">CMD</span><span class=\"bash\"> [<span class=\"hljs-string\">&quot;/app/app&quot;</span>]</span>\n\n<span class=\"hljs-keyword\">FROM</span> base AS test\n<span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> [<span class=\"hljs-string\">&quot;go&quot;</span>, <span class=\"hljs-string\">&quot;test&quot;</span> ,<span class=\"hljs-string\">&quot;-v&quot;</span>, <span class=\"hljs-string\">&quot;./...&quot;</span>]</span>\n</code></pre>\n<p><code>base</code> ìŠ¤í…Œì´ì§€ì—ì„œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•œ ë’¤ ê°ì¢… í•„ìš”í•œ íŒŒì¼ë“¤ì„ ë³µì‚¬í•˜ê³  TLS ì¸ì¦ì„œ ì˜¤ë¥˜ í•´ê²°ì„ ìœ„í•œ CA ì¸ì¦ì„œë¥¼ ë³µì‚¬í•œë‹¤. <code>test</code> ìŠ¤í…Œì´ì§€ëŠ” <code>base</code> ìŠ¤í…Œì´ì§€ì—ì„œ í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” ìŠ¤í…Œì´ì§€ì´ë©°, <code>build</code> ìŠ¤í…Œì´ì§€ëŠ” <code>base</code> ìŠ¤í…Œì´ì§€ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ìŠ¤í…Œì´ì§€ì´ë‹¤.</p>\n<p>ë”°ë¼ì„œ ìœ„ Dockerfileì„ ì´ìš©í•´ <code>build</code> ìŠ¤í…Œì´ì§€ê¹Œì§€ ë¹Œë“œí•˜ë©´ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë©°, <code>test</code> ìŠ¤í…Œì´ì§€ê¹Œì§€ ë¹Œë“œí•˜ë©´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ëª…ë ¹ì–´ë¡œ ë‚˜íƒ€ë‚´ë©´ ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, ìºì‹œë¡œ ì¸í•´ í…ŒìŠ¤íŠ¸ê°€ ì§„í–‰ë˜ì§€ ì•ŠëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ <code>--no-cache</code> ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í–ˆë‹¤.</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-comment\"># Test</span>\nDOCKER_BUILDKIT=1 docker build --no-cache --target <span class=\"hljs-built_in\">test</span> .\n\n<span class=\"hljs-comment\"># Build</span>\nDOCKER_BUILDKIT=1 docker build --target build</code></pre>\n<p>í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ì‹œ Docker ë¹Œë“œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì´ë¥¼ ì‘ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸ ì„±ê³µì‹œ ë¹Œë“œë¥¼ ì§„í–‰í•˜ê³ , ì‹¤íŒ¨ì‹œ ì˜¤ë¥˜ ë©”ì„¸ì§€ë¥¼ ì¶œë ¥í•˜ëŠ” bash ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-built_in\">export</span> DOCKER_BUILDKIT=1\n\ndocker build --no-cache --target <span class=\"hljs-built_in\">test</span> .\ntest_status=$?\n<span class=\"hljs-keyword\">if</span> [ <span class=\"hljs-variable\">$test_status</span> -eq 0 ]; <span class=\"hljs-keyword\">then</span>\n  docker build --taget build . --tag example-application\n<span class=\"hljs-keyword\">else</span>\n  <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&quot;ERROR while testing!&quot;</span>\n<span class=\"hljs-keyword\">fi</span></code></pre>\n<h2 id=\"github-actionì„-ì´ìš©í•œ-í™œìš©\">Github Actionì„ ì´ìš©í•œ í™œìš©</h2>\n<p>GitHub Actionì„ ì´ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ pushì‹œ í…ŒìŠ¤íŠ¸ê°€ ì´ë£¨ì–´ì§€ë„ë¡ í•  ìˆ˜ ìˆë‹¤.</p>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Test</span>\n<span class=\"hljs-attr\">on:</span> <span class=\"hljs-string\">push</span>\n\n<span class=\"hljs-attr\">jobs:</span>\n  <span class=\"hljs-attr\">test:</span>\n    <span class=\"hljs-attr\">runs-on:</span> <span class=\"hljs-string\">ubuntu-latest</span>\n    <span class=\"hljs-attr\">steps:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/checkout@v3</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Set</span> <span class=\"hljs-string\">up</span> <span class=\"hljs-string\">Docker</span> <span class=\"hljs-string\">Buildx</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">docker/setup-buildx-action@v3</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Test</span>\n        <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">docker</span> <span class=\"hljs-string\">build</span> <span class=\"hljs-string\">--no-cache</span> <span class=\"hljs-string\">--target</span> <span class=\"hljs-string\">test</span> <span class=\"hljs-string\">.</span>\n        <span class=\"hljs-attr\">env:</span>\n          <span class=\"hljs-attr\">DOCKER_BUILDKIT:</span> <span class=\"hljs-number\">1</span>\n</code></pre>\n<p>ë¹Œë“œë„ ì˜ ë˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´ ë¹Œë“œí•˜ëŠ” jobì„ í•˜ë‚˜ ë” ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Build</span> <span class=\"hljs-string\">and</span> <span class=\"hljs-string\">test</span>\n<span class=\"hljs-attr\">on:</span> <span class=\"hljs-string\">push</span>\n\n<span class=\"hljs-attr\">jobs:</span>\n  <span class=\"hljs-attr\">build:</span>\n    <span class=\"hljs-attr\">runs-on:</span> <span class=\"hljs-string\">ubuntu-latest</span>\n    <span class=\"hljs-attr\">steps:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/checkout@v3</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Set</span> <span class=\"hljs-string\">up</span> <span class=\"hljs-string\">Docker</span> <span class=\"hljs-string\">Buildx</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">docker/setup-buildx-action@v3</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Build</span>\n        <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">docker</span> <span class=\"hljs-string\">build</span> <span class=\"hljs-string\">--target</span> <span class=\"hljs-string\">build</span> <span class=\"hljs-string\">.</span>\n        <span class=\"hljs-attr\">env:</span>\n          <span class=\"hljs-attr\">DOCKER_BUILDKIT:</span> <span class=\"hljs-number\">1</span>\n\n  <span class=\"hljs-attr\">test:</span>\n    <span class=\"hljs-attr\">runs-on:</span> <span class=\"hljs-string\">ubuntu-latest</span>\n    <span class=\"hljs-attr\">steps:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/checkout@v3</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Set</span> <span class=\"hljs-string\">up</span> <span class=\"hljs-string\">Docker</span> <span class=\"hljs-string\">Buildx</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">docker/setup-buildx-action@v3</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Test</span>\n        <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">docker</span> <span class=\"hljs-string\">build</span> <span class=\"hljs-string\">--no-cache</span> <span class=\"hljs-string\">--target</span> <span class=\"hljs-string\">test</span> <span class=\"hljs-string\">.</span>\n        <span class=\"hljs-attr\">env:</span>\n          <span class=\"hljs-attr\">DOCKER_BUILDKIT:</span> <span class=\"hljs-number\">1</span>\n</code></pre>\n<h1 id=\"ê²°ë¡ \">ê²°ë¡ </h1>\n<p>Docker ì´ë¯¸ì§€ë¡œ ë°°í¬ë¥¼ ì§„í–‰í•˜ëŠ” ê²½ìš°, Dockerë¡œ í…ŒìŠ¤íŠ¸ë„ ê°™ì´ ì§„í–‰í•˜ë©´ ì‹¤ì œ ë°°í¬ í™˜ê²½ê³¼ ìœ ì‚¬í•œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” í° ì¥ì ì´ ìˆë‹¤. ë”°ë¼ì„œ ë³µì¡í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ë©´ ì´ ê¸€ì„ ì°¸ê³ í•´ Dockerë¡œ í…ŒìŠ¤íŠ¸ë„ ê°™ì´ í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ì„ íƒì´ ë  ìˆ˜ ìˆë‹¤.</p>\n"}},"__N_SSG":true}